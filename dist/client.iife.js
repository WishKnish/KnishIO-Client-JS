var KnishIO=function(Xt){"use strict";var A5=Object.defineProperty,T5=Object.defineProperties;var k5=Object.getOwnPropertyDescriptors;var Ab=Object.getOwnPropertySymbols,I5=Object.getPrototypeOf,R5=Object.prototype.hasOwnProperty,C5=Object.prototype.propertyIsEnumerable,O5=Reflect.get;var _r=Math.pow,Tb=(Xt,Sr,mr)=>Sr in Xt?A5(Xt,Sr,{enumerable:!0,configurable:!0,writable:!0,value:mr}):Xt[Sr]=mr,ni=(Xt,Sr)=>{for(var mr in Sr||(Sr={}))R5.call(Sr,mr)&&Tb(Xt,mr,Sr[mr]);if(Ab)for(var mr of Ab(Sr))C5.call(Sr,mr)&&Tb(Xt,mr,Sr[mr]);return Xt},Nh=(Xt,Sr)=>T5(Xt,k5(Sr));var kb=(Xt,Sr,mr)=>O5(I5(Xt),mr,Sr);var wt=(Xt,Sr,mr)=>new Promise((Aa,Pi)=>{var Ta=Ur=>{try{ii(mr.next(Ur))}catch(ht){Pi(ht)}},Mn=Ur=>{try{ii(mr.throw(Ur))}catch(ht){Pi(ht)}},ii=Ur=>Ur.done?Aa(Ur.value):Promise.resolve(Ur.value).then(Ta,Mn);ii((mr=mr.apply(Xt,Sr)).next())});function Sr(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(r,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}const mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Aa="ARRAYBUFFER not supported by this environment",Pi="UINT8ARRAY not supported by this environment";function Ta(r,e,t,n){let a,i,o;const c=e||[0],u=(t=t||0)>>>3,h=n===-1?3:0;for(a=0;a<r.length;a+=1)o=a+u,i=o>>>2,c.length<=i&&c.push(0),c[i]|=r[a]<<8*(h+n*(o%4));return{value:c,binLen:8*r.length+t}}function Mn(r,e,t){switch(e){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw new Error("encoding must be UTF8, UTF16BE, or UTF16LE")}switch(r){case"HEX":return function(n,a,i){return function(o,c,u,h){let f,d,l,y;if(o.length%2!=0)throw new Error("String of HEX type must be in byte increments");const m=c||[0],w=(u=u||0)>>>3,E=h===-1?3:0;for(f=0;f<o.length;f+=2){if(d=parseInt(o.substr(f,2),16),isNaN(d))throw new Error("String of HEX type contains invalid characters");for(y=(f>>>1)+w,l=y>>>2;m.length<=l;)m.push(0);m[l]|=d<<8*(E+h*(y%4))}return{value:m,binLen:4*o.length+u}}(n,a,i,t)};case"TEXT":return function(n,a,i){return function(o,c,u,h,f){let d,l,y,m,w,E,x,P,L=0;const U=u||[0],z=(h=h||0)>>>3;if(c==="UTF8")for(x=f===-1?3:0,y=0;y<o.length;y+=1)for(d=o.charCodeAt(y),l=[],128>d?l.push(d):2048>d?(l.push(192|d>>>6),l.push(128|63&d)):55296>d||57344<=d?l.push(224|d>>>12,128|d>>>6&63,128|63&d):(y+=1,d=65536+((1023&d)<<10|1023&o.charCodeAt(y)),l.push(240|d>>>18,128|d>>>12&63,128|d>>>6&63,128|63&d)),m=0;m<l.length;m+=1){for(E=L+z,w=E>>>2;U.length<=w;)U.push(0);U[w]|=l[m]<<8*(x+f*(E%4)),L+=1}else for(x=f===-1?2:0,P=c==="UTF16LE"&&f!==1||c!=="UTF16LE"&&f===1,y=0;y<o.length;y+=1){for(d=o.charCodeAt(y),P===!0&&(m=255&d,d=m<<8|d>>>8),E=L+z,w=E>>>2;U.length<=w;)U.push(0);U[w]|=d<<8*(x+f*(E%4)),L+=2}return{value:U,binLen:8*L+h}}(n,e,a,i,t)};case"B64":return function(n,a,i){return function(o,c,u,h){let f,d,l,y,m,w,E,x=0;const P=c||[0],L=(u=u||0)>>>3,U=h===-1?3:0,z=o.indexOf("=");if(o.search(/^[a-zA-Z0-9=+/]+$/)===-1)throw new Error("Invalid character in base-64 string");if(o=o.replace(/=/g,""),z!==-1&&z<o.length)throw new Error("Invalid '=' found in base-64 string");for(d=0;d<o.length;d+=4){for(m=o.substr(d,4),y=0,l=0;l<m.length;l+=1)f=mr.indexOf(m.charAt(l)),y|=f<<18-6*l;for(l=0;l<m.length-1;l+=1){for(E=x+L,w=E>>>2;P.length<=w;)P.push(0);P[w]|=(y>>>16-8*l&255)<<8*(U+h*(E%4)),x+=1}}return{value:P,binLen:8*x+u}}(n,a,i,t)};case"BYTES":return function(n,a,i){return function(o,c,u,h){let f,d,l,y;const m=c||[0],w=(u=u||0)>>>3,E=h===-1?3:0;for(d=0;d<o.length;d+=1)f=o.charCodeAt(d),y=d+w,l=y>>>2,m.length<=l&&m.push(0),m[l]|=f<<8*(E+h*(y%4));return{value:m,binLen:8*o.length+u}}(n,a,i,t)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(n){throw new Error(Aa)}return function(n,a,i){return function(o,c,u,h){return Ta(new Uint8Array(o),c,u,h)}(n,a,i,t)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(n){throw new Error(Pi)}return function(n,a,i){return Ta(n,a,i,t)};default:throw new Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}function ii(r,e,t,n){switch(r){case"HEX":return function(a){return function(i,o,c,u){const h="0123456789abcdef";let f,d,l="";const y=o/8,m=c===-1?3:0;for(f=0;f<y;f+=1)d=i[f>>>2]>>>8*(m+c*(f%4)),l+=h.charAt(d>>>4&15)+h.charAt(15&d);return u.outputUpper?l.toUpperCase():l}(a,e,t,n)};case"B64":return function(a){return function(i,o,c,u){let h,f,d,l,y,m="";const w=o/8,E=c===-1?3:0;for(h=0;h<w;h+=3)for(l=h+1<w?i[h+1>>>2]:0,y=h+2<w?i[h+2>>>2]:0,d=(i[h>>>2]>>>8*(E+c*(h%4))&255)<<16|(l>>>8*(E+c*((h+1)%4))&255)<<8|y>>>8*(E+c*((h+2)%4))&255,f=0;f<4;f+=1)m+=8*h+6*f<=o?mr.charAt(d>>>6*(3-f)&63):u.b64Pad;return m}(a,e,t,n)};case"BYTES":return function(a){return function(i,o,c){let u,h,f="";const d=o/8,l=c===-1?3:0;for(u=0;u<d;u+=1)h=i[u>>>2]>>>8*(l+c*(u%4))&255,f+=String.fromCharCode(h);return f}(a,e,t)};case"ARRAYBUFFER":try{new ArrayBuffer(0)}catch(a){throw new Error(Aa)}return function(a){return function(i,o,c){let u;const h=o/8,f=new ArrayBuffer(h),d=new Uint8Array(f),l=c===-1?3:0;for(u=0;u<h;u+=1)d[u]=i[u>>>2]>>>8*(l+c*(u%4))&255;return f}(a,e,t)};case"UINT8ARRAY":try{new Uint8Array(0)}catch(a){throw new Error(Pi)}return function(a){return function(i,o,c){let u;const h=o/8,f=c===-1?3:0,d=new Uint8Array(h);for(u=0;u<h;u+=1)d[u]=i[u>>>2]>>>8*(f+c*(u%4))&255;return d}(a,e,t)};default:throw new Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY")}}const Ur=4294967296,ht=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],vn=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],yn=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Di="Chosen SHA variant is not supported",qh="Cannot set numRounds with MAC";function ka(r,e){let t,n;const a=r.binLen>>>3,i=e.binLen>>>3,o=a<<3,c=4-a<<3;if(a%4!=0){for(t=0;t<i;t+=4)n=a+t>>>2,r.value[n]|=e.value[t>>>2]<<o,r.value.push(0),r.value[n+1]|=e.value[t>>>2]>>>c;return(r.value.length<<2)-4>=i+a&&r.value.pop(),{value:r.value,binLen:r.binLen+e.binLen}}return{value:r.value.concat(e.value),binLen:r.binLen+e.binLen}}function Lh(r){const e={outputUpper:!1,b64Pad:"=",outputLen:-1},t=r||{},n="Output length must be a multiple of 8";if(e.outputUpper=t.outputUpper||!1,t.b64Pad&&(e.b64Pad=t.b64Pad),t.outputLen){if(t.outputLen%8!=0)throw new Error(n);e.outputLen=t.outputLen}else if(t.shakeLen){if(t.shakeLen%8!=0)throw new Error(n);e.outputLen=t.shakeLen}if(typeof e.outputUpper!="boolean")throw new Error("Invalid outputUpper formatting option");if(typeof e.b64Pad!="string")throw new Error("Invalid b64Pad formatting option");return e}function An(r,e,t,n){const a=r+" must include a value and format";if(!e){if(!n)throw new Error(a);return n}if(e.value===void 0||!e.format)throw new Error(a);return Mn(e.format,e.encoding||"UTF8",t)(e.value)}class Ia{constructor(e,t,n){const a=n||{};if(this.t=t,this.i=a.encoding||"UTF8",this.numRounds=a.numRounds||1,isNaN(this.numRounds)||this.numRounds!==parseInt(this.numRounds,10)||1>this.numRounds)throw new Error("numRounds must a integer >= 1");this.o=e,this.h=[],this.u=0,this.l=!1,this.A=0,this.H=!1,this.S=[],this.p=[]}update(e){let t,n=0;const a=this.m>>>5,i=this.C(e,this.h,this.u),o=i.binLen,c=i.value,u=o>>>5;for(t=0;t<u;t+=a)n+this.m<=o&&(this.U=this.v(c.slice(t,t+a),this.U),n+=this.m);return this.A+=n,this.h=c.slice(n>>>5),this.u=o%this.m,this.l=!0,this}getHash(e,t){let n,a,i=this.R;const o=Lh(t);if(this.K){if(o.outputLen===-1)throw new Error("Output length must be specified in options");i=o.outputLen}const c=ii(e,i,this.T,o);if(this.H&&this.g)return c(this.g(o));for(a=this.F(this.h.slice(),this.u,this.A,this.L(this.U),i),n=1;n<this.numRounds;n+=1)this.K&&i%32!=0&&(a[a.length-1]&=16777215>>>24-i%32),a=this.F(a,i,0,this.B(this.o),i);return c(a)}setHMACKey(e,t,n){if(!this.M)throw new Error("Variant does not support HMAC");if(this.l)throw new Error("Cannot set MAC key after calling update");const a=Mn(t,(n||{}).encoding||"UTF8",this.T);this.k(a(e))}k(e){const t=this.m>>>3,n=t/4-1;let a;if(this.numRounds!==1)throw new Error(qh);if(this.H)throw new Error("MAC key already set");for(t<e.binLen/8&&(e.value=this.F(e.value,e.binLen,0,this.B(this.o),this.R));e.value.length<=n;)e.value.push(0);for(a=0;a<=n;a+=1)this.S[a]=909522486^e.value[a],this.p[a]=1549556828^e.value[a];this.U=this.v(this.S,this.U),this.A=this.m,this.H=!0}getHMAC(e,t){const n=Lh(t);return ii(e,this.R,this.T,n)(this.Y())}Y(){let e;if(!this.H)throw new Error("Cannot call getHMAC without first setting MAC key");const t=this.F(this.h.slice(),this.u,this.A,this.L(this.U),this.R);return e=this.v(this.p,this.B(this.o)),e=this.F(t,this.R,this.m,e,this.R),e}}function ai(r,e){return r<<e|r>>>32-e}function nn(r,e){return r>>>e|r<<32-e}function Fh(r,e){return r>>>e}function Uh(r,e,t){return r^e^t}function jh(r,e,t){return r&e^~r&t}function $h(r,e,t){return r&e^r&t^e&t}function Rb(r){return nn(r,2)^nn(r,13)^nn(r,22)}function Br(r,e){const t=(65535&r)+(65535&e);return(65535&(r>>>16)+(e>>>16)+(t>>>16))<<16|65535&t}function Cb(r,e,t,n){const a=(65535&r)+(65535&e)+(65535&t)+(65535&n);return(65535&(r>>>16)+(e>>>16)+(t>>>16)+(n>>>16)+(a>>>16))<<16|65535&a}function Ni(r,e,t,n,a){const i=(65535&r)+(65535&e)+(65535&t)+(65535&n)+(65535&a);return(65535&(r>>>16)+(e>>>16)+(t>>>16)+(n>>>16)+(a>>>16)+(i>>>16))<<16|65535&i}function Ob(r){return nn(r,7)^nn(r,18)^Fh(r,3)}function Bb(r){return nn(r,6)^nn(r,11)^nn(r,25)}function Pb(r){return[1732584193,4023233417,2562383102,271733878,3285377520]}function Hh(r,e){let t,n,a,i,o,c,u;const h=[];for(t=e[0],n=e[1],a=e[2],i=e[3],o=e[4],u=0;u<80;u+=1)h[u]=u<16?r[u]:ai(h[u-3]^h[u-8]^h[u-14]^h[u-16],1),c=u<20?Ni(ai(t,5),jh(n,a,i),o,1518500249,h[u]):u<40?Ni(ai(t,5),Uh(n,a,i),o,1859775393,h[u]):u<60?Ni(ai(t,5),$h(n,a,i),o,2400959708,h[u]):Ni(ai(t,5),Uh(n,a,i),o,3395469782,h[u]),o=i,i=a,a=ai(n,30),n=t,t=c;return e[0]=Br(t,e[0]),e[1]=Br(n,e[1]),e[2]=Br(a,e[2]),e[3]=Br(i,e[3]),e[4]=Br(o,e[4]),e}function Db(r,e,t,n){let a;const i=15+(e+65>>>9<<4),o=e+t;for(;r.length<=i;)r.push(0);for(r[e>>>5]|=128<<24-e%32,r[i]=4294967295&o,r[i-1]=o/Ur|0,a=0;a<r.length;a+=16)n=Hh(r.slice(a,a+16),n);return n}let Nb=class extends Ia{constructor(r,e,t){if(r!=="SHA-1")throw new Error(Di);super(r,e,t);const n=t||{};this.M=!0,this.g=this.Y,this.T=-1,this.C=Mn(this.t,this.i,this.T),this.v=Hh,this.L=function(a){return a.slice()},this.B=Pb,this.F=Db,this.U=[1732584193,4023233417,2562383102,271733878,3285377520],this.m=512,this.R=160,this.K=!1,n.hmacKey&&this.k(An("hmacKey",n.hmacKey,this.T))}};function zh(r){let e;return e=r=="SHA-224"?vn.slice():yn.slice(),e}function Vh(r,e){let t,n,a,i,o,c,u,h,f,d,l;const y=[];for(t=e[0],n=e[1],a=e[2],i=e[3],o=e[4],c=e[5],u=e[6],h=e[7],l=0;l<64;l+=1)y[l]=l<16?r[l]:Cb(nn(m=y[l-2],17)^nn(m,19)^Fh(m,10),y[l-7],Ob(y[l-15]),y[l-16]),f=Ni(h,Bb(o),jh(o,c,u),ht[l],y[l]),d=Br(Rb(t),$h(t,n,a)),h=u,u=c,c=o,o=Br(i,f),i=a,a=n,n=t,t=Br(f,d);var m;return e[0]=Br(t,e[0]),e[1]=Br(n,e[1]),e[2]=Br(a,e[2]),e[3]=Br(i,e[3]),e[4]=Br(o,e[4]),e[5]=Br(c,e[5]),e[6]=Br(u,e[6]),e[7]=Br(h,e[7]),e}let qb=class extends Ia{constructor(r,e,t){if(r!=="SHA-224"&&r!=="SHA-256")throw new Error(Di);super(r,e,t);const n=t||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=Mn(this.t,this.i,this.T),this.v=Vh,this.L=function(a){return a.slice()},this.B=zh,this.F=function(a,i,o,c){return function(u,h,f,d,l){let y,m;const w=15+(h+65>>>9<<4),E=h+f;for(;u.length<=w;)u.push(0);for(u[h>>>5]|=128<<24-h%32,u[w]=4294967295&E,u[w-1]=E/Ur|0,y=0;y<u.length;y+=16)d=Vh(u.slice(y,y+16),d);return m=l==="SHA-224"?[d[0],d[1],d[2],d[3],d[4],d[5],d[6]]:d,m}(a,i,o,c,r)},this.U=zh(r),this.m=512,this.R=r==="SHA-224"?224:256,this.K=!1,n.hmacKey&&this.k(An("hmacKey",n.hmacKey,this.T))}};class xe{constructor(e,t){this.N=e,this.I=t}}function Wh(r,e){let t;return e>32?(t=64-e,new xe(r.I<<e|r.N>>>t,r.N<<e|r.I>>>t)):e!==0?(t=32-e,new xe(r.N<<e|r.I>>>t,r.I<<e|r.N>>>t)):r}function an(r,e){let t;return e<32?(t=32-e,new xe(r.N>>>e|r.I<<t,r.I>>>e|r.N<<t)):(t=64-e,new xe(r.I>>>e|r.N<<t,r.N>>>e|r.I<<t))}function Kh(r,e){return new xe(r.N>>>e,r.I>>>e|r.N<<32-e)}function Lb(r,e,t){return new xe(r.N&e.N^r.N&t.N^e.N&t.N,r.I&e.I^r.I&t.I^e.I&t.I)}function Fb(r){const e=an(r,28),t=an(r,34),n=an(r,39);return new xe(e.N^t.N^n.N,e.I^t.I^n.I)}function Jr(r,e){let t,n;t=(65535&r.I)+(65535&e.I),n=(r.I>>>16)+(e.I>>>16)+(t>>>16);const a=(65535&n)<<16|65535&t;return t=(65535&r.N)+(65535&e.N)+(n>>>16),n=(r.N>>>16)+(e.N>>>16)+(t>>>16),new xe((65535&n)<<16|65535&t,a)}function Ub(r,e,t,n){let a,i;a=(65535&r.I)+(65535&e.I)+(65535&t.I)+(65535&n.I),i=(r.I>>>16)+(e.I>>>16)+(t.I>>>16)+(n.I>>>16)+(a>>>16);const o=(65535&i)<<16|65535&a;return a=(65535&r.N)+(65535&e.N)+(65535&t.N)+(65535&n.N)+(i>>>16),i=(r.N>>>16)+(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(a>>>16),new xe((65535&i)<<16|65535&a,o)}function jb(r,e,t,n,a){let i,o;i=(65535&r.I)+(65535&e.I)+(65535&t.I)+(65535&n.I)+(65535&a.I),o=(r.I>>>16)+(e.I>>>16)+(t.I>>>16)+(n.I>>>16)+(a.I>>>16)+(i>>>16);const c=(65535&o)<<16|65535&i;return i=(65535&r.N)+(65535&e.N)+(65535&t.N)+(65535&n.N)+(65535&a.N)+(o>>>16),o=(r.N>>>16)+(e.N>>>16)+(t.N>>>16)+(n.N>>>16)+(a.N>>>16)+(i>>>16),new xe((65535&o)<<16|65535&i,c)}function qi(r,e){return new xe(r.N^e.N,r.I^e.I)}function $b(r){const e=an(r,19),t=an(r,61),n=Kh(r,6);return new xe(e.N^t.N^n.N,e.I^t.I^n.I)}function Hb(r){const e=an(r,1),t=an(r,8),n=Kh(r,7);return new xe(e.N^t.N^n.N,e.I^t.I^n.I)}function zb(r){const e=an(r,14),t=an(r,18),n=an(r,41);return new xe(e.N^t.N^n.N,e.I^t.I^n.I)}const Vb=[new xe(ht[0],3609767458),new xe(ht[1],602891725),new xe(ht[2],3964484399),new xe(ht[3],2173295548),new xe(ht[4],4081628472),new xe(ht[5],3053834265),new xe(ht[6],2937671579),new xe(ht[7],3664609560),new xe(ht[8],2734883394),new xe(ht[9],1164996542),new xe(ht[10],1323610764),new xe(ht[11],3590304994),new xe(ht[12],4068182383),new xe(ht[13],991336113),new xe(ht[14],633803317),new xe(ht[15],3479774868),new xe(ht[16],2666613458),new xe(ht[17],944711139),new xe(ht[18],2341262773),new xe(ht[19],2007800933),new xe(ht[20],1495990901),new xe(ht[21],1856431235),new xe(ht[22],3175218132),new xe(ht[23],2198950837),new xe(ht[24],3999719339),new xe(ht[25],766784016),new xe(ht[26],2566594879),new xe(ht[27],3203337956),new xe(ht[28],1034457026),new xe(ht[29],2466948901),new xe(ht[30],3758326383),new xe(ht[31],168717936),new xe(ht[32],1188179964),new xe(ht[33],1546045734),new xe(ht[34],1522805485),new xe(ht[35],2643833823),new xe(ht[36],2343527390),new xe(ht[37],1014477480),new xe(ht[38],1206759142),new xe(ht[39],344077627),new xe(ht[40],1290863460),new xe(ht[41],3158454273),new xe(ht[42],3505952657),new xe(ht[43],106217008),new xe(ht[44],3606008344),new xe(ht[45],1432725776),new xe(ht[46],1467031594),new xe(ht[47],851169720),new xe(ht[48],3100823752),new xe(ht[49],1363258195),new xe(ht[50],3750685593),new xe(ht[51],3785050280),new xe(ht[52],3318307427),new xe(ht[53],3812723403),new xe(ht[54],2003034995),new xe(ht[55],3602036899),new xe(ht[56],1575990012),new xe(ht[57],1125592928),new xe(ht[58],2716904306),new xe(ht[59],442776044),new xe(ht[60],593698344),new xe(ht[61],3733110249),new xe(ht[62],2999351573),new xe(ht[63],3815920427),new xe(3391569614,3928383900),new xe(3515267271,566280711),new xe(3940187606,3454069534),new xe(4118630271,4000239992),new xe(116418474,1914138554),new xe(174292421,2731055270),new xe(289380356,3203993006),new xe(460393269,320620315),new xe(685471733,587496836),new xe(852142971,1086792851),new xe(1017036298,365543100),new xe(1126000580,2618297676),new xe(1288033470,3409855158),new xe(1501505948,4234509866),new xe(1607167915,987167468),new xe(1816402316,1246189591)];function Qh(r){return r==="SHA-384"?[new xe(3418070365,vn[0]),new xe(1654270250,vn[1]),new xe(2438529370,vn[2]),new xe(355462360,vn[3]),new xe(1731405415,vn[4]),new xe(41048885895,vn[5]),new xe(3675008525,vn[6]),new xe(1203062813,vn[7])]:[new xe(yn[0],4089235720),new xe(yn[1],2227873595),new xe(yn[2],4271175723),new xe(yn[3],1595750129),new xe(yn[4],2917565137),new xe(yn[5],725511199),new xe(yn[6],4215389547),new xe(yn[7],327033209)]}function Gh(r,e){let t,n,a,i,o,c,u,h,f,d,l,y;const m=[];for(t=e[0],n=e[1],a=e[2],i=e[3],o=e[4],c=e[5],u=e[6],h=e[7],l=0;l<80;l+=1)l<16?(y=2*l,m[l]=new xe(r[y],r[y+1])):m[l]=Ub($b(m[l-2]),m[l-7],Hb(m[l-15]),m[l-16]),f=jb(h,zb(o),(E=c,x=u,new xe((w=o).N&E.N^~w.N&x.N,w.I&E.I^~w.I&x.I)),Vb[l],m[l]),d=Jr(Fb(t),Lb(t,n,a)),h=u,u=c,c=o,o=Jr(i,f),i=a,a=n,n=t,t=Jr(f,d);var w,E,x;return e[0]=Jr(t,e[0]),e[1]=Jr(n,e[1]),e[2]=Jr(a,e[2]),e[3]=Jr(i,e[3]),e[4]=Jr(o,e[4]),e[5]=Jr(c,e[5]),e[6]=Jr(u,e[6]),e[7]=Jr(h,e[7]),e}let Wb=class extends Ia{constructor(r,e,t){if(r!=="SHA-384"&&r!=="SHA-512")throw new Error(Di);super(r,e,t);const n=t||{};this.g=this.Y,this.M=!0,this.T=-1,this.C=Mn(this.t,this.i,this.T),this.v=Gh,this.L=function(a){return a.slice()},this.B=Qh,this.F=function(a,i,o,c){return function(u,h,f,d,l){let y,m;const w=31+(h+129>>>10<<5),E=h+f;for(;u.length<=w;)u.push(0);for(u[h>>>5]|=128<<24-h%32,u[w]=4294967295&E,u[w-1]=E/Ur|0,y=0;y<u.length;y+=32)d=Gh(u.slice(y,y+32),d);return m=l==="SHA-384"?[d[0].N,d[0].I,d[1].N,d[1].I,d[2].N,d[2].I,d[3].N,d[3].I,d[4].N,d[4].I,d[5].N,d[5].I]:[d[0].N,d[0].I,d[1].N,d[1].I,d[2].N,d[2].I,d[3].N,d[3].I,d[4].N,d[4].I,d[5].N,d[5].I,d[6].N,d[6].I,d[7].N,d[7].I],m}(a,i,o,c,r)},this.U=Qh(r),this.m=1024,this.R=r==="SHA-384"?384:512,this.K=!1,n.hmacKey&&this.k(An("hmacKey",n.hmacKey,this.T))}};const Kb=[new xe(0,1),new xe(0,32898),new xe(2147483648,32906),new xe(2147483648,2147516416),new xe(0,32907),new xe(0,2147483649),new xe(2147483648,2147516545),new xe(2147483648,32777),new xe(0,138),new xe(0,136),new xe(0,2147516425),new xe(0,2147483658),new xe(0,2147516555),new xe(2147483648,139),new xe(2147483648,32905),new xe(2147483648,32771),new xe(2147483648,32770),new xe(2147483648,128),new xe(0,32778),new xe(2147483648,2147483658),new xe(2147483648,2147516545),new xe(2147483648,32896),new xe(0,2147483649),new xe(2147483648,2147516424)],Qb=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];function $o(r){let e;const t=[];for(e=0;e<5;e+=1)t[e]=[new xe(0,0),new xe(0,0),new xe(0,0),new xe(0,0),new xe(0,0)];return t}function Gb(r){let e;const t=[];for(e=0;e<5;e+=1)t[e]=r[e].slice();return t}function Ra(r,e){let t,n,a,i;const o=[],c=[];if(r!==null)for(n=0;n<r.length;n+=2)e[(n>>>1)%5][(n>>>1)/5|0]=qi(e[(n>>>1)%5][(n>>>1)/5|0],new xe(r[n+1],r[n]));for(t=0;t<24;t+=1){for(i=$o(),n=0;n<5;n+=1)o[n]=(u=e[n][0],h=e[n][1],f=e[n][2],d=e[n][3],l=e[n][4],new xe(u.N^h.N^f.N^d.N^l.N,u.I^h.I^f.I^d.I^l.I));for(n=0;n<5;n+=1)c[n]=qi(o[(n+4)%5],Wh(o[(n+1)%5],1));for(n=0;n<5;n+=1)for(a=0;a<5;a+=1)e[n][a]=qi(e[n][a],c[n]);for(n=0;n<5;n+=1)for(a=0;a<5;a+=1)i[a][(2*n+3*a)%5]=Wh(e[n][a],Qb[n][a]);for(n=0;n<5;n+=1)for(a=0;a<5;a+=1)e[n][a]=qi(i[n][a],new xe(~i[(n+1)%5][a].N&i[(n+2)%5][a].N,~i[(n+1)%5][a].I&i[(n+2)%5][a].I));e[0][0]=qi(e[0][0],Kb[t])}var u,h,f,d,l;return e}function Jh(r){let e,t,n=0;const a=[0,0],i=[4294967295&r,r/Ur&2097151];for(e=6;e>=0;e--)t=i[e>>2]>>>8*e&255,t===0&&n===0||(a[n+1>>2]|=t<<8*(n+1),n+=1);return n=n!==0?n:1,a[0]|=n,{value:n+1>4?a:[a[0]],binLen:8+8*n}}function Ho(r){return ka(Jh(r.binLen),r)}function Yh(r,e){let t,n=Jh(e);n=ka(n,r);const a=e>>>2,i=(a-n.value.length%a)%a;for(t=0;t<i;t++)n.value.push(0);return n.value}let Jb=class extends Ia{constructor(r,e,t){let n=6,a=0;super(r,e,t);const i=t||{};if(this.numRounds!==1){if(i.kmacKey||i.hmacKey)throw new Error(qh);if(this.o==="CSHAKE128"||this.o==="CSHAKE256")throw new Error("Cannot set numRounds for CSHAKE variants")}switch(this.T=1,this.C=Mn(this.t,this.i,this.T),this.v=Ra,this.L=Gb,this.B=$o,this.U=$o(),this.K=!1,r){case"SHA3-224":this.m=a=1152,this.R=224,this.M=!0,this.g=this.Y;break;case"SHA3-256":this.m=a=1088,this.R=256,this.M=!0,this.g=this.Y;break;case"SHA3-384":this.m=a=832,this.R=384,this.M=!0,this.g=this.Y;break;case"SHA3-512":this.m=a=576,this.R=512,this.M=!0,this.g=this.Y;break;case"SHAKE128":n=31,this.m=a=1344,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"SHAKE256":n=31,this.m=a=1088,this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"KMAC128":n=4,this.m=a=1344,this.X(t),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"KMAC256":n=4,this.m=a=1088,this.X(t),this.R=-1,this.K=!0,this.M=!1,this.g=this._;break;case"CSHAKE128":this.m=a=1344,n=this.O(t),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;case"CSHAKE256":this.m=a=1088,n=this.O(t),this.R=-1,this.K=!0,this.M=!1,this.g=null;break;default:throw new Error(Di)}this.F=function(o,c,u,h,f){return function(d,l,y,m,w,E,x){let P,L,U=0;const z=[],W=w>>>5,re=l>>>5;for(P=0;P<re&&l>=w;P+=W)m=Ra(d.slice(P,P+W),m),l-=w;for(d=d.slice(P),l%=w;d.length<W;)d.push(0);for(P=l>>>3,d[P>>2]^=E<<P%4*8,d[W-1]^=2147483648,m=Ra(d,m);32*z.length<x&&(L=m[U%5][U/5|0],z.push(L.I),!(32*z.length>=x));)z.push(L.N),U+=1,64*U%w==0&&(Ra(null,m),U=0);return z}(o,c,0,h,a,n,f)},i.hmacKey&&this.k(An("hmacKey",i.hmacKey,this.T))}O(r,e){const t=function(a){const i=a||{};return{funcName:An("funcName",i.funcName,1,{value:[],binLen:0}),customization:An("Customization",i.customization,1,{value:[],binLen:0})}}(r||{});e&&(t.funcName=e);const n=ka(Ho(t.funcName),Ho(t.customization));if(t.customization.binLen!==0||t.funcName.binLen!==0){const a=Yh(n,this.m>>>3);for(let i=0;i<a.length;i+=this.m>>>5)this.U=this.v(a.slice(i,i+(this.m>>>5)),this.U),this.A+=this.m;return 4}return 31}X(r){const e=function(n){const a=n||{};return{kmacKey:An("kmacKey",a.kmacKey,1),funcName:{value:[1128353099],binLen:32},customization:An("Customization",a.customization,1,{value:[],binLen:0})}}(r||{});this.O(r,e.funcName);const t=Yh(Ho(e.kmacKey),this.m>>>3);for(let n=0;n<t.length;n+=this.m>>>5)this.U=this.v(t.slice(n,n+(this.m>>>5)),this.U),this.A+=this.m;this.H=!0}_(r){const e=ka({value:this.h.slice(),binLen:this.u},function(t){let n,a,i=0;const o=[0,0],c=[4294967295&t,t/Ur&2097151];for(n=6;n>=0;n--)a=c[n>>2]>>>8*n&255,a===0&&i===0||(o[i>>2]|=a<<8*i,i+=1);return i=i!==0?i:1,o[i>>2]|=i<<8*i,{value:i+1>4?o:[o[0]],binLen:8+8*i}}(r.outputLen));return this.F(e.value,e.binLen,this.A,this.L(this.U),r.outputLen)}};class qr{constructor(e,t,n){if(e=="SHA-1")this.P=new Nb(e,t,n);else if(e=="SHA-224"||e=="SHA-256")this.P=new qb(e,t,n);else if(e=="SHA-384"||e=="SHA-512")this.P=new Wb(e,t,n);else{if(e!="SHA3-224"&&e!="SHA3-256"&&e!="SHA3-384"&&e!="SHA3-512"&&e!="SHAKE128"&&e!="SHAKE256"&&e!="CSHAKE128"&&e!="CSHAKE256"&&e!="KMAC128"&&e!="KMAC256")throw new Error(Di);this.P=new Jb(e,t,n)}}update(e){return this.P.update(e),this}getHash(e,t){return this.P.getHash(e,t)}setHMACKey(e,t,n){this.P.setHMACKey(e,t,n)}getHMAC(e,t){return this.P.getHMAC(e,t)}}var zo={},Ca={};Ca.byteLength=Zb,Ca.toByteArray=tm,Ca.fromByteArray=im;for(var on=[],Hr=[],Yb=typeof Uint8Array!="undefined"?Uint8Array:Array,Vo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oi=0,Xb=Vo.length;oi<Xb;++oi)on[oi]=Vo[oi],Hr[Vo.charCodeAt(oi)]=oi;Hr[45]=62,Hr[95]=63;function Xh(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function Zb(r){var e=Xh(r),t=e[0],n=e[1];return(t+n)*3/4-n}function em(r,e,t){return(e+t)*3/4-t}function tm(r){var e,t=Xh(r),n=t[0],a=t[1],i=new Yb(em(r,n,a)),o=0,c=a>0?n-4:n,u;for(u=0;u<c;u+=4)e=Hr[r.charCodeAt(u)]<<18|Hr[r.charCodeAt(u+1)]<<12|Hr[r.charCodeAt(u+2)]<<6|Hr[r.charCodeAt(u+3)],i[o++]=e>>16&255,i[o++]=e>>8&255,i[o++]=e&255;return a===2&&(e=Hr[r.charCodeAt(u)]<<2|Hr[r.charCodeAt(u+1)]>>4,i[o++]=e&255),a===1&&(e=Hr[r.charCodeAt(u)]<<10|Hr[r.charCodeAt(u+1)]<<4|Hr[r.charCodeAt(u+2)]>>2,i[o++]=e>>8&255,i[o++]=e&255),i}function rm(r){return on[r>>18&63]+on[r>>12&63]+on[r>>6&63]+on[r&63]}function nm(r,e,t){for(var n,a=[],i=e;i<t;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),a.push(rm(n));return a.join("")}function im(r){for(var e,t=r.length,n=t%3,a=[],i=16383,o=0,c=t-n;o<c;o+=i)a.push(nm(r,o,o+i>c?c:o+i));return n===1?(e=r[t-1],a.push(on[e>>2]+on[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],a.push(on[e>>10]+on[e>>4&63]+on[e<<2&63]+"=")),a.join("")}var Wo={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Wo.read=function(r,e,t,n,a){var i,o,c=a*8-n-1,u=(1<<c)-1,h=u>>1,f=-7,d=t?a-1:0,l=t?-1:1,y=r[e+d];for(d+=l,i=y&(1<<-f)-1,y>>=-f,f+=c;f>0;i=i*256+r[e+d],d+=l,f-=8);for(o=i&(1<<-f)-1,i>>=-f,f+=n;f>0;o=o*256+r[e+d],d+=l,f-=8);if(i===0)i=1-h;else{if(i===u)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-h}return(y?-1:1)*o*Math.pow(2,i-n)},Wo.write=function(r,e,t,n,a,i){var o,c,u,h=i*8-a-1,f=(1<<h)-1,d=f>>1,l=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:i-1,m=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+d>=1?e+=l/u:e+=l*Math.pow(2,1-d),e*u>=2&&(o++,u/=2),o+d>=f?(c=0,o=f):o+d>=1?(c=(e*u-1)*Math.pow(2,a),o=o+d):(c=e*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;r[t+y]=c&255,y+=m,c/=256,a-=8);for(o=o<<a|c,h+=a;h>0;r[t+y]=o&255,y+=m,o/=256,h-=8);r[t+y-m]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=Ca,t=Wo,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=f,r.SlowBuffer=z,r.INSPECT_MAX_BYTES=50;const a=2147483647;r.kMaxLength=a;const{Uint8Array:i,ArrayBuffer:o,SharedArrayBuffer:c}=globalThis;f.TYPED_ARRAY_SUPPORT=u(),!f.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const K=new i(1),q={foo:function(){return 42}};return Object.setPrototypeOf(q,i.prototype),Object.setPrototypeOf(K,q),K.foo()===42}catch(K){return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function h(K){if(K>a)throw new RangeError('The value "'+K+'" is invalid for option "size"');const q=new i(K);return Object.setPrototypeOf(q,f.prototype),q}function f(K,q,F){if(typeof K=="number"){if(typeof q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(K)}return d(K,q,F)}f.poolSize=8192;function d(K,q,F){if(typeof K=="string")return w(K,q);if(o.isView(K))return x(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(Mt(K,o)||K&&Mt(K.buffer,o)||typeof c!="undefined"&&(Mt(K,c)||K&&Mt(K.buffer,c)))return P(K,q,F);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=K.valueOf&&K.valueOf();if(J!=null&&J!==K)return f.from(J,q,F);const he=L(K);if(he)return he;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return f.from(K[Symbol.toPrimitive]("string"),q,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}f.from=function(K,q,F){return d(K,q,F)},Object.setPrototypeOf(f.prototype,i.prototype),Object.setPrototypeOf(f,i);function l(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function y(K,q,F){return l(K),K<=0?h(K):q!==void 0?typeof F=="string"?h(K).fill(q,F):h(K).fill(q):h(K)}f.alloc=function(K,q,F){return y(K,q,F)};function m(K){return l(K),h(K<0?0:U(K)|0)}f.allocUnsafe=function(K){return m(K)},f.allocUnsafeSlow=function(K){return m(K)};function w(K,q){if((typeof q!="string"||q==="")&&(q="utf8"),!f.isEncoding(q))throw new TypeError("Unknown encoding: "+q);const F=W(K,q)|0;let J=h(F);const he=J.write(K,q);return he!==F&&(J=J.slice(0,he)),J}function E(K){const q=K.length<0?0:U(K.length)|0,F=h(q);for(let J=0;J<q;J+=1)F[J]=K[J]&255;return F}function x(K){if(Mt(K,i)){const q=new i(K);return P(q.buffer,q.byteOffset,q.byteLength)}return E(K)}function P(K,q,F){if(q<0||K.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<q+(F||0))throw new RangeError('"length" is outside of buffer bounds');let J;return q===void 0&&F===void 0?J=new i(K):F===void 0?J=new i(K,q):J=new i(K,q,F),Object.setPrototypeOf(J,f.prototype),J}function L(K){if(f.isBuffer(K)){const q=U(K.length)|0,F=h(q);return F.length===0||K.copy(F,0,0,q),F}if(K.length!==void 0)return typeof K.length!="number"||dt(K.length)?h(0):E(K);if(K.type==="Buffer"&&Array.isArray(K.data))return E(K.data)}function U(K){if(K>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return K|0}function z(K){return+K!=K&&(K=0),f.alloc(+K)}f.isBuffer=function(q){return q!=null&&q._isBuffer===!0&&q!==f.prototype},f.compare=function(q,F){if(Mt(q,i)&&(q=f.from(q,q.offset,q.byteLength)),Mt(F,i)&&(F=f.from(F,F.offset,F.byteLength)),!f.isBuffer(q)||!f.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===F)return 0;let J=q.length,he=F.length;for(let de=0,pe=Math.min(J,he);de<pe;++de)if(q[de]!==F[de]){J=q[de],he=F[de];break}return J<he?-1:he<J?1:0},f.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(q,F){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return f.alloc(0);let J;if(F===void 0)for(F=0,J=0;J<q.length;++J)F+=q[J].length;const he=f.allocUnsafe(F);let de=0;for(J=0;J<q.length;++J){let pe=q[J];if(Mt(pe,i))de+pe.length>he.length?(f.isBuffer(pe)||(pe=f.from(pe)),pe.copy(he,de)):i.prototype.set.call(he,pe,de);else if(f.isBuffer(pe))pe.copy(he,de);else throw new TypeError('"list" argument must be an Array of Buffers');de+=pe.length}return he};function W(K,q){if(f.isBuffer(K))return K.length;if(o.isView(K)||Mt(K,o))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const F=K.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&F===0)return 0;let he=!1;for(;;)switch(q){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return lt(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return ot(K).length;default:if(he)return J?-1:lt(K).length;q=(""+q).toLowerCase(),he=!0}}f.byteLength=W;function re(K,q,F){let J=!1;if((q===void 0||q<0)&&(q=0),q>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,q>>>=0,F<=q))return"";for(K||(K="utf8");;)switch(K){case"hex":return p(this,q,F);case"utf8":case"utf-8":return A(this,q,F);case"ascii":return S(this,q,F);case"latin1":case"binary":return T(this,q,F);case"base64":return g(this,q,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,q,F);default:if(J)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),J=!0}}f.prototype._isBuffer=!0;function ie(K,q,F){const J=K[q];K[q]=K[F],K[F]=J}f.prototype.swap16=function(){const q=this.length;if(q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<q;F+=2)ie(this,F,F+1);return this},f.prototype.swap32=function(){const q=this.length;if(q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<q;F+=4)ie(this,F,F+3),ie(this,F+1,F+2);return this},f.prototype.swap64=function(){const q=this.length;if(q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<q;F+=8)ie(this,F,F+7),ie(this,F+1,F+6),ie(this,F+2,F+5),ie(this,F+3,F+4);return this},f.prototype.toString=function(){const q=this.length;return q===0?"":arguments.length===0?A(this,0,q):re.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(q){if(!f.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:f.compare(this,q)===0},f.prototype.inspect=function(){let q="";const F=r.INSPECT_MAX_BYTES;return q=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(q+=" ... "),"<Buffer "+q+">"},n&&(f.prototype[n]=f.prototype.inspect),f.prototype.compare=function(q,F,J,he,de){if(Mt(q,i)&&(q=f.from(q,q.offset,q.byteLength)),!f.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(F===void 0&&(F=0),J===void 0&&(J=q?q.length:0),he===void 0&&(he=0),de===void 0&&(de=this.length),F<0||J>q.length||he<0||de>this.length)throw new RangeError("out of range index");if(he>=de&&F>=J)return 0;if(he>=de)return-1;if(F>=J)return 1;if(F>>>=0,J>>>=0,he>>>=0,de>>>=0,this===q)return 0;let pe=de-he,Je=J-F;const tt=Math.min(pe,Je),Ne=this.slice(he,de),St=q.slice(F,J);for(let rt=0;rt<tt;++rt)if(Ne[rt]!==St[rt]){pe=Ne[rt],Je=St[rt];break}return pe<Je?-1:Je<pe?1:0};function se(K,q,F,J,he){if(K.length===0)return-1;if(typeof F=="string"?(J=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,dt(F)&&(F=he?0:K.length-1),F<0&&(F=K.length+F),F>=K.length){if(he)return-1;F=K.length-1}else if(F<0)if(he)F=0;else return-1;if(typeof q=="string"&&(q=f.from(q,J)),f.isBuffer(q))return q.length===0?-1:ve(K,q,F,J,he);if(typeof q=="number")return q=q&255,typeof i.prototype.indexOf=="function"?he?i.prototype.indexOf.call(K,q,F):i.prototype.lastIndexOf.call(K,q,F):ve(K,[q],F,J,he);throw new TypeError("val must be string, number or Buffer")}function ve(K,q,F,J,he){let de=1,pe=K.length,Je=q.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(K.length<2||q.length<2)return-1;de=2,pe/=2,Je/=2,F/=2}function tt(St,rt){return de===1?St[rt]:St.readUInt16BE(rt*de)}let Ne;if(he){let St=-1;for(Ne=F;Ne<pe;Ne++)if(tt(K,Ne)===tt(q,St===-1?0:Ne-St)){if(St===-1&&(St=Ne),Ne-St+1===Je)return St*de}else St!==-1&&(Ne-=Ne-St),St=-1}else for(F+Je>pe&&(F=pe-Je),Ne=F;Ne>=0;Ne--){let St=!0;for(let rt=0;rt<Je;rt++)if(tt(K,Ne+rt)!==tt(q,rt)){St=!1;break}if(St)return Ne}return-1}f.prototype.includes=function(q,F,J){return this.indexOf(q,F,J)!==-1},f.prototype.indexOf=function(q,F,J){return se(this,q,F,J,!0)},f.prototype.lastIndexOf=function(q,F,J){return se(this,q,F,J,!1)};function Q(K,q,F,J){F=Number(F)||0;const he=K.length-F;J?(J=Number(J),J>he&&(J=he)):J=he;const de=q.length;J>de/2&&(J=de/2);let pe;for(pe=0;pe<J;++pe){const Je=parseInt(q.substr(pe*2,2),16);if(dt(Je))return pe;K[F+pe]=Je}return pe}function M(K,q,F,J){return Ve(lt(q,K.length-F),K,F,J)}function b(K,q,F,J){return Ve(je(q),K,F,J)}function s(K,q,F,J){return Ve(ot(q),K,F,J)}function v(K,q,F,J){return Ve(Et(q,K.length-F),K,F,J)}f.prototype.write=function(q,F,J,he){if(F===void 0)he="utf8",J=this.length,F=0;else if(J===void 0&&typeof F=="string")he=F,J=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(J)?(J=J>>>0,he===void 0&&(he="utf8")):(he=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const de=this.length-F;if((J===void 0||J>de)&&(J=de),q.length>0&&(J<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");let pe=!1;for(;;)switch(he){case"hex":return Q(this,q,F,J);case"utf8":case"utf-8":return M(this,q,F,J);case"ascii":case"latin1":case"binary":return b(this,q,F,J);case"base64":return s(this,q,F,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,q,F,J);default:if(pe)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),pe=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function g(K,q,F){return q===0&&F===K.length?e.fromByteArray(K):e.fromByteArray(K.slice(q,F))}function A(K,q,F){F=Math.min(K.length,F);const J=[];let he=q;for(;he<F;){const de=K[he];let pe=null,Je=de>239?4:de>223?3:de>191?2:1;if(he+Je<=F){let tt,Ne,St,rt;switch(Je){case 1:de<128&&(pe=de);break;case 2:tt=K[he+1],(tt&192)===128&&(rt=(de&31)<<6|tt&63,rt>127&&(pe=rt));break;case 3:tt=K[he+1],Ne=K[he+2],(tt&192)===128&&(Ne&192)===128&&(rt=(de&15)<<12|(tt&63)<<6|Ne&63,rt>2047&&(rt<55296||rt>57343)&&(pe=rt));break;case 4:tt=K[he+1],Ne=K[he+2],St=K[he+3],(tt&192)===128&&(Ne&192)===128&&(St&192)===128&&(rt=(de&15)<<18|(tt&63)<<12|(Ne&63)<<6|St&63,rt>65535&&rt<1114112&&(pe=rt))}}pe===null?(pe=65533,Je=1):pe>65535&&(pe-=65536,J.push(pe>>>10&1023|55296),pe=56320|pe&1023),J.push(pe),he+=Je}return R(J)}const I=4096;function R(K){const q=K.length;if(q<=I)return String.fromCharCode.apply(String,K);let F="",J=0;for(;J<q;)F+=String.fromCharCode.apply(String,K.slice(J,J+=I));return F}function S(K,q,F){let J="";F=Math.min(K.length,F);for(let he=q;he<F;++he)J+=String.fromCharCode(K[he]&127);return J}function T(K,q,F){let J="";F=Math.min(K.length,F);for(let he=q;he<F;++he)J+=String.fromCharCode(K[he]);return J}function p(K,q,F){const J=K.length;(!q||q<0)&&(q=0),(!F||F<0||F>J)&&(F=J);let he="";for(let de=q;de<F;++de)he+=Xe[K[de]];return he}function B(K,q,F){const J=K.slice(q,F);let he="";for(let de=0;de<J.length-1;de+=2)he+=String.fromCharCode(J[de]+J[de+1]*256);return he}f.prototype.slice=function(q,F){const J=this.length;q=~~q,F=F===void 0?J:~~F,q<0?(q+=J,q<0&&(q=0)):q>J&&(q=J),F<0?(F+=J,F<0&&(F=0)):F>J&&(F=J),F<q&&(F=q);const he=this.subarray(q,F);return Object.setPrototypeOf(he,f.prototype),he};function ee(K,q,F){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+q>F)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(q,F,J){q=q>>>0,F=F>>>0,J||ee(q,F,this.length);let he=this[q],de=1,pe=0;for(;++pe<F&&(de*=256);)he+=this[q+pe]*de;return he},f.prototype.readUintBE=f.prototype.readUIntBE=function(q,F,J){q=q>>>0,F=F>>>0,J||ee(q,F,this.length);let he=this[q+--F],de=1;for(;F>0&&(de*=256);)he+=this[q+--F]*de;return he},f.prototype.readUint8=f.prototype.readUInt8=function(q,F){return q=q>>>0,F||ee(q,1,this.length),this[q]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(q,F){return q=q>>>0,F||ee(q,2,this.length),this[q]|this[q+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(q,F){return q=q>>>0,F||ee(q,2,this.length),this[q]<<8|this[q+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(q,F){return q=q>>>0,F||ee(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+this[q+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(q,F){return q=q>>>0,F||ee(q,4,this.length),this[q]*16777216+(this[q+1]<<16|this[q+2]<<8|this[q+3])},f.prototype.readBigUInt64LE=st(function(q){q=q>>>0,qe(q,"offset");const F=this[q],J=this[q+7];(F===void 0||J===void 0)&&Ue(q,this.length-8);const he=F+this[++q]*_r(2,8)+this[++q]*_r(2,16)+this[++q]*_r(2,24),de=this[++q]+this[++q]*_r(2,8)+this[++q]*_r(2,16)+J*_r(2,24);return BigInt(he)+(BigInt(de)<<BigInt(32))}),f.prototype.readBigUInt64BE=st(function(q){q=q>>>0,qe(q,"offset");const F=this[q],J=this[q+7];(F===void 0||J===void 0)&&Ue(q,this.length-8);const he=F*_r(2,24)+this[++q]*_r(2,16)+this[++q]*_r(2,8)+this[++q],de=this[++q]*_r(2,24)+this[++q]*_r(2,16)+this[++q]*_r(2,8)+J;return(BigInt(he)<<BigInt(32))+BigInt(de)}),f.prototype.readIntLE=function(q,F,J){q=q>>>0,F=F>>>0,J||ee(q,F,this.length);let he=this[q],de=1,pe=0;for(;++pe<F&&(de*=256);)he+=this[q+pe]*de;return de*=128,he>=de&&(he-=Math.pow(2,8*F)),he},f.prototype.readIntBE=function(q,F,J){q=q>>>0,F=F>>>0,J||ee(q,F,this.length);let he=F,de=1,pe=this[q+--he];for(;he>0&&(de*=256);)pe+=this[q+--he]*de;return de*=128,pe>=de&&(pe-=Math.pow(2,8*F)),pe},f.prototype.readInt8=function(q,F){return q=q>>>0,F||ee(q,1,this.length),this[q]&128?(255-this[q]+1)*-1:this[q]},f.prototype.readInt16LE=function(q,F){q=q>>>0,F||ee(q,2,this.length);const J=this[q]|this[q+1]<<8;return J&32768?J|4294901760:J},f.prototype.readInt16BE=function(q,F){q=q>>>0,F||ee(q,2,this.length);const J=this[q+1]|this[q]<<8;return J&32768?J|4294901760:J},f.prototype.readInt32LE=function(q,F){return q=q>>>0,F||ee(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},f.prototype.readInt32BE=function(q,F){return q=q>>>0,F||ee(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},f.prototype.readBigInt64LE=st(function(q){q=q>>>0,qe(q,"offset");const F=this[q],J=this[q+7];(F===void 0||J===void 0)&&Ue(q,this.length-8);const he=this[q+4]+this[q+5]*_r(2,8)+this[q+6]*_r(2,16)+(J<<24);return(BigInt(he)<<BigInt(32))+BigInt(F+this[++q]*256+this[++q]*65536+this[++q]*16777216)}),f.prototype.readBigInt64BE=st(function(q){q=q>>>0,qe(q,"offset");const F=this[q],J=this[q+7];(F===void 0||J===void 0)&&Ue(q,this.length-8);const he=(F<<24)+this[++q]*_r(2,16)+this[++q]*_r(2,8)+this[++q];return(BigInt(he)<<BigInt(32))+BigInt(this[++q]*16777216+this[++q]*65536+this[++q]*256+J)}),f.prototype.readFloatLE=function(q,F){return q=q>>>0,F||ee(q,4,this.length),t.read(this,q,!0,23,4)},f.prototype.readFloatBE=function(q,F){return q=q>>>0,F||ee(q,4,this.length),t.read(this,q,!1,23,4)},f.prototype.readDoubleLE=function(q,F){return q=q>>>0,F||ee(q,8,this.length),t.read(this,q,!0,52,8)},f.prototype.readDoubleBE=function(q,F){return q=q>>>0,F||ee(q,8,this.length),t.read(this,q,!1,52,8)};function oe(K,q,F,J,he,de){if(!f.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>he||q<de)throw new RangeError('"value" argument is out of bounds');if(F+J>K.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(q,F,J,he){if(q=+q,F=F>>>0,J=J>>>0,!he){const Je=Math.pow(2,8*J)-1;oe(this,q,F,J,Je,0)}let de=1,pe=0;for(this[F]=q&255;++pe<J&&(de*=256);)this[F+pe]=q/de&255;return F+J},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(q,F,J,he){if(q=+q,F=F>>>0,J=J>>>0,!he){const Je=Math.pow(2,8*J)-1;oe(this,q,F,J,Je,0)}let de=J-1,pe=1;for(this[F+de]=q&255;--de>=0&&(pe*=256);)this[F+de]=q/pe&255;return F+J},f.prototype.writeUint8=f.prototype.writeUInt8=function(q,F,J){return q=+q,F=F>>>0,J||oe(this,q,F,1,255,0),this[F]=q&255,F+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(q,F,J){return q=+q,F=F>>>0,J||oe(this,q,F,2,65535,0),this[F]=q&255,this[F+1]=q>>>8,F+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(q,F,J){return q=+q,F=F>>>0,J||oe(this,q,F,2,65535,0),this[F]=q>>>8,this[F+1]=q&255,F+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(q,F,J){return q=+q,F=F>>>0,J||oe(this,q,F,4,4294967295,0),this[F+3]=q>>>24,this[F+2]=q>>>16,this[F+1]=q>>>8,this[F]=q&255,F+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(q,F,J){return q=+q,F=F>>>0,J||oe(this,q,F,4,4294967295,0),this[F]=q>>>24,this[F+1]=q>>>16,this[F+2]=q>>>8,this[F+3]=q&255,F+4};function Z(K,q,F,J,he){Oe(q,J,he,K,F,7);let de=Number(q&BigInt(4294967295));K[F++]=de,de=de>>8,K[F++]=de,de=de>>8,K[F++]=de,de=de>>8,K[F++]=de;let pe=Number(q>>BigInt(32)&BigInt(4294967295));return K[F++]=pe,pe=pe>>8,K[F++]=pe,pe=pe>>8,K[F++]=pe,pe=pe>>8,K[F++]=pe,F}function ne(K,q,F,J,he){Oe(q,J,he,K,F,7);let de=Number(q&BigInt(4294967295));K[F+7]=de,de=de>>8,K[F+6]=de,de=de>>8,K[F+5]=de,de=de>>8,K[F+4]=de;let pe=Number(q>>BigInt(32)&BigInt(4294967295));return K[F+3]=pe,pe=pe>>8,K[F+2]=pe,pe=pe>>8,K[F+1]=pe,pe=pe>>8,K[F]=pe,F+8}f.prototype.writeBigUInt64LE=st(function(q,F=0){return Z(this,q,F,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=st(function(q,F=0){return ne(this,q,F,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(q,F,J,he){if(q=+q,F=F>>>0,!he){const tt=Math.pow(2,8*J-1);oe(this,q,F,J,tt-1,-tt)}let de=0,pe=1,Je=0;for(this[F]=q&255;++de<J&&(pe*=256);)q<0&&Je===0&&this[F+de-1]!==0&&(Je=1),this[F+de]=(q/pe>>0)-Je&255;return F+J},f.prototype.writeIntBE=function(q,F,J,he){if(q=+q,F=F>>>0,!he){const tt=Math.pow(2,8*J-1);oe(this,q,F,J,tt-1,-tt)}let de=J-1,pe=1,Je=0;for(this[F+de]=q&255;--de>=0&&(pe*=256);)q<0&&Je===0&&this[F+de+1]!==0&&(Je=1),this[F+de]=(q/pe>>0)-Je&255;return F+J},f.prototype.writeInt8=function(q,F,J){return q=+q,F=F>>>0,J||oe(this,q,F,1,127,-128),q<0&&(q=255+q+1),this[F]=q&255,F+1},f.prototype.writeInt16LE=function(q,F,J){return q=+q,F=F>>>0,J||oe(this,q,F,2,32767,-32768),this[F]=q&255,this[F+1]=q>>>8,F+2},f.prototype.writeInt16BE=function(q,F,J){return q=+q,F=F>>>0,J||oe(this,q,F,2,32767,-32768),this[F]=q>>>8,this[F+1]=q&255,F+2},f.prototype.writeInt32LE=function(q,F,J){return q=+q,F=F>>>0,J||oe(this,q,F,4,2147483647,-2147483648),this[F]=q&255,this[F+1]=q>>>8,this[F+2]=q>>>16,this[F+3]=q>>>24,F+4},f.prototype.writeInt32BE=function(q,F,J){return q=+q,F=F>>>0,J||oe(this,q,F,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[F]=q>>>24,this[F+1]=q>>>16,this[F+2]=q>>>8,this[F+3]=q&255,F+4},f.prototype.writeBigInt64LE=st(function(q,F=0){return Z(this,q,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=st(function(q,F=0){return ne(this,q,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function fe(K,q,F,J,he,de){if(F+J>K.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function le(K,q,F,J,he){return q=+q,F=F>>>0,he||fe(K,q,F,4),t.write(K,q,F,J,23,4),F+4}f.prototype.writeFloatLE=function(q,F,J){return le(this,q,F,!0,J)},f.prototype.writeFloatBE=function(q,F,J){return le(this,q,F,!1,J)};function ke(K,q,F,J,he){return q=+q,F=F>>>0,he||fe(K,q,F,8),t.write(K,q,F,J,52,8),F+8}f.prototype.writeDoubleLE=function(q,F,J){return ke(this,q,F,!0,J)},f.prototype.writeDoubleBE=function(q,F,J){return ke(this,q,F,!1,J)},f.prototype.copy=function(q,F,J,he){if(!f.isBuffer(q))throw new TypeError("argument should be a Buffer");if(J||(J=0),!he&&he!==0&&(he=this.length),F>=q.length&&(F=q.length),F||(F=0),he>0&&he<J&&(he=J),he===J||q.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),q.length-F<he-J&&(he=q.length-F+J);const de=he-J;return this===q&&typeof i.prototype.copyWithin=="function"?this.copyWithin(F,J,he):i.prototype.set.call(q,this.subarray(J,he),F),de},f.prototype.fill=function(q,F,J,he){if(typeof q=="string"){if(typeof F=="string"?(he=F,F=0,J=this.length):typeof J=="string"&&(he=J,J=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!f.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(q.length===1){const pe=q.charCodeAt(0);(he==="utf8"&&pe<128||he==="latin1")&&(q=pe)}}else typeof q=="number"?q=q&255:typeof q=="boolean"&&(q=Number(q));if(F<0||this.length<F||this.length<J)throw new RangeError("Out of range index");if(J<=F)return this;F=F>>>0,J=J===void 0?this.length:J>>>0,q||(q=0);let de;if(typeof q=="number")for(de=F;de<J;++de)this[de]=q;else{const pe=f.isBuffer(q)?q:f.from(q,he),Je=pe.length;if(Je===0)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(de=0;de<J-F;++de)this[de+F]=pe[de%Je]}return this};const X={};function G(K,q,F){X[K]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(he){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:he,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}G("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),G("ERR_INVALID_ARG_TYPE",function(K,q){return`The "${K}" argument must be of type number. Received type ${typeof q}`},TypeError),G("ERR_OUT_OF_RANGE",function(K,q,F){let J=`The value of "${K}" is out of range.`,he=F;return Number.isInteger(F)&&Math.abs(F)>4294967296?he=_e(String(F)):typeof F=="bigint"&&(he=String(F),(F>_r(BigInt(2),BigInt(32))||F<-_r(BigInt(2),BigInt(32)))&&(he=_e(he)),he+="n"),J+=` It must be ${q}. Received ${he}`,J},RangeError);function _e(K){let q="",F=K.length;const J=K[0]==="-"?1:0;for(;F>=J+4;F-=3)q=`_${K.slice(F-3,F)}${q}`;return`${K.slice(0,F)}${q}`}function Ae(K,q,F){qe(q,"offset"),(K[q]===void 0||K[q+F]===void 0)&&Ue(q,K.length-(F+1))}function Oe(K,q,F,J,he,de){if(K>F||K<q){const pe=typeof q=="bigint"?"n":"";let Je;throw de>3?q===0||q===BigInt(0)?Je=`>= 0${pe} and < 2${pe} ** ${(de+1)*8}${pe}`:Je=`>= -(2${pe} ** ${(de+1)*8-1}${pe}) and < 2 ** ${(de+1)*8-1}${pe}`:Je=`>= ${q}${pe} and <= ${F}${pe}`,new X.ERR_OUT_OF_RANGE("value",Je,K)}Ae(J,he,de)}function qe(K,q){if(typeof K!="number")throw new X.ERR_INVALID_ARG_TYPE(q,"number",K)}function Ue(K,q,F){throw Math.floor(K)!==K?(qe(K,F),new X.ERR_OUT_OF_RANGE(F||"offset","an integer",K)):q<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE(F||"offset",`>= ${F?1:0} and <= ${q}`,K)}const ze=/[^+/0-9A-Za-z-_]/g;function ge(K){if(K=K.split("=")[0],K=K.trim().replace(ze,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function lt(K,q){q=q||1/0;let F;const J=K.length;let he=null;const de=[];for(let pe=0;pe<J;++pe){if(F=K.charCodeAt(pe),F>55295&&F<57344){if(!he){if(F>56319){(q-=3)>-1&&de.push(239,191,189);continue}else if(pe+1===J){(q-=3)>-1&&de.push(239,191,189);continue}he=F;continue}if(F<56320){(q-=3)>-1&&de.push(239,191,189),he=F;continue}F=(he-55296<<10|F-56320)+65536}else he&&(q-=3)>-1&&de.push(239,191,189);if(he=null,F<128){if((q-=1)<0)break;de.push(F)}else if(F<2048){if((q-=2)<0)break;de.push(F>>6|192,F&63|128)}else if(F<65536){if((q-=3)<0)break;de.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((q-=4)<0)break;de.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return de}function je(K){const q=[];for(let F=0;F<K.length;++F)q.push(K.charCodeAt(F)&255);return q}function Et(K,q){let F,J,he;const de=[];for(let pe=0;pe<K.length&&!((q-=2)<0);++pe)F=K.charCodeAt(pe),J=F>>8,he=F%256,de.push(he),de.push(J);return de}function ot(K){return e.toByteArray(ge(K))}function Ve(K,q,F,J){let he;for(he=0;he<J&&!(he+F>=q.length||he>=K.length);++he)q[he+F]=K[he];return he}function Mt(K,q){return K instanceof q||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===q.name}function dt(K){return K!==K}const Xe=function(){const K="0123456789abcdef",q=new Array(256);for(let F=0;F<16;++F){const J=F*16;for(let he=0;he<16;++he)q[J+he]=K[F]+K[he]}return q}();function st(K){return typeof BigInt=="undefined"?gt:K}function gt(){throw new Error("BigInt not supported")}})(zo);const Jt=zo.Buffer,am=zo.Buffer,om=Object.freeze(Object.defineProperty({__proto__:null,Buffer:am,default:Jt},Symbol.toStringTag,{value:"Module"}));class Zh{static toHex(e,t){const n=(u,h)=>{const f=h?["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"]:["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return f[Math.floor(u/16)]+f[u%16]},a=Object.assign({grouping:0,rowlength:0,uppercase:!1},t||{});let i="",o=0,c=0;for(let u=0;u<e.length&&(i+=n(e[u],a.uppercase),u!==e.length-1);++u)a.grouping>0&&++o===a.grouping&&(o=0,a.rowlength>0&&++c===a.rowlength?(c=0,i+=`
`):i+=" ");return i}static toUint8Array(e){let t=e.toLowerCase().replace(/\s/g,"");t.length%2===1&&(t=`0${t}`);let n=new Uint8Array(Math.floor(t.length/2)),a=-1;for(let i=0;i<t.length;++i){let o=t[i],c=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"].indexOf(o);if(c===-1)throw Error("unexpected character");a===-1?a=16*c:(n[Math.floor(i/2)]=a+c,a=-1)}return n}}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.toCamelCase||(String.prototype.toCamelCase=function(){return this.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(r,e)=>e.toUpperCase())}),String.prototype.toSnakeCase||(String.prototype.toSnakeCase=function(){return this.replace(/[A-Z]/g,r=>`_${r.toLowerCase()}`)});function Li(r,e){const t=Math.ceil(r.length/e),n=[];for(let a=0,i=0;a<t;++a,i+=e)n[a]=r.substr(i,e);return n}function Oa(r=256,e="abcdef0123456789"){let t=new Uint8Array(r);return t=crypto.getRandomValues(t),t=t.map(n=>e.charCodeAt(n%e.length)),String.fromCharCode.apply(null,t)}function el(r,e,t,n,a){if(n=n||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~`!@#$%^&*()-_=+[{]}\\|;:'\",<.>/?",a=a||n,e>n.length||t>a.length)return console.warn("Strings::charsetBaseConvert() - Can't convert",r,"to base",t,"greater than symbol table length. src-table:",n.length,"dest-table:",a.length),!1;let o=BigInt(0);for(let u=0;u<r.length;u++)o=o*BigInt(e)+BigInt(n.indexOf(r.charAt(u)));let c="";for(;o>0;){let u=o%BigInt(t);c=a.charAt(Number(u))+c,o/=BigInt(t)}return c||"0"}function sm(r){return Zh.toHex(r,{})}function fm(r){return Zh.toUint8Array(r)}function tl(r){return Jt.from(r,"hex").toString("base64")}function rl(r){return Jt.from(r,"base64").toString("hex")}function nl(r){return/^[A-F0-9]+$/i.test(r)}function um(r){return(typeof r=="number"||typeof r=="string"&&r.trim()!=="")&&!isNaN(r)}let Fi=class{static normalizeMeta(e){const t=[];for(const n in e)e.hasOwnProperty(n)&&e[n]!==null&&t.push({key:n,value:e[n].toString()});return t}static aggregateMeta(e){let t={};if(Array.isArray(e))for(let n of e)t[n.key]=n.value;else t=e;return t}};function il(r,e){let t,n,a,i=[Array,Date,Number,String,Boolean],o=Object.prototype.toString;for(e=e||[],t=0;t<e.length;t+=2)r===e[t]&&(n=e[t+1]);if(!n&&r&&typeof r=="object"){for(n={},t=0;t<i.length;t++)o.call(r)===o.call(a=new i[t](r))&&(n=t?a:[]);e.push(r,n);for(t in r)e.hasOwnProperty.call(r,t)&&(n[t]=il(r[t],e))}return n||r}function cm(...r){return[].concat(...r.map((e,t)=>{const n=r.slice(0);n.splice(t,1);const a=[...new Set([].concat(...n))];return e.filter(i=>!a.includes(i))}))}function Ui(...r){return r.reduce((e,t)=>e.filter(n=>t.includes(n)))}class Ko{constructor(e={},t={}){this.policy=Ko.normalizePolicy(e),this.fillDefault(t)}static normalizePolicy(e={}){let t={};for(const[n,a]of Object.entries(e))if(a!==null&&["read","write"].includes(n)){t[n]={};for(const[i,o]of Object.entries(a))t[n][i]=o}return t}fillDefault(e={}){const t=Array.from(this.policy).filter(a=>a.action==="read"),n=Array.from(this.policy).filter(a=>a.action==="write");for(const[a,i]of Object.entries({read:t,write:n})){const o=i.map(c=>c.key);this.policy[a]||(this.policy[a]={});for(const c of cm(e,o))this.policy[a][c]||(this.policy[a][c]=a==="write"&&!["characters","pubkey"].includes(c)?["self"]:["all"])}}get(){return this.policy}toJson(){return JSON.stringify(this.get())}}class Yr{constructor(e={}){this.meta=e}merge(e){return this.meta=Object.assign(this.meta,e),this}addContext(e=null){return this}setAtomWallet(e){let t={pubkey:e.pubkey,characters:e.characters};return e.tokenUnits&&e.tokenUnits.length&&(t.tokenUnits=JSON.stringify(e.getTokenUnitsData())),e.tradeRates&&e.tradeRates.length&&(t.tradeRates=JSON.stringify(e.tradeRates)),this.merge(t),this}setMetaWallet(e){return this.merge({walletTokenSlug:e.token,walletBundleHash:e.bundle,walletAddress:e.address,walletPosition:e.position,walletBatchId:e.batchId,walletPubkey:e.pubkey,walletCharacters:e.characters}),this}setShadowWalletClaim(e){return this.merge({shadowWalletClaim:e*1}),this}setSigningWallet(e){return this.merge({signingWallet:JSON.stringify({tokenSlug:e.token,bundleHash:e.bundle,address:e.address,position:e.position,pubkey:e.pubkey,characters:e.characters})}),this}addPolicy(e){let t=new Ko(e,Object.keys(this.meta));return this.merge({policy:t.toJson()}),this}get(){return this.meta}}class or extends TypeError{constructor(e=null,t=null,n=null){if(super(e,t,n),e===null)throw new this(`Unknown ${this.constructor.name}`);this.name="BaseException"}toString(){return`${this.name}: ${this.message}.
Stack:
${this.stack}`}}class Hn extends or{constructor(e="The molecule does not contain atoms",t=null,n=null){super(e,t,n),this.name="AtomsMissingException"}}class zn{static create(e){const t={};for(const n of Object.keys(e))e.hasOwnProperty(n)&&(t[n]=e[n]);return new this(t)}static structure(e){switch(Object.prototype.toString.call(e)){case"[object Array]":{const t=[];for(const n in e)t.push(zn.isStructure(e[n])?zn.structure(e[n]):e[n]);return t}case"[object Object]":{const t=[],n=Object.keys(e).sort((a,i)=>a===i?0:a<i?-1:1);for(const a of n)if(e.hasOwnProperty(a)){const i={};i[a]=zn.isStructure(e[a])?zn.structure(e[a]):e[a],t.push(i)}if(t.length>0)return t;break}}return e}static isStructure(e){return["[object Object]","[object Array]"].includes(Object.prototype.toString.call(e))}view(){return zn.structure(this)}}class hm extends zn{constructor({position:e=null,walletAddress:t=null,isotope:n=null,token:a=null,value:i=null,batchId:o=null,metaType:c=null,metaId:u=null,meta:h=null,index:f=null,createdAt:d=null,version:l=null}){super(),this.position=e,this.walletAddress=t,this.isotope=n,this.token=a,this.value=i,this.batchId=o,this.metaType=c,this.metaId=u,this.meta=h,this.index=f,this.createdAt=d,this.version=l}}const Ba={4:hm};class Lt{constructor({position:e=null,walletAddress:t=null,isotope:n=null,token:a=null,value:i=null,batchId:o=null,metaType:c=null,metaId:u=null,meta:h=null,otsFragment:f=null,index:d=null,version:l=null}){this.position=e,this.walletAddress=t,this.isotope=n,this.token=a,this.value=i!==null?String(i):null,this.batchId=o,this.metaType=c,this.metaId=u,this.meta=h?Fi.normalizeMeta(h):[],this.index=d,this.otsFragment=f,this.createdAt=String(+new Date),l!==null&&Ba.hasOwnProperty(l)&&(this.version=String(l))}static getHashableProps(){return["position","walletAddress","isotope","token","value","batchId","metaType","metaId","meta","createdAt"]}static getUnclaimedProps(){return["otsFragment"]}static create({isotope:e,wallet:t=null,value:n=null,metaType:a=null,metaId:i=null,meta:o=null,batchId:c=null}){return o||(o=new Yr),t&&(o.setAtomWallet(t),c||(c=t.batchId)),new Lt({position:t?t.position:null,walletAddress:t?t.address:null,isotope:e,token:t?t.token:null,value:n,batchId:c,metaType:a,metaId:i,meta:o.get()})}static jsonToObject(e){const t=Object.assign(new Lt({}),JSON.parse(e)),n=Object.keys(new Lt({}));for(const a in t)t.hasOwnProperty(a)&&!n.includes(a)&&delete t[a];return t}static hashAtoms({atoms:e,output:t="base17"}){const n=new qr("SHAKE256","TEXT"),a=Lt.sortAtoms(e);if(a.length===0)throw new Hn;if(a.map(i=>{if(!(i instanceof Lt))throw new Hn}),a.every(i=>i.version&&Ba.hasOwnProperty(i.version)))n.update(JSON.stringify(a.map(i=>Ba[i.version].create(i).view())));else{const i=String(e.length);let o=[];for(const c of a)o.push(i),o=o.concat(c.getHashableValues());for(const c of o)n.update(c)}switch(t){case"hex":return n.getHash("HEX",{outputLen:256});case"array":return n.getHash("ARRAYBUFFER",{outputLen:256});default:return el(n.getHash("HEX",{outputLen:256}),16,17,"0123456789abcdef","0123456789abcdefg").padStart(64,"0")}}static jsonSerialization(e,t){if(!Lt.getUnclaimedProps().includes(e))return t}static sortAtoms(e){const t=[...e];return t.sort((n,a)=>n.index<a.index?-1:1),t}aggregatedMeta(){return Fi.aggregateMeta(this.meta)}getHashableValues(){const e=[];for(let t of Lt.getHashableProps()){const n=this[t];if(!(n===null&&!["position","walletAddress"].includes(t)))if(t==="meta")for(const a of n)typeof a.value!="undefined"&&a.value!==null&&(e.push(String(a.key)),e.push(String(a.value)));else e.push(n===null?"":String(n))}return e}}function si(r=null,e=2048){if(console.info(`Crypto::generateSecret() - Computing new secret${r?" from existing seed":""}...`),r){const t=new qr("SHAKE256","TEXT");return t.update(r),t.getHash("HEX",{outputLen:e*2})}else return Oa(e)}function bn(r){console.info("Crypto::generateBundleHash() - Computing wallet bundle from secret...");const e=new qr("SHAKE256","TEXT");return e.update(r),e.getHash("HEX",{outputLen:256})}function Pa({molecularHash:r=null,index:e=null}){return r!==null&&e!==null?bn(String(r)+String(e)):Oa(64)}class Da{static encode(e){const t=String.fromCharCode(...e);return btoa(t)}static decode(e){const t=atob(e),n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}encode(e){return Da.encode(e)}decode(e){return Da.decode(e)}}var Kt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function fi(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function al(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}function lm(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var a=r.charAt(n),i=a.charCodeAt(0);if(e[i]!==255)throw new TypeError(a+" is ambiguous");e[i]=n}var o=r.length,c=r.charAt(0),u=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function f(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var m=0,w=0,E=0,x=y.length;E!==x&&y[E]===0;)E++,m++;for(var P=(x-E)*h+1>>>0,L=new Uint8Array(P);E!==x;){for(var U=y[E],z=0,W=P-1;(U!==0||z<w)&&W!==-1;W--,z++)U+=256*L[W]>>>0,L[W]=U%o>>>0,U=U/o>>>0;if(U!==0)throw new Error("Non-zero carry");w=z,E++}for(var re=P-w;re!==P&&L[re]===0;)re++;for(var ie=c.repeat(m);re<P;++re)ie+=r.charAt(L[re]);return ie}function d(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var m=0,w=0,E=0;y[m]===c;)w++,m++;for(var x=(y.length-m)*u+1>>>0,P=new Uint8Array(x);y[m];){var L=e[y.charCodeAt(m)];if(L===255)return;for(var U=0,z=x-1;(L!==0||U<E)&&z!==-1;z--,U++)L+=o*P[z]>>>0,P[z]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");E=U,m++}for(var W=x-E;W!==x&&P[W]===0;)W++;for(var re=new Uint8Array(w+(x-W)),ie=w;W!==x;)re[ie++]=P[W++];return re}function l(y){var m=d(y);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:f,decodeUnsafe:d,decode:l}}var dm=lm;const ol=fi(dm);class sl{constructor(e={}){this.$options=Object.assign({characters:"GMP"},e),this.$encoder=ol(this[this.$options.characters]||this.GMP)}get GMP(){return"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuv"}get BITCOIN(){return"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}get FLICKR(){return"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}get RIPPLE(){return"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"}get IPFS(){return"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}encode(e){return this.$encoder.encode(Jt.from(e))}decode(e){return this.$encoder.decode(e)}}class Qo{constructor(e={}){const t=["BASE2","BASE8","BASE11","BASE36","BASE62","BASE67"],n=["BITCOIN","FLICKR","RIPPLE","IPFS"],a=["BASE64"];this.$options=Object.assign({characters:"BASE64"},e),this.$encoder=new sl,a.includes(this.$options.characters)?this.$encoder=new Da:t.includes(this.$options.characters)?this.$encoder=ol(this[this.$options.characters]):n.includes(this.$options.characters)&&(this.$encoder=new sl(this.$options))}get BASE2(){return"01"}get BASE8(){return"01234567"}get BASE11(){return"0123456789a"}get BASE36(){return"0123456789abcdefghijklmnopqrstuvwxyz"}get BASE62(){return"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"}get BASE67(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.!~"}encode(e){const t=e instanceof Uint8Array?e:new Uint8Array(e),n=String.fromCharCode(...t);return this.$encoder.encode(n)}decode(e){return this.$encoder.decode(e)}}class ui{constructor(e,t,n){this.id=e,this.name=t,this.metas=n||{}}static createFromGraphQL(e){let t=e.metas||{};return t.length&&(t=JSON.parse(t),t||(t={})),new ui(e.id,e.name,t)}static createFromDB(e){return new ui(e[0],e[1],e.length>2?e[2]:{})}getFragmentZone(){return this.metas.fragmentZone||null}getFusedTokenUnits(){return this.metas.fusedTokenUnits||null}toData(){return[this.id,this.name,this.metas]}toGraphQLResponse(){return{id:this.id,name:this.name,metas:JSON.stringify(this.metas)}}}function pm(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fl={exports:{}},Nt={};function vm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ul={exports:{}},yr=ul.exports={},sn,fn;function Go(){throw new Error("setTimeout has not been defined")}function Jo(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?sn=setTimeout:sn=Go}catch(r){sn=Go}try{typeof clearTimeout=="function"?fn=clearTimeout:fn=Jo}catch(r){fn=Jo}})();function cl(r){if(sn===setTimeout)return setTimeout(r,0);if((sn===Go||!sn)&&setTimeout)return sn=setTimeout,setTimeout(r,0);try{return sn(r,0)}catch(e){try{return sn.call(null,r,0)}catch(t){return sn.call(this,r,0)}}}function ym(r){if(fn===clearTimeout)return clearTimeout(r);if((fn===Jo||!fn)&&clearTimeout)return fn=clearTimeout,clearTimeout(r);try{return fn(r)}catch(e){try{return fn.call(null,r)}catch(t){return fn.call(this,r)}}}var mn=[],ci=!1,Vn,Na=-1;function bm(){!ci||!Vn||(ci=!1,Vn.length?mn=Vn.concat(mn):Na=-1,mn.length&&hl())}function hl(){if(!ci){var r=cl(bm);ci=!0;for(var e=mn.length;e;){for(Vn=mn,mn=[];++Na<e;)Vn&&Vn[Na].run();Na=-1,e=mn.length}Vn=null,ci=!1,ym(r)}}yr.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];mn.push(new ll(r,e)),mn.length===1&&!ci&&cl(hl)};function ll(r,e){this.fun=r,this.array=e}ll.prototype.run=function(){this.fun.apply(null,this.array)},yr.title="browser",yr.browser=!0,yr.env={},yr.argv=[],yr.version="",yr.versions={};function gn(){}yr.on=gn,yr.addListener=gn,yr.once=gn,yr.off=gn,yr.removeListener=gn,yr.removeAllListeners=gn,yr.emit=gn,yr.prependListener=gn,yr.prependOnceListener=gn,yr.listeners=function(r){return[]},yr.binding=function(r){throw new Error("process.binding is not supported")},yr.cwd=function(){return"/"},yr.chdir=function(r){throw new Error("process.chdir is not supported")},yr.umask=function(){return 0};var mm=ul.exports;const Ot=vm(mm);var qa={exports:{}},La={exports:{}};const wn=al(om);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var dl;function Ut(){return dl||(dl=1,function(r,e){var t=wn,n=t.Buffer;function a(o,c){for(var u in o)c[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(a(t,e),e.Buffer=i);function i(o,c,u){return n(o,c,u)}i.prototype=Object.create(n.prototype),a(n,i),i.from=function(o,c,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,c,u)},i.alloc=function(o,c,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=n(o);return c!==void 0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}}(La,La.exports)),La.exports}var pl;function hi(){if(pl)return qa.exports;pl=1;var r=65536,e=4294967295;function t(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var n=Ut().Buffer,a=Kt.crypto||Kt.msCrypto;a&&a.getRandomValues?qa.exports=i:qa.exports=t;function i(o,c){if(o>e)throw new RangeError("requested too many random bytes");var u=n.allocUnsafe(o);if(o>0)if(o>r)for(var h=0;h<o;h+=r)a.getRandomValues(u.slice(h,h+r));else a.getRandomValues(u);return typeof c=="function"?Ot.nextTick(function(){c(null,u)}):u}return qa.exports}var Fa={exports:{}},vl;function Ft(){return vl||(vl=1,typeof Object.create=="function"?Fa.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Fa.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Fa.exports}var Ua={exports:{}},ja={exports:{}},yl;function Yo(){if(yl)return ja.exports;yl=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(z,W,re){return Function.prototype.apply.call(z,W,re)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:t=function(z){return Object.getOwnPropertyNames(z)};function n(U){console&&console.warn&&console.warn(U)}var a=Number.isNaN||function(z){return z!==z};function i(){i.init.call(this)}ja.exports=i,ja.exports.once=x,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function c(U){if(typeof U!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof U)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(U){if(typeof U!="number"||U<0||a(U))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+U+".");o=U}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||a(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this};function u(U){return U._maxListeners===void 0?i.defaultMaxListeners:U._maxListeners}i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(z){for(var W=[],re=1;re<arguments.length;re++)W.push(arguments[re]);var ie=z==="error",se=this._events;if(se!==void 0)ie=ie&&se.error===void 0;else if(!ie)return!1;if(ie){var ve;if(W.length>0&&(ve=W[0]),ve instanceof Error)throw ve;var Q=new Error("Unhandled error."+(ve?" ("+ve.message+")":""));throw Q.context=ve,Q}var M=se[z];if(M===void 0)return!1;if(typeof M=="function")e(M,this,W);else for(var b=M.length,s=m(M,b),re=0;re<b;++re)e(s[re],this,W);return!0};function h(U,z,W,re){var ie,se,ve;if(c(W),se=U._events,se===void 0?(se=U._events=Object.create(null),U._eventsCount=0):(se.newListener!==void 0&&(U.emit("newListener",z,W.listener?W.listener:W),se=U._events),ve=se[z]),ve===void 0)ve=se[z]=W,++U._eventsCount;else if(typeof ve=="function"?ve=se[z]=re?[W,ve]:[ve,W]:re?ve.unshift(W):ve.push(W),ie=u(U),ie>0&&ve.length>ie&&!ve.warned){ve.warned=!0;var Q=new Error("Possible EventEmitter memory leak detected. "+ve.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");Q.name="MaxListenersExceededWarning",Q.emitter=U,Q.type=z,Q.count=ve.length,n(Q)}return U}i.prototype.addListener=function(z,W){return h(this,z,W,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(z,W){return h(this,z,W,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(U,z,W){var re={fired:!1,wrapFn:void 0,target:U,type:z,listener:W},ie=f.bind(re);return ie.listener=W,re.wrapFn=ie,ie}i.prototype.once=function(z,W){return c(W),this.on(z,d(this,z,W)),this},i.prototype.prependOnceListener=function(z,W){return c(W),this.prependListener(z,d(this,z,W)),this},i.prototype.removeListener=function(z,W){var re,ie,se,ve,Q;if(c(W),ie=this._events,ie===void 0)return this;if(re=ie[z],re===void 0)return this;if(re===W||re.listener===W)--this._eventsCount===0?this._events=Object.create(null):(delete ie[z],ie.removeListener&&this.emit("removeListener",z,re.listener||W));else if(typeof re!="function"){for(se=-1,ve=re.length-1;ve>=0;ve--)if(re[ve]===W||re[ve].listener===W){Q=re[ve].listener,se=ve;break}if(se<0)return this;se===0?re.shift():w(re,se),re.length===1&&(ie[z]=re[0]),ie.removeListener!==void 0&&this.emit("removeListener",z,Q||W)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(z){var W,re,ie;if(re=this._events,re===void 0)return this;if(re.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):re[z]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete re[z]),this;if(arguments.length===0){var se=Object.keys(re),ve;for(ie=0;ie<se.length;++ie)ve=se[ie],ve!=="removeListener"&&this.removeAllListeners(ve);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(W=re[z],typeof W=="function")this.removeListener(z,W);else if(W!==void 0)for(ie=W.length-1;ie>=0;ie--)this.removeListener(z,W[ie]);return this};function l(U,z,W){var re=U._events;if(re===void 0)return[];var ie=re[z];return ie===void 0?[]:typeof ie=="function"?W?[ie.listener||ie]:[ie]:W?E(ie):m(ie,ie.length)}i.prototype.listeners=function(z){return l(this,z,!0)},i.prototype.rawListeners=function(z){return l(this,z,!1)},i.listenerCount=function(U,z){return typeof U.listenerCount=="function"?U.listenerCount(z):y.call(U,z)},i.prototype.listenerCount=y;function y(U){var z=this._events;if(z!==void 0){var W=z[U];if(typeof W=="function")return 1;if(W!==void 0)return W.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function m(U,z){for(var W=new Array(z),re=0;re<z;++re)W[re]=U[re];return W}function w(U,z){for(;z+1<U.length;z++)U[z]=U[z+1];U.pop()}function E(U){for(var z=new Array(U.length),W=0;W<z.length;++W)z[W]=U[W].listener||U[W];return z}function x(U,z){return new Promise(function(W,re){function ie(ve){U.removeListener(z,se),re(ve)}function se(){typeof U.removeListener=="function"&&U.removeListener("error",ie),W([].slice.call(arguments))}L(U,z,se,{once:!0}),z!=="error"&&P(U,ie,{once:!0})})}function P(U,z,W){typeof U.on=="function"&&L(U,"error",z,W)}function L(U,z,W,re){if(typeof U.on=="function")re.once?U.once(z,W):U.on(z,W);else if(typeof U.addEventListener=="function")U.addEventListener(z,function ie(se){re.once&&U.removeEventListener(z,ie),W(se)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof U)}return ja.exports}var Xo,bl;function ml(){return bl||(bl=1,Xo=Yo().EventEmitter),Xo}var Zo={},es={},ts,gl;function wl(){return gl||(gl=1,ts=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[t]=a;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==a||o.enumerable!==!0)return!1}return!0}),ts}var rs,_l;function ns(){if(_l)return rs;_l=1;var r=wl();return rs=function(){return r()&&!!Symbol.toStringTag},rs}var is,xl;function gm(){return xl||(xl=1,is=Error),is}var as,Sl;function wm(){return Sl||(Sl=1,as=EvalError),as}var os,El;function _m(){return El||(El=1,os=RangeError),os}var ss,Ml;function xm(){return Ml||(Ml=1,ss=ReferenceError),ss}var fs,Al;function Tl(){return Al||(Al=1,fs=SyntaxError),fs}var us,kl;function $a(){return kl||(kl=1,us=TypeError),us}var cs,Il;function Sm(){return Il||(Il=1,cs=URIError),cs}var hs,Rl;function Em(){if(Rl)return hs;Rl=1;var r=typeof Symbol!="undefined"&&Symbol,e=wl();return hs=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},hs}var ls,Cl;function Mm(){if(Cl)return ls;Cl=1;var r={__proto__:null,foo:{}},e=Object;return ls=function(){return{__proto__:r}.foo===r.foo&&!(r instanceof e)},ls}var ds,Ol;function Am(){if(Ol)return ds;Ol=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",a=function(u,h){for(var f=[],d=0;d<u.length;d+=1)f[d]=u[d];for(var l=0;l<h.length;l+=1)f[l+u.length]=h[l];return f},i=function(u,h){for(var f=[],d=h||0,l=0;d<u.length;d+=1,l+=1)f[l]=u[d];return f},o=function(c,u){for(var h="",f=0;f<c.length;f+=1)h+=c[f],f+1<c.length&&(h+=u);return h};return ds=function(u){var h=this;if(typeof h!="function"||e.apply(h)!==n)throw new TypeError(r+h);for(var f=i(arguments,1),d,l=function(){if(this instanceof d){var x=h.apply(this,a(f,arguments));return Object(x)===x?x:this}return h.apply(u,a(f,arguments))},y=t(0,h.length-f.length),m=[],w=0;w<y;w++)m[w]="$"+w;if(d=Function("binder","return function ("+o(m,",")+"){ return binder.apply(this,arguments); }")(l),h.prototype){var E=function(){};E.prototype=h.prototype,d.prototype=new E,E.prototype=null}return d},ds}var ps,Bl;function vs(){if(Bl)return ps;Bl=1;var r=Am();return ps=Function.prototype.bind||r,ps}var ys,Pl;function Tm(){if(Pl)return ys;Pl=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=vs();return ys=t.call(r,e),ys}var bs,Dl;function ji(){if(Dl)return bs;Dl=1;var r,e=gm(),t=wm(),n=_m(),a=xm(),i=Tl(),o=$a(),c=Sm(),u=Function,h=function(A){try{return u('"use strict"; return ('+A+").constructor;")()}catch(I){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch(A){f=null}var d=function(){throw new o},l=f?function(){try{return arguments.callee,d}catch(A){try{return f(arguments,"callee").get}catch(I){return d}}}():d,y=Em()(),m=Mm()(),w=Object.getPrototypeOf||(m?function(A){return A.__proto__}:null),E={},x=typeof Uint8Array=="undefined"||!w?r:w(Uint8Array),P={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?r:ArrayBuffer,"%ArrayIteratorPrototype%":y&&w?w([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":typeof Atomics=="undefined"?r:Atomics,"%BigInt%":typeof BigInt=="undefined"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":e,"%eval%":eval,"%EvalError%":t,"%Float32Array%":typeof Float32Array=="undefined"?r:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?r:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":E,"%Int8Array%":typeof Int8Array=="undefined"?r:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?r:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y&&w?w(w([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map=="undefined"?r:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!y||!w?r:w(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?r:Promise,"%Proxy%":typeof Proxy=="undefined"?r:Proxy,"%RangeError%":n,"%ReferenceError%":a,"%Reflect%":typeof Reflect=="undefined"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?r:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!y||!w?r:w(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y&&w?w(""[Symbol.iterator]()):r,"%Symbol%":y?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":l,"%TypedArray%":x,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array=="undefined"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?r:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap=="undefined"?r:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?r:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?r:WeakSet};if(w)try{null.error}catch(A){var L=w(w(A));P["%Error.prototype%"]=L}var U=function A(I){var R;if(I==="%AsyncFunction%")R=h("async function () {}");else if(I==="%GeneratorFunction%")R=h("function* () {}");else if(I==="%AsyncGeneratorFunction%")R=h("async function* () {}");else if(I==="%AsyncGenerator%"){var S=A("%AsyncGeneratorFunction%");S&&(R=S.prototype)}else if(I==="%AsyncIteratorPrototype%"){var T=A("%AsyncGenerator%");T&&w&&(R=w(T.prototype))}return P[I]=R,R},z={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W=vs(),re=Tm(),ie=W.call(Function.call,Array.prototype.concat),se=W.call(Function.apply,Array.prototype.splice),ve=W.call(Function.call,String.prototype.replace),Q=W.call(Function.call,String.prototype.slice),M=W.call(Function.call,RegExp.prototype.exec),b=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,s=/\\(\\)?/g,v=function(I){var R=Q(I,0,1),S=Q(I,-1);if(R==="%"&&S!=="%")throw new i("invalid intrinsic syntax, expected closing `%`");if(S==="%"&&R!=="%")throw new i("invalid intrinsic syntax, expected opening `%`");var T=[];return ve(I,b,function(p,B,ee,oe){T[T.length]=ee?ve(oe,s,"$1"):B||p}),T},g=function(I,R){var S=I,T;if(re(z,S)&&(T=z[S],S="%"+T[0]+"%"),re(P,S)){var p=P[S];if(p===E&&(p=U(S)),typeof p=="undefined"&&!R)throw new o("intrinsic "+I+" exists, but is not available. Please file an issue!");return{alias:T,name:S,value:p}}throw new i("intrinsic "+I+" does not exist!")};return bs=function(I,R){if(typeof I!="string"||I.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof R!="boolean")throw new o('"allowMissing" argument must be a boolean');if(M(/^%?[^%]*%?$/,I)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var S=v(I),T=S.length>0?S[0]:"",p=g("%"+T+"%",R),B=p.name,ee=p.value,oe=!1,Z=p.alias;Z&&(T=Z[0],se(S,ie([0,1],Z)));for(var ne=1,fe=!0;ne<S.length;ne+=1){var le=S[ne],ke=Q(le,0,1),X=Q(le,-1);if((ke==='"'||ke==="'"||ke==="`"||X==='"'||X==="'"||X==="`")&&ke!==X)throw new i("property names with quotes must have matching quotes");if((le==="constructor"||!fe)&&(oe=!0),T+="."+le,B="%"+T+"%",re(P,B))ee=P[B];else if(ee!=null){if(!(le in ee)){if(!R)throw new o("base intrinsic for "+I+" exists, but the property is not available.");return}if(f&&ne+1>=S.length){var G=f(ee,le);fe=!!G,fe&&"get"in G&&!("originalValue"in G.get)?ee=G.get:ee=ee[le]}else fe=re(ee,le),ee=ee[le];fe&&!oe&&(P[B]=ee)}}return ee},bs}var ms={exports:{}},gs,Nl;function ws(){if(Nl)return gs;Nl=1;var r=ji(),e=r("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}return gs=e,gs}var _s,ql;function xs(){if(ql)return _s;ql=1;var r=ji(),e=r("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch(t){e=null}return _s=e,_s}var Ss,Ll;function km(){if(Ll)return Ss;Ll=1;var r=ws(),e=Tl(),t=$a(),n=xs();return Ss=function(i,o,c){if(!i||typeof i!="object"&&typeof i!="function")throw new t("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,l=!!n&&n(i,o);if(r)r(i,o,{configurable:f===null&&l?l.configurable:!f,enumerable:u===null&&l?l.enumerable:!u,value:c,writable:h===null&&l?l.writable:!h});else if(d||!u&&!h&&!f)i[o]=c;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ss}var Es,Fl;function Im(){if(Fl)return Es;Fl=1;var r=ws(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch(n){return!0}},Es=e,Es}var Ms,Ul;function Rm(){if(Ul)return Ms;Ul=1;var r=ji(),e=km(),t=Im()(),n=xs(),a=$a(),i=r("%Math.floor%");return Ms=function(c,u){if(typeof c!="function")throw new a("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||i(u)!==u)throw new a("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],f=!0,d=!0;if("length"in c&&n){var l=n(c,"length");l&&!l.configurable&&(f=!1),l&&!l.writable&&(d=!1)}return(f||d||!h)&&(t?e(c,"length",u,!0,!0):e(c,"length",u)),c},Ms}var jl;function $l(){return jl||(jl=1,function(r){var e=vs(),t=ji(),n=Rm(),a=$a(),i=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),c=t("%Reflect.apply%",!0)||e.call(o,i),u=ws(),h=t("%Math.max%");r.exports=function(l){if(typeof l!="function")throw new a("a function is required");var y=c(e,o,arguments);return n(y,1+h(0,l.length-(arguments.length-1)),!0)};var f=function(){return c(e,i,arguments)};u?u(r.exports,"apply",{value:f}):r.exports.apply=f}(ms)),ms.exports}var As,Hl;function zl(){if(Hl)return As;Hl=1;var r=ji(),e=$l(),t=e(r("String.prototype.indexOf"));return As=function(a,i){var o=r(a,!!i);return typeof o=="function"&&t(a,".prototype.")>-1?e(o):o},As}var Ts,Vl;function Cm(){if(Vl)return Ts;Vl=1;var r=ns()(),e=zl(),t=e("Object.prototype.toString"),n=function(c){return r&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:t(c)==="[object Arguments]"},a=function(c){return n(c)?!0:c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&t(c)!=="[object Array]"&&t(c.callee)==="[object Function]"},i=function(){return n(arguments)}();return n.isLegacyArguments=a,Ts=i?n:a,Ts}var ks,Wl;function Om(){if(Wl)return ks;Wl=1;var r=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,n=ns()(),a=Object.getPrototypeOf,i=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch(c){}},o;return ks=function(u){if(typeof u!="function")return!1;if(t.test(e.call(u)))return!0;if(!n){var h=r.call(u);return h==="[object GeneratorFunction]"}if(!a)return!1;if(typeof o=="undefined"){var f=i();o=f?a(f):!1}return a(u)===o},ks}var Is,Kl;function Bm(){if(Kl)return Is;Kl=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(P){P!==n&&(e=null)}else e=null;var a=/^\s*class\b/,i=function(L){try{var U=r.call(L);return a.test(U)}catch(z){return!1}},o=function(L){try{return i(L)?!1:(r.call(L),!0)}catch(U){return!1}},c=Object.prototype.toString,u="[object Object]",h="[object Function]",f="[object GeneratorFunction]",d="[object HTMLAllCollection]",l="[object HTML document.all class]",y="[object HTMLCollection]",m=typeof Symbol=="function"&&!!Symbol.toStringTag,w=!(0 in[,]),E=function(){return!1};if(typeof document=="object"){var x=document.all;c.call(x)===c.call(document.all)&&(E=function(L){if((w||!L)&&(typeof L=="undefined"||typeof L=="object"))try{var U=c.call(L);return(U===d||U===l||U===y||U===u)&&L("")==null}catch(z){}return!1})}return Is=e?function(L){if(E(L))return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;try{e(L,null,t)}catch(U){if(U!==n)return!1}return!i(L)&&o(L)}:function(L){if(E(L))return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;if(m)return o(L);if(i(L))return!1;var U=c.call(L);return U!==h&&U!==f&&!/^\[object HTML/.test(U)?!1:o(L)},Is}var Rs,Ql;function Pm(){if(Ql)return Rs;Ql=1;var r=Bm(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(u,h,f){for(var d=0,l=u.length;d<l;d++)t.call(u,d)&&(f==null?h(u[d],d,u):h.call(f,u[d],d,u))},a=function(u,h,f){for(var d=0,l=u.length;d<l;d++)f==null?h(u.charAt(d),d,u):h.call(f,u.charAt(d),d,u)},i=function(u,h,f){for(var d in u)t.call(u,d)&&(f==null?h(u[d],d,u):h.call(f,u[d],d,u))},o=function(u,h,f){if(!r(h))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=f),e.call(u)==="[object Array]"?n(u,h,d):typeof u=="string"?a(u,h,d):i(u,h,d)};return Rs=o,Rs}var Cs,Gl;function Dm(){return Gl||(Gl=1,Cs=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Cs}var Os,Jl;function Nm(){if(Jl)return Os;Jl=1;var r=Dm(),e=typeof globalThis=="undefined"?Kt:globalThis;return Os=function(){for(var n=[],a=0;a<r.length;a++)typeof e[r[a]]=="function"&&(n[n.length]=r[a]);return n},Os}var Bs,Yl;function Xl(){if(Yl)return Bs;Yl=1;var r=Pm(),e=Nm(),t=$l(),n=zl(),a=xs(),i=n("Object.prototype.toString"),o=ns()(),c=typeof globalThis=="undefined"?Kt:globalThis,u=e(),h=n("String.prototype.slice"),f=Object.getPrototypeOf,d=n("Array.prototype.indexOf",!0)||function(E,x){for(var P=0;P<E.length;P+=1)if(E[P]===x)return P;return-1},l={__proto__:null};o&&a&&f?r(u,function(w){var E=new c[w];if(Symbol.toStringTag in E){var x=f(E),P=a(x,Symbol.toStringTag);if(!P){var L=f(x);P=a(L,Symbol.toStringTag)}l["$"+w]=t(P.get)}}):r(u,function(w){var E=new c[w],x=E.slice||E.set;x&&(l["$"+w]=t(x))});var y=function(E){var x=!1;return r(l,function(P,L){if(!x)try{"$"+P(E)===L&&(x=h(L,1))}catch(U){}}),x},m=function(E){var x=!1;return r(l,function(P,L){if(!x)try{P(E),x=h(L,1)}catch(U){}}),x};return Bs=function(E){if(!E||typeof E!="object")return!1;if(!o){var x=h(i(E),8,-1);return d(u,x)>-1?x:x!=="Object"?!1:m(E)}return a?y(E):null},Bs}var Ps,Zl;function qm(){if(Zl)return Ps;Zl=1;var r=Xl();return Ps=function(t){return!!r(t)},Ps}var e0;function Lm(){return e0||(e0=1,function(r){var e=Cm(),t=Om(),n=Xl(),a=qm();function i(ge){return ge.call.bind(ge)}var o=typeof BigInt!="undefined",c=typeof Symbol!="undefined",u=i(Object.prototype.toString),h=i(Number.prototype.valueOf),f=i(String.prototype.valueOf),d=i(Boolean.prototype.valueOf);if(o)var l=i(BigInt.prototype.valueOf);if(c)var y=i(Symbol.prototype.valueOf);function m(ge,lt){if(typeof ge!="object")return!1;try{return lt(ge),!0}catch(je){return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=a;function w(ge){return typeof Promise!="undefined"&&ge instanceof Promise||ge!==null&&typeof ge=="object"&&typeof ge.then=="function"&&typeof ge.catch=="function"}r.isPromise=w;function E(ge){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(ge):a(ge)||B(ge)}r.isArrayBufferView=E;function x(ge){return n(ge)==="Uint8Array"}r.isUint8Array=x;function P(ge){return n(ge)==="Uint8ClampedArray"}r.isUint8ClampedArray=P;function L(ge){return n(ge)==="Uint16Array"}r.isUint16Array=L;function U(ge){return n(ge)==="Uint32Array"}r.isUint32Array=U;function z(ge){return n(ge)==="Int8Array"}r.isInt8Array=z;function W(ge){return n(ge)==="Int16Array"}r.isInt16Array=W;function re(ge){return n(ge)==="Int32Array"}r.isInt32Array=re;function ie(ge){return n(ge)==="Float32Array"}r.isFloat32Array=ie;function se(ge){return n(ge)==="Float64Array"}r.isFloat64Array=se;function ve(ge){return n(ge)==="BigInt64Array"}r.isBigInt64Array=ve;function Q(ge){return n(ge)==="BigUint64Array"}r.isBigUint64Array=Q;function M(ge){return u(ge)==="[object Map]"}M.working=typeof Map!="undefined"&&M(new Map);function b(ge){return typeof Map=="undefined"?!1:M.working?M(ge):ge instanceof Map}r.isMap=b;function s(ge){return u(ge)==="[object Set]"}s.working=typeof Set!="undefined"&&s(new Set);function v(ge){return typeof Set=="undefined"?!1:s.working?s(ge):ge instanceof Set}r.isSet=v;function g(ge){return u(ge)==="[object WeakMap]"}g.working=typeof WeakMap!="undefined"&&g(new WeakMap);function A(ge){return typeof WeakMap=="undefined"?!1:g.working?g(ge):ge instanceof WeakMap}r.isWeakMap=A;function I(ge){return u(ge)==="[object WeakSet]"}I.working=typeof WeakSet!="undefined"&&I(new WeakSet);function R(ge){return I(ge)}r.isWeakSet=R;function S(ge){return u(ge)==="[object ArrayBuffer]"}S.working=typeof ArrayBuffer!="undefined"&&S(new ArrayBuffer);function T(ge){return typeof ArrayBuffer=="undefined"?!1:S.working?S(ge):ge instanceof ArrayBuffer}r.isArrayBuffer=T;function p(ge){return u(ge)==="[object DataView]"}p.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&p(new DataView(new ArrayBuffer(1),0,1));function B(ge){return typeof DataView=="undefined"?!1:p.working?p(ge):ge instanceof DataView}r.isDataView=B;var ee=typeof SharedArrayBuffer!="undefined"?SharedArrayBuffer:void 0;function oe(ge){return u(ge)==="[object SharedArrayBuffer]"}function Z(ge){return typeof ee=="undefined"?!1:(typeof oe.working=="undefined"&&(oe.working=oe(new ee)),oe.working?oe(ge):ge instanceof ee)}r.isSharedArrayBuffer=Z;function ne(ge){return u(ge)==="[object AsyncFunction]"}r.isAsyncFunction=ne;function fe(ge){return u(ge)==="[object Map Iterator]"}r.isMapIterator=fe;function le(ge){return u(ge)==="[object Set Iterator]"}r.isSetIterator=le;function ke(ge){return u(ge)==="[object Generator]"}r.isGeneratorObject=ke;function X(ge){return u(ge)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=X;function G(ge){return m(ge,h)}r.isNumberObject=G;function _e(ge){return m(ge,f)}r.isStringObject=_e;function Ae(ge){return m(ge,d)}r.isBooleanObject=Ae;function Oe(ge){return o&&m(ge,l)}r.isBigIntObject=Oe;function qe(ge){return c&&m(ge,y)}r.isSymbolObject=qe;function Ue(ge){return G(ge)||_e(ge)||Ae(ge)||Oe(ge)||qe(ge)}r.isBoxedPrimitive=Ue;function ze(ge){return typeof Uint8Array!="undefined"&&(T(ge)||Z(ge))}r.isAnyArrayBuffer=ze,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ge){Object.defineProperty(r,ge,{enumerable:!1,value:function(){throw new Error(ge+" is not supported in userland")}})})}(es)),es}var Ds,t0;function Fm(){return t0||(t0=1,Ds=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Ds}var r0;function n0(){return r0||(r0=1,function(r){var e=Object.getOwnPropertyDescriptors||function(B){for(var ee=Object.keys(B),oe={},Z=0;Z<ee.length;Z++)oe[ee[Z]]=Object.getOwnPropertyDescriptor(B,ee[Z]);return oe},t=/%[sdj%]/g;r.format=function(p){if(!z(p)){for(var B=[],ee=0;ee<arguments.length;ee++)B.push(o(arguments[ee]));return B.join(" ")}for(var ee=1,oe=arguments,Z=oe.length,ne=String(p).replace(t,function(le){if(le==="%%")return"%";if(ee>=Z)return le;switch(le){case"%s":return String(oe[ee++]);case"%d":return Number(oe[ee++]);case"%j":try{return JSON.stringify(oe[ee++])}catch(ke){return"[Circular]"}default:return le}}),fe=oe[ee];ee<Z;fe=oe[++ee])P(fe)||!se(fe)?ne+=" "+fe:ne+=" "+o(fe);return ne},r.deprecate=function(p,B){if(typeof Ot!="undefined"&&Ot.noDeprecation===!0)return p;if(typeof Ot=="undefined")return function(){return r.deprecate(p,B).apply(this,arguments)};var ee=!1;function oe(){if(!ee){if(Ot.throwDeprecation)throw new Error(B);Ot.traceDeprecation?console.trace(B):console.error(B),ee=!0}return p.apply(this,arguments)}return oe};var n={},a=/^$/;if(Ot.env.NODE_DEBUG){var i=Ot.env.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+i+"$","i")}r.debuglog=function(p){if(p=p.toUpperCase(),!n[p])if(a.test(p)){var B=Ot.pid;n[p]=function(){var ee=r.format.apply(r,arguments);console.error("%s %d: %s",p,B,ee)}}else n[p]=function(){};return n[p]};function o(p,B){var ee={seen:[],stylize:u};return arguments.length>=3&&(ee.depth=arguments[2]),arguments.length>=4&&(ee.colors=arguments[3]),x(B)?ee.showHidden=B:B&&r._extend(ee,B),re(ee.showHidden)&&(ee.showHidden=!1),re(ee.depth)&&(ee.depth=2),re(ee.colors)&&(ee.colors=!1),re(ee.customInspect)&&(ee.customInspect=!0),ee.colors&&(ee.stylize=c),f(ee,p,ee.depth)}r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(p,B){var ee=o.styles[B];return ee?"\x1B["+o.colors[ee][0]+"m"+p+"\x1B["+o.colors[ee][1]+"m":p}function u(p,B){return p}function h(p){var B={};return p.forEach(function(ee,oe){B[ee]=!0}),B}function f(p,B,ee){if(p.customInspect&&B&&M(B.inspect)&&B.inspect!==r.inspect&&!(B.constructor&&B.constructor.prototype===B)){var oe=B.inspect(ee,p);return z(oe)||(oe=f(p,oe,ee)),oe}var Z=d(p,B);if(Z)return Z;var ne=Object.keys(B),fe=h(ne);if(p.showHidden&&(ne=Object.getOwnPropertyNames(B)),Q(B)&&(ne.indexOf("message")>=0||ne.indexOf("description")>=0))return l(B);if(ne.length===0){if(M(B)){var le=B.name?": "+B.name:"";return p.stylize("[Function"+le+"]","special")}if(ie(B))return p.stylize(RegExp.prototype.toString.call(B),"regexp");if(ve(B))return p.stylize(Date.prototype.toString.call(B),"date");if(Q(B))return l(B)}var ke="",X=!1,G=["{","}"];if(E(B)&&(X=!0,G=["[","]"]),M(B)){var _e=B.name?": "+B.name:"";ke=" [Function"+_e+"]"}if(ie(B)&&(ke=" "+RegExp.prototype.toString.call(B)),ve(B)&&(ke=" "+Date.prototype.toUTCString.call(B)),Q(B)&&(ke=" "+l(B)),ne.length===0&&(!X||B.length==0))return G[0]+ke+G[1];if(ee<0)return ie(B)?p.stylize(RegExp.prototype.toString.call(B),"regexp"):p.stylize("[Object]","special");p.seen.push(B);var Ae;return X?Ae=y(p,B,ee,fe,ne):Ae=ne.map(function(Oe){return m(p,B,ee,fe,Oe,X)}),p.seen.pop(),w(Ae,ke,G)}function d(p,B){if(re(B))return p.stylize("undefined","undefined");if(z(B)){var ee="'"+JSON.stringify(B).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p.stylize(ee,"string")}if(U(B))return p.stylize(""+B,"number");if(x(B))return p.stylize(""+B,"boolean");if(P(B))return p.stylize("null","null")}function l(p){return"["+Error.prototype.toString.call(p)+"]"}function y(p,B,ee,oe,Z){for(var ne=[],fe=0,le=B.length;fe<le;++fe)I(B,String(fe))?ne.push(m(p,B,ee,oe,String(fe),!0)):ne.push("");return Z.forEach(function(ke){ke.match(/^\d+$/)||ne.push(m(p,B,ee,oe,ke,!0))}),ne}function m(p,B,ee,oe,Z,ne){var fe,le,ke;if(ke=Object.getOwnPropertyDescriptor(B,Z)||{value:B[Z]},ke.get?ke.set?le=p.stylize("[Getter/Setter]","special"):le=p.stylize("[Getter]","special"):ke.set&&(le=p.stylize("[Setter]","special")),I(oe,Z)||(fe="["+Z+"]"),le||(p.seen.indexOf(ke.value)<0?(P(ee)?le=f(p,ke.value,null):le=f(p,ke.value,ee-1),le.indexOf(`
`)>-1&&(ne?le=le.split(`
`).map(function(X){return"  "+X}).join(`
`).slice(2):le=`
`+le.split(`
`).map(function(X){return"   "+X}).join(`
`))):le=p.stylize("[Circular]","special")),re(fe)){if(ne&&Z.match(/^\d+$/))return le;fe=JSON.stringify(""+Z),fe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(fe=fe.slice(1,-1),fe=p.stylize(fe,"name")):(fe=fe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),fe=p.stylize(fe,"string"))}return fe+": "+le}function w(p,B,ee){var oe=p.reduce(function(Z,ne){return ne.indexOf(`
`)>=0,Z+ne.replace(/\u001b\[\d\d?m/g,"").length+1},0);return oe>60?ee[0]+(B===""?"":B+`
 `)+" "+p.join(`,
  `)+" "+ee[1]:ee[0]+B+" "+p.join(", ")+" "+ee[1]}r.types=Lm();function E(p){return Array.isArray(p)}r.isArray=E;function x(p){return typeof p=="boolean"}r.isBoolean=x;function P(p){return p===null}r.isNull=P;function L(p){return p==null}r.isNullOrUndefined=L;function U(p){return typeof p=="number"}r.isNumber=U;function z(p){return typeof p=="string"}r.isString=z;function W(p){return typeof p=="symbol"}r.isSymbol=W;function re(p){return p===void 0}r.isUndefined=re;function ie(p){return se(p)&&s(p)==="[object RegExp]"}r.isRegExp=ie,r.types.isRegExp=ie;function se(p){return typeof p=="object"&&p!==null}r.isObject=se;function ve(p){return se(p)&&s(p)==="[object Date]"}r.isDate=ve,r.types.isDate=ve;function Q(p){return se(p)&&(s(p)==="[object Error]"||p instanceof Error)}r.isError=Q,r.types.isNativeError=Q;function M(p){return typeof p=="function"}r.isFunction=M;function b(p){return p===null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||typeof p=="symbol"||typeof p=="undefined"}r.isPrimitive=b,r.isBuffer=Fm();function s(p){return Object.prototype.toString.call(p)}function v(p){return p<10?"0"+p.toString(10):p.toString(10)}var g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var p=new Date,B=[v(p.getHours()),v(p.getMinutes()),v(p.getSeconds())].join(":");return[p.getDate(),g[p.getMonth()],B].join(" ")}r.log=function(){console.log("%s - %s",A(),r.format.apply(r,arguments))},r.inherits=Ft(),r._extend=function(p,B){if(!B||!se(B))return p;for(var ee=Object.keys(B),oe=ee.length;oe--;)p[ee[oe]]=B[ee[oe]];return p};function I(p,B){return Object.prototype.hasOwnProperty.call(p,B)}var R=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;r.promisify=function(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');if(R&&B[R]){var ee=B[R];if(typeof ee!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ee,R,{value:ee,enumerable:!1,writable:!1,configurable:!0}),ee}function ee(){for(var oe,Z,ne=new Promise(function(ke,X){oe=ke,Z=X}),fe=[],le=0;le<arguments.length;le++)fe.push(arguments[le]);fe.push(function(ke,X){ke?Z(ke):oe(X)});try{B.apply(this,fe)}catch(ke){Z(ke)}return ne}return Object.setPrototypeOf(ee,Object.getPrototypeOf(B)),R&&Object.defineProperty(ee,R,{value:ee,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ee,e(B))},r.promisify.custom=R;function S(p,B){if(!p){var ee=new Error("Promise was rejected with a falsy value");ee.reason=p,p=ee}return B(p)}function T(p){if(typeof p!="function")throw new TypeError('The "original" argument must be of type Function');function B(){for(var ee=[],oe=0;oe<arguments.length;oe++)ee.push(arguments[oe]);var Z=ee.pop();if(typeof Z!="function")throw new TypeError("The last argument must be of type Function");var ne=this,fe=function(){return Z.apply(ne,arguments)};p.apply(this,ee).then(function(le){Ot.nextTick(fe.bind(null,null,le))},function(le){Ot.nextTick(S.bind(null,le,fe))})}return Object.setPrototypeOf(B,Object.getPrototypeOf(p)),Object.defineProperties(B,e(p)),B}r.callbackify=T}(Zo)),Zo}var Ns,i0;function Um(){if(i0)return Ns;i0=1;function r(m,w){var E=Object.keys(m);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(m);w&&(x=x.filter(function(P){return Object.getOwnPropertyDescriptor(m,P).enumerable})),E.push.apply(E,x)}return E}function e(m){for(var w=1;w<arguments.length;w++){var E=arguments[w]!=null?arguments[w]:{};w%2?r(Object(E),!0).forEach(function(x){t(m,x,E[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(E)):r(Object(E)).forEach(function(x){Object.defineProperty(m,x,Object.getOwnPropertyDescriptor(E,x))})}return m}function t(m,w,E){return w=o(w),w in m?Object.defineProperty(m,w,{value:E,enumerable:!0,configurable:!0,writable:!0}):m[w]=E,m}function n(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function a(m,w){for(var E=0;E<w.length;E++){var x=w[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,o(x.key),x)}}function i(m,w,E){return w&&a(m.prototype,w),E&&a(m,E),Object.defineProperty(m,"prototype",{writable:!1}),m}function o(m){var w=c(m,"string");return typeof w=="symbol"?w:String(w)}function c(m,w){if(typeof m!="object"||m===null)return m;var E=m[Symbol.toPrimitive];if(E!==void 0){var x=E.call(m,w||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(m)}var u=wn,h=u.Buffer,f=n0(),d=f.inspect,l=d&&d.custom||"inspect";function y(m,w,E){h.prototype.copy.call(m,w,E)}return Ns=function(){function m(){n(this,m),this.head=null,this.tail=null,this.length=0}return i(m,[{key:"push",value:function(E){var x={data:E,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(E){var x={data:E,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var x=this.head,P=""+x.data;x=x.next;)P+=E+x.data;return P}},{key:"concat",value:function(E){if(this.length===0)return h.alloc(0);for(var x=h.allocUnsafe(E>>>0),P=this.head,L=0;P;)y(P.data,x,L),L+=P.data.length,P=P.next;return x}},{key:"consume",value:function(E,x){var P;return E<this.head.data.length?(P=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?P=this.shift():P=x?this._getString(E):this._getBuffer(E),P}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var x=this.head,P=1,L=x.data;for(E-=L.length;x=x.next;){var U=x.data,z=E>U.length?U.length:E;if(z===U.length?L+=U:L+=U.slice(0,E),E-=z,E===0){z===U.length?(++P,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=U.slice(z));break}++P}return this.length-=P,L}},{key:"_getBuffer",value:function(E){var x=h.allocUnsafe(E),P=this.head,L=1;for(P.data.copy(x),E-=P.data.length;P=P.next;){var U=P.data,z=E>U.length?U.length:E;if(U.copy(x,x.length-E,0,z),E-=z,E===0){z===U.length?(++L,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=U.slice(z));break}++L}return this.length-=L,x}},{key:l,value:function(E,x){return d(this,e(e({},x),{},{depth:0,customInspect:!1}))}}]),m}(),Ns}var qs,a0;function o0(){if(a0)return qs;a0=1;function r(o,c){var u=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(c?c(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ot.nextTick(a,this,o)):Ot.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(d){!c&&d?u._writableState?u._writableState.errorEmitted?Ot.nextTick(t,u):(u._writableState.errorEmitted=!0,Ot.nextTick(e,u,d)):Ot.nextTick(e,u,d):c?(Ot.nextTick(t,u),c(d)):Ot.nextTick(t,u)}),this)}function e(o,c){a(o,c),t(o)}function t(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(o,c){o.emit("error",c)}function i(o,c){var u=o._readableState,h=o._writableState;u&&u.autoDestroy||h&&h.autoDestroy?o.destroy(c):o.emit("error",c)}return qs={destroy:r,undestroy:n,errorOrDestroy:i},qs}var Ls={},s0;function li(){if(s0)return Ls;s0=1;function r(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var e={};function t(c,u,h){h||(h=Error);function f(l,y,m){return typeof u=="string"?u:u(l,y,m)}var d=function(l){r(y,l);function y(m,w,E){return l.call(this,f(m,w,E))||this}return y}(h);d.prototype.name=h.name,d.prototype.code=c,e[c]=d}function n(c,u){if(Array.isArray(c)){var h=c.length;return c=c.map(function(f){return String(f)}),h>2?"one of ".concat(u," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(u," ").concat(c[0]," or ").concat(c[1]):"of ".concat(u," ").concat(c[0])}else return"of ".concat(u," ").concat(String(c))}function a(c,u,h){return c.substr(!h||h<0?0:+h,u.length)===u}function i(c,u,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-u.length,h)===u}function o(c,u,h){return typeof h!="number"&&(h=0),h+u.length>c.length?!1:c.indexOf(u,h)!==-1}return t("ERR_INVALID_OPT_VALUE",function(c,u){return'The value "'+u+'" is invalid for option "'+c+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(c,u,h){var f;typeof u=="string"&&a(u,"not ")?(f="must not be",u=u.replace(/^not /,"")):f="must be";var d;if(i(c," argument"))d="The ".concat(c," ").concat(f," ").concat(n(u,"type"));else{var l=o(c,".")?"property":"argument";d='The "'.concat(c,'" ').concat(l," ").concat(f," ").concat(n(u,"type"))}return d+=". Received type ".concat(typeof h),d},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ls.codes=e,Ls}var Fs,f0;function u0(){if(f0)return Fs;f0=1;var r=li().codes.ERR_INVALID_OPT_VALUE;function e(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function t(n,a,i,o){var c=e(a,o,i);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var u=o?i:"highWaterMark";throw new r(u,c)}return Math.floor(c)}return n.objectMode?16:16384}return Fs={getHighWaterMark:t},Fs}var Us,c0;function jm(){if(c0)return Us;c0=1,Us=r;function r(t,n){if(e("noDeprecation"))return t;var a=!1;function i(){if(!a){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),a=!0}return t.apply(this,arguments)}return i}function e(t){try{if(!Kt.localStorage)return!1}catch(a){return!1}var n=Kt.localStorage[t];return n==null?!1:String(n).toLowerCase()==="true"}return Us}var js,h0;function $s(){if(h0)return js;h0=1,js=ie;function r(Z){var ne=this;this.next=null,this.entry=null,this.finish=function(){oe(ne,Z)}}var e;ie.WritableState=W;var t={deprecate:jm()},n=ml(),a=wn.Buffer,i=(typeof Kt!="undefined"?Kt:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function o(Z){return a.from(Z)}function c(Z){return a.isBuffer(Z)||Z instanceof i}var u=o0(),h=u0(),f=h.getHighWaterMark,d=li().codes,l=d.ERR_INVALID_ARG_TYPE,y=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,w=d.ERR_STREAM_CANNOT_PIPE,E=d.ERR_STREAM_DESTROYED,x=d.ERR_STREAM_NULL_VALUES,P=d.ERR_STREAM_WRITE_AFTER_END,L=d.ERR_UNKNOWN_ENCODING,U=u.errorOrDestroy;Ft()(ie,n);function z(){}function W(Z,ne,fe){e=e||Wn(),Z=Z||{},typeof fe!="boolean"&&(fe=ne instanceof e),this.objectMode=!!Z.objectMode,fe&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=f(this,Z,"writableHighWaterMark",fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var le=Z.decodeStrings===!1;this.decodeStrings=!le,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ke){g(ne,ke)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}W.prototype.getBuffer=function(){for(var ne=this.bufferedRequest,fe=[];ne;)fe.push(ne),ne=ne.next;return fe},function(){try{Object.defineProperty(W.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(Z){}}();var re;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(re=Function.prototype[Symbol.hasInstance],Object.defineProperty(ie,Symbol.hasInstance,{value:function(ne){return re.call(this,ne)?!0:this!==ie?!1:ne&&ne._writableState instanceof W}})):re=function(ne){return ne instanceof this};function ie(Z){e=e||Wn();var ne=this instanceof e;if(!ne&&!re.call(ie,this))return new ie(Z);this._writableState=new W(Z,this,ne),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),n.call(this)}ie.prototype.pipe=function(){U(this,new w)};function se(Z,ne){var fe=new P;U(Z,fe),Ot.nextTick(ne,fe)}function ve(Z,ne,fe,le){var ke;return fe===null?ke=new x:typeof fe!="string"&&!ne.objectMode&&(ke=new l("chunk",["string","Buffer"],fe)),ke?(U(Z,ke),Ot.nextTick(le,ke),!1):!0}ie.prototype.write=function(Z,ne,fe){var le=this._writableState,ke=!1,X=!le.objectMode&&c(Z);return X&&!a.isBuffer(Z)&&(Z=o(Z)),typeof ne=="function"&&(fe=ne,ne=null),X?ne="buffer":ne||(ne=le.defaultEncoding),typeof fe!="function"&&(fe=z),le.ending?se(this,fe):(X||ve(this,le,Z,fe))&&(le.pendingcb++,ke=M(this,le,X,Z,ne,fe)),ke},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&R(this,Z))},ie.prototype.setDefaultEncoding=function(ne){if(typeof ne=="string"&&(ne=ne.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ne+"").toLowerCase())>-1))throw new L(ne);return this._writableState.defaultEncoding=ne,this},Object.defineProperty(ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Q(Z,ne,fe){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof ne=="string"&&(ne=a.from(ne,fe)),ne}Object.defineProperty(ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M(Z,ne,fe,le,ke,X){if(!fe){var G=Q(ne,le,ke);le!==G&&(fe=!0,ke="buffer",le=G)}var _e=ne.objectMode?1:le.length;ne.length+=_e;var Ae=ne.length<ne.highWaterMark;if(Ae||(ne.needDrain=!0),ne.writing||ne.corked){var Oe=ne.lastBufferedRequest;ne.lastBufferedRequest={chunk:le,encoding:ke,isBuf:fe,callback:X,next:null},Oe?Oe.next=ne.lastBufferedRequest:ne.bufferedRequest=ne.lastBufferedRequest,ne.bufferedRequestCount+=1}else b(Z,ne,!1,_e,le,ke,X);return Ae}function b(Z,ne,fe,le,ke,X,G){ne.writelen=le,ne.writecb=G,ne.writing=!0,ne.sync=!0,ne.destroyed?ne.onwrite(new E("write")):fe?Z._writev(ke,ne.onwrite):Z._write(ke,X,ne.onwrite),ne.sync=!1}function s(Z,ne,fe,le,ke){--ne.pendingcb,fe?(Ot.nextTick(ke,le),Ot.nextTick(B,Z,ne),Z._writableState.errorEmitted=!0,U(Z,le)):(ke(le),Z._writableState.errorEmitted=!0,U(Z,le),B(Z,ne))}function v(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function g(Z,ne){var fe=Z._writableState,le=fe.sync,ke=fe.writecb;if(typeof ke!="function")throw new m;if(v(fe),ne)s(Z,fe,le,ne,ke);else{var X=S(fe)||Z.destroyed;!X&&!fe.corked&&!fe.bufferProcessing&&fe.bufferedRequest&&R(Z,fe),le?Ot.nextTick(A,Z,fe,X,ke):A(Z,fe,X,ke)}}function A(Z,ne,fe,le){fe||I(Z,ne),ne.pendingcb--,le(),B(Z,ne)}function I(Z,ne){ne.length===0&&ne.needDrain&&(ne.needDrain=!1,Z.emit("drain"))}function R(Z,ne){ne.bufferProcessing=!0;var fe=ne.bufferedRequest;if(Z._writev&&fe&&fe.next){var le=ne.bufferedRequestCount,ke=new Array(le),X=ne.corkedRequestsFree;X.entry=fe;for(var G=0,_e=!0;fe;)ke[G]=fe,fe.isBuf||(_e=!1),fe=fe.next,G+=1;ke.allBuffers=_e,b(Z,ne,!0,ne.length,ke,"",X.finish),ne.pendingcb++,ne.lastBufferedRequest=null,X.next?(ne.corkedRequestsFree=X.next,X.next=null):ne.corkedRequestsFree=new r(ne),ne.bufferedRequestCount=0}else{for(;fe;){var Ae=fe.chunk,Oe=fe.encoding,qe=fe.callback,Ue=ne.objectMode?1:Ae.length;if(b(Z,ne,!1,Ue,Ae,Oe,qe),fe=fe.next,ne.bufferedRequestCount--,ne.writing)break}fe===null&&(ne.lastBufferedRequest=null)}ne.bufferedRequest=fe,ne.bufferProcessing=!1}ie.prototype._write=function(Z,ne,fe){fe(new y("_write()"))},ie.prototype._writev=null,ie.prototype.end=function(Z,ne,fe){var le=this._writableState;return typeof Z=="function"?(fe=Z,Z=null,ne=null):typeof ne=="function"&&(fe=ne,ne=null),Z!=null&&this.write(Z,ne),le.corked&&(le.corked=1,this.uncork()),le.ending||ee(this,le,fe),this},Object.defineProperty(ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function S(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function T(Z,ne){Z._final(function(fe){ne.pendingcb--,fe&&U(Z,fe),ne.prefinished=!0,Z.emit("prefinish"),B(Z,ne)})}function p(Z,ne){!ne.prefinished&&!ne.finalCalled&&(typeof Z._final=="function"&&!ne.destroyed?(ne.pendingcb++,ne.finalCalled=!0,Ot.nextTick(T,Z,ne)):(ne.prefinished=!0,Z.emit("prefinish")))}function B(Z,ne){var fe=S(ne);if(fe&&(p(Z,ne),ne.pendingcb===0&&(ne.finished=!0,Z.emit("finish"),ne.autoDestroy))){var le=Z._readableState;(!le||le.autoDestroy&&le.endEmitted)&&Z.destroy()}return fe}function ee(Z,ne,fe){ne.ending=!0,B(Z,ne),fe&&(ne.finished?Ot.nextTick(fe):Z.once("finish",fe)),ne.ended=!0,Z.writable=!1}function oe(Z,ne,fe){var le=Z.entry;for(Z.entry=null;le;){var ke=le.callback;ne.pendingcb--,ke(fe),le=le.next}ne.corkedRequestsFree.next=Z}return Object.defineProperty(ie.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ne){this._writableState&&(this._writableState.destroyed=ne)}}),ie.prototype.destroy=u.destroy,ie.prototype._undestroy=u.undestroy,ie.prototype._destroy=function(Z,ne){ne(Z)},js}var Hs,l0;function Wn(){if(l0)return Hs;l0=1;var r=Object.keys||function(h){var f=[];for(var d in h)f.push(d);return f};Hs=o;var e=Js(),t=$s();Ft()(o,e);for(var n=r(t.prototype),a=0;a<n.length;a++){var i=n[a];o.prototype[i]||(o.prototype[i]=t.prototype[i])}function o(h){if(!(this instanceof o))return new o(h);e.call(this,h),t.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||Ot.nextTick(u,this)}function u(h){h.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),Hs}var zs={},d0;function Vs(){if(d0)return zs;d0=1;var r=Ut().Buffer,e=r.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(x){if(!x)return"utf8";for(var P;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(P)return;x=(""+x).toLowerCase(),P=!0}}function n(x){var P=t(x);if(typeof P!="string"&&(r.isEncoding===e||!e(x)))throw new Error("Unknown encoding: "+x);return P||x}zs.StringDecoder=a;function a(x){this.encoding=n(x);var P;switch(this.encoding){case"utf16le":this.text=d,this.end=l,P=4;break;case"utf8":this.fillLast=u,P=4;break;case"base64":this.text=y,this.end=m,P=3;break;default:this.write=w,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(P)}a.prototype.write=function(x){if(x.length===0)return"";var P,L;if(this.lastNeed){if(P=this.fillLast(x),P===void 0)return"";L=this.lastNeed,this.lastNeed=0}else L=0;return L<x.length?P?P+this.text(x,L):this.text(x,L):P||""},a.prototype.end=f,a.prototype.text=h,a.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function i(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function o(x,P,L){var U=P.length-1;if(U<L)return 0;var z=i(P[U]);return z>=0?(z>0&&(x.lastNeed=z-1),z):--U<L||z===-2?0:(z=i(P[U]),z>=0?(z>0&&(x.lastNeed=z-2),z):--U<L||z===-2?0:(z=i(P[U]),z>=0?(z>0&&(z===2?z=0:x.lastNeed=z-3),z):0))}function c(x,P,L){if((P[0]&192)!==128)return x.lastNeed=0,"";if(x.lastNeed>1&&P.length>1){if((P[1]&192)!==128)return x.lastNeed=1,"";if(x.lastNeed>2&&P.length>2&&(P[2]&192)!==128)return x.lastNeed=2,""}}function u(x){var P=this.lastTotal-this.lastNeed,L=c(this,x);if(L!==void 0)return L;if(this.lastNeed<=x.length)return x.copy(this.lastChar,P,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,P,0,x.length),this.lastNeed-=x.length}function h(x,P){var L=o(this,x,P);if(!this.lastNeed)return x.toString("utf8",P);this.lastTotal=L;var U=x.length-(L-this.lastNeed);return x.copy(this.lastChar,0,U),x.toString("utf8",P,U)}function f(x){var P=x&&x.length?this.write(x):"";return this.lastNeed?P+"":P}function d(x,P){if((x.length-P)%2===0){var L=x.toString("utf16le",P);if(L){var U=L.charCodeAt(L.length-1);if(U>=55296&&U<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],L.slice(0,-1)}return L}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",P,x.length-1)}function l(x){var P=x&&x.length?this.write(x):"";if(this.lastNeed){var L=this.lastTotal-this.lastNeed;return P+this.lastChar.toString("utf16le",0,L)}return P}function y(x,P){var L=(x.length-P)%3;return L===0?x.toString("base64",P):(this.lastNeed=3-L,this.lastTotal=3,L===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",P,x.length-L))}function m(x){var P=x&&x.length?this.write(x):"";return this.lastNeed?P+this.lastChar.toString("base64",0,3-this.lastNeed):P}function w(x){return x.toString(this.encoding)}function E(x){return x&&x.length?this.write(x):""}return zs}var Ws,p0;function Ha(){if(p0)return Ws;p0=1;var r=li().codes.ERR_STREAM_PREMATURE_CLOSE;function e(i){var o=!1;return function(){if(!o){o=!0;for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];i.apply(this,u)}}}function t(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,o,c){if(typeof o=="function")return a(i,null,o);o||(o={}),c=e(c||t);var u=o.readable||o.readable!==!1&&i.readable,h=o.writable||o.writable!==!1&&i.writable,f=function(){i.writable||l()},d=i._writableState&&i._writableState.finished,l=function(){h=!1,d=!0,u||c.call(i)},y=i._readableState&&i._readableState.endEmitted,m=function(){u=!1,y=!0,h||c.call(i)},w=function(L){c.call(i,L)},E=function(){var L;if(u&&!y)return(!i._readableState||!i._readableState.ended)&&(L=new r),c.call(i,L);if(h&&!d)return(!i._writableState||!i._writableState.ended)&&(L=new r),c.call(i,L)},x=function(){i.req.on("finish",l)};return n(i)?(i.on("complete",l),i.on("abort",E),i.req?x():i.on("request",x)):h&&!i._writableState&&(i.on("end",f),i.on("close",f)),i.on("end",m),i.on("finish",l),o.error!==!1&&i.on("error",w),i.on("close",E),function(){i.removeListener("complete",l),i.removeListener("abort",E),i.removeListener("request",x),i.req&&i.req.removeListener("finish",l),i.removeListener("end",f),i.removeListener("close",f),i.removeListener("finish",l),i.removeListener("end",m),i.removeListener("error",w),i.removeListener("close",E)}}return Ws=a,Ws}var Ks,v0;function $m(){if(v0)return Ks;v0=1;var r;function e(L,U,z){return U=t(U),U in L?Object.defineProperty(L,U,{value:z,enumerable:!0,configurable:!0,writable:!0}):L[U]=z,L}function t(L){var U=n(L,"string");return typeof U=="symbol"?U:String(U)}function n(L,U){if(typeof L!="object"||L===null)return L;var z=L[Symbol.toPrimitive];if(z!==void 0){var W=z.call(L,U||"default");if(typeof W!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(L)}var a=Ha(),i=Symbol("lastResolve"),o=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function l(L,U){return{value:L,done:U}}function y(L){var U=L[i];if(U!==null){var z=L[d].read();z!==null&&(L[h]=null,L[i]=null,L[o]=null,U(l(z,!1)))}}function m(L){Ot.nextTick(y,L)}function w(L,U){return function(z,W){L.then(function(){if(U[u]){z(l(void 0,!0));return}U[f](z,W)},W)}}var E=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((r={get stream(){return this[d]},next:function(){var U=this,z=this[c];if(z!==null)return Promise.reject(z);if(this[u])return Promise.resolve(l(void 0,!0));if(this[d].destroyed)return new Promise(function(se,ve){Ot.nextTick(function(){U[c]?ve(U[c]):se(l(void 0,!0))})});var W=this[h],re;if(W)re=new Promise(w(W,this));else{var ie=this[d].read();if(ie!==null)return Promise.resolve(l(ie,!1));re=new Promise(this[f])}return this[h]=re,re}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var U=this;return new Promise(function(z,W){U[d].destroy(null,function(re){if(re){W(re);return}z(l(void 0,!0))})})}),r),E),P=function(U){var z,W=Object.create(x,(z={},e(z,d,{value:U,writable:!0}),e(z,i,{value:null,writable:!0}),e(z,o,{value:null,writable:!0}),e(z,c,{value:null,writable:!0}),e(z,u,{value:U._readableState.endEmitted,writable:!0}),e(z,f,{value:function(ie,se){var ve=W[d].read();ve?(W[h]=null,W[i]=null,W[o]=null,ie(l(ve,!1))):(W[i]=ie,W[o]=se)},writable:!0}),z));return W[h]=null,a(U,function(re){if(re&&re.code!=="ERR_STREAM_PREMATURE_CLOSE"){var ie=W[o];ie!==null&&(W[h]=null,W[i]=null,W[o]=null,ie(re)),W[c]=re;return}var se=W[i];se!==null&&(W[h]=null,W[i]=null,W[o]=null,se(l(void 0,!0))),W[u]=!0}),U.on("readable",m.bind(null,W)),W};return Ks=P,Ks}var Qs,y0;function Hm(){return y0||(y0=1,Qs=function(){throw new Error("Readable.from is not available in the browser")}),Qs}var Gs,b0;function Js(){if(b0)return Gs;b0=1,Gs=se;var r;se.ReadableState=ie,Yo().EventEmitter;var e=function(G,_e){return G.listeners(_e).length},t=ml(),n=wn.Buffer,a=(typeof Kt!="undefined"?Kt:typeof window!="undefined"?window:typeof self!="undefined"?self:{}).Uint8Array||function(){};function i(X){return n.from(X)}function o(X){return n.isBuffer(X)||X instanceof a}var c=n0(),u;c&&c.debuglog?u=c.debuglog("stream"):u=function(){};var h=Um(),f=o0(),d=u0(),l=d.getHighWaterMark,y=li().codes,m=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,E=y.ERR_METHOD_NOT_IMPLEMENTED,x=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,P,L,U;Ft()(se,t);var z=f.errorOrDestroy,W=["error","close","destroy","pause","resume"];function re(X,G,_e){if(typeof X.prependListener=="function")return X.prependListener(G,_e);!X._events||!X._events[G]?X.on(G,_e):Array.isArray(X._events[G])?X._events[G].unshift(_e):X._events[G]=[_e,X._events[G]]}function ie(X,G,_e){r=r||Wn(),X=X||{},typeof _e!="boolean"&&(_e=G instanceof r),this.objectMode=!!X.objectMode,_e&&(this.objectMode=this.objectMode||!!X.readableObjectMode),this.highWaterMark=l(this,X,"readableHighWaterMark",_e),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(P||(P=Vs().StringDecoder),this.decoder=new P(X.encoding),this.encoding=X.encoding)}function se(X){if(r=r||Wn(),!(this instanceof se))return new se(X);var G=this instanceof r;this._readableState=new ie(X,this,G),this.readable=!0,X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy)),t.call(this)}Object.defineProperty(se.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(G){this._readableState&&(this._readableState.destroyed=G)}}),se.prototype.destroy=f.destroy,se.prototype._undestroy=f.undestroy,se.prototype._destroy=function(X,G){G(X)},se.prototype.push=function(X,G){var _e=this._readableState,Ae;return _e.objectMode?Ae=!0:typeof X=="string"&&(G=G||_e.defaultEncoding,G!==_e.encoding&&(X=n.from(X,G),G=""),Ae=!0),ve(this,X,G,!1,Ae)},se.prototype.unshift=function(X){return ve(this,X,null,!0,!1)};function ve(X,G,_e,Ae,Oe){u("readableAddChunk",G);var qe=X._readableState;if(G===null)qe.reading=!1,g(X,qe);else{var Ue;if(Oe||(Ue=M(qe,G)),Ue)z(X,Ue);else if(qe.objectMode||G&&G.length>0)if(typeof G!="string"&&!qe.objectMode&&Object.getPrototypeOf(G)!==n.prototype&&(G=i(G)),Ae)qe.endEmitted?z(X,new x):Q(X,qe,G,!0);else if(qe.ended)z(X,new w);else{if(qe.destroyed)return!1;qe.reading=!1,qe.decoder&&!_e?(G=qe.decoder.write(G),qe.objectMode||G.length!==0?Q(X,qe,G,!1):R(X,qe)):Q(X,qe,G,!1)}else Ae||(qe.reading=!1,R(X,qe))}return!qe.ended&&(qe.length<qe.highWaterMark||qe.length===0)}function Q(X,G,_e,Ae){G.flowing&&G.length===0&&!G.sync?(G.awaitDrain=0,X.emit("data",_e)):(G.length+=G.objectMode?1:_e.length,Ae?G.buffer.unshift(_e):G.buffer.push(_e),G.needReadable&&A(X)),R(X,G)}function M(X,G){var _e;return!o(G)&&typeof G!="string"&&G!==void 0&&!X.objectMode&&(_e=new m("chunk",["string","Buffer","Uint8Array"],G)),_e}se.prototype.isPaused=function(){return this._readableState.flowing===!1},se.prototype.setEncoding=function(X){P||(P=Vs().StringDecoder);var G=new P(X);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;for(var _e=this._readableState.buffer.head,Ae="";_e!==null;)Ae+=G.write(_e.data),_e=_e.next;return this._readableState.buffer.clear(),Ae!==""&&this._readableState.buffer.push(Ae),this._readableState.length=Ae.length,this};var b=1073741824;function s(X){return X>=b?X=b:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}function v(X,G){return X<=0||G.length===0&&G.ended?0:G.objectMode?1:X!==X?G.flowing&&G.length?G.buffer.head.data.length:G.length:(X>G.highWaterMark&&(G.highWaterMark=s(X)),X<=G.length?X:G.ended?G.length:(G.needReadable=!0,0))}se.prototype.read=function(X){u("read",X),X=parseInt(X,10);var G=this._readableState,_e=X;if(X!==0&&(G.emittedReadable=!1),X===0&&G.needReadable&&((G.highWaterMark!==0?G.length>=G.highWaterMark:G.length>0)||G.ended))return u("read: emitReadable",G.length,G.ended),G.length===0&&G.ended?fe(this):A(this),null;if(X=v(X,G),X===0&&G.ended)return G.length===0&&fe(this),null;var Ae=G.needReadable;u("need readable",Ae),(G.length===0||G.length-X<G.highWaterMark)&&(Ae=!0,u("length less than watermark",Ae)),G.ended||G.reading?(Ae=!1,u("reading or ended",Ae)):Ae&&(u("do read"),G.reading=!0,G.sync=!0,G.length===0&&(G.needReadable=!0),this._read(G.highWaterMark),G.sync=!1,G.reading||(X=v(_e,G)));var Oe;return X>0?Oe=ne(X,G):Oe=null,Oe===null?(G.needReadable=G.length<=G.highWaterMark,X=0):(G.length-=X,G.awaitDrain=0),G.length===0&&(G.ended||(G.needReadable=!0),_e!==X&&G.ended&&fe(this)),Oe!==null&&this.emit("data",Oe),Oe};function g(X,G){if(u("onEofChunk"),!G.ended){if(G.decoder){var _e=G.decoder.end();_e&&_e.length&&(G.buffer.push(_e),G.length+=G.objectMode?1:_e.length)}G.ended=!0,G.sync?A(X):(G.needReadable=!1,G.emittedReadable||(G.emittedReadable=!0,I(X)))}}function A(X){var G=X._readableState;u("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(u("emitReadable",G.flowing),G.emittedReadable=!0,Ot.nextTick(I,X))}function I(X){var G=X._readableState;u("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&(G.length||G.ended)&&(X.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,Z(X)}function R(X,G){G.readingMore||(G.readingMore=!0,Ot.nextTick(S,X,G))}function S(X,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&G.length===0);){var _e=G.length;if(u("maybeReadMore read 0"),X.read(0),_e===G.length)break}G.readingMore=!1}se.prototype._read=function(X){z(this,new E("_read()"))},se.prototype.pipe=function(X,G){var _e=this,Ae=this._readableState;switch(Ae.pipesCount){case 0:Ae.pipes=X;break;case 1:Ae.pipes=[Ae.pipes,X];break;default:Ae.pipes.push(X);break}Ae.pipesCount+=1,u("pipe count=%d opts=%j",Ae.pipesCount,G);var Oe=(!G||G.end!==!1)&&X!==Ot.stdout&&X!==Ot.stderr,qe=Oe?ze:dt;Ae.endEmitted?Ot.nextTick(qe):_e.once("end",qe),X.on("unpipe",Ue);function Ue(Xe,st){u("onunpipe"),Xe===_e&&st&&st.hasUnpiped===!1&&(st.hasUnpiped=!0,je())}function ze(){u("onend"),X.end()}var ge=T(_e);X.on("drain",ge);var lt=!1;function je(){u("cleanup"),X.removeListener("close",Ve),X.removeListener("finish",Mt),X.removeListener("drain",ge),X.removeListener("error",ot),X.removeListener("unpipe",Ue),_e.removeListener("end",ze),_e.removeListener("end",dt),_e.removeListener("data",Et),lt=!0,Ae.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&ge()}_e.on("data",Et);function Et(Xe){u("ondata");var st=X.write(Xe);u("dest.write",st),st===!1&&((Ae.pipesCount===1&&Ae.pipes===X||Ae.pipesCount>1&&ke(Ae.pipes,X)!==-1)&&!lt&&(u("false write response, pause",Ae.awaitDrain),Ae.awaitDrain++),_e.pause())}function ot(Xe){u("onerror",Xe),dt(),X.removeListener("error",ot),e(X,"error")===0&&z(X,Xe)}re(X,"error",ot);function Ve(){X.removeListener("finish",Mt),dt()}X.once("close",Ve);function Mt(){u("onfinish"),X.removeListener("close",Ve),dt()}X.once("finish",Mt);function dt(){u("unpipe"),_e.unpipe(X)}return X.emit("pipe",_e),Ae.flowing||(u("pipe resume"),_e.resume()),X};function T(X){return function(){var _e=X._readableState;u("pipeOnDrain",_e.awaitDrain),_e.awaitDrain&&_e.awaitDrain--,_e.awaitDrain===0&&e(X,"data")&&(_e.flowing=!0,Z(X))}}se.prototype.unpipe=function(X){var G=this._readableState,_e={hasUnpiped:!1};if(G.pipesCount===0)return this;if(G.pipesCount===1)return X&&X!==G.pipes?this:(X||(X=G.pipes),G.pipes=null,G.pipesCount=0,G.flowing=!1,X&&X.emit("unpipe",this,_e),this);if(!X){var Ae=G.pipes,Oe=G.pipesCount;G.pipes=null,G.pipesCount=0,G.flowing=!1;for(var qe=0;qe<Oe;qe++)Ae[qe].emit("unpipe",this,{hasUnpiped:!1});return this}var Ue=ke(G.pipes,X);return Ue===-1?this:(G.pipes.splice(Ue,1),G.pipesCount-=1,G.pipesCount===1&&(G.pipes=G.pipes[0]),X.emit("unpipe",this,_e),this)},se.prototype.on=function(X,G){var _e=t.prototype.on.call(this,X,G),Ae=this._readableState;return X==="data"?(Ae.readableListening=this.listenerCount("readable")>0,Ae.flowing!==!1&&this.resume()):X==="readable"&&!Ae.endEmitted&&!Ae.readableListening&&(Ae.readableListening=Ae.needReadable=!0,Ae.flowing=!1,Ae.emittedReadable=!1,u("on readable",Ae.length,Ae.reading),Ae.length?A(this):Ae.reading||Ot.nextTick(B,this)),_e},se.prototype.addListener=se.prototype.on,se.prototype.removeListener=function(X,G){var _e=t.prototype.removeListener.call(this,X,G);return X==="readable"&&Ot.nextTick(p,this),_e},se.prototype.removeAllListeners=function(X){var G=t.prototype.removeAllListeners.apply(this,arguments);return(X==="readable"||X===void 0)&&Ot.nextTick(p,this),G};function p(X){var G=X._readableState;G.readableListening=X.listenerCount("readable")>0,G.resumeScheduled&&!G.paused?G.flowing=!0:X.listenerCount("data")>0&&X.resume()}function B(X){u("readable nexttick read 0"),X.read(0)}se.prototype.resume=function(){var X=this._readableState;return X.flowing||(u("resume"),X.flowing=!X.readableListening,ee(this,X)),X.paused=!1,this};function ee(X,G){G.resumeScheduled||(G.resumeScheduled=!0,Ot.nextTick(oe,X,G))}function oe(X,G){u("resume",G.reading),G.reading||X.read(0),G.resumeScheduled=!1,X.emit("resume"),Z(X),G.flowing&&!G.reading&&X.read(0)}se.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(X){var G=X._readableState;for(u("flow",G.flowing);G.flowing&&X.read()!==null;);}se.prototype.wrap=function(X){var G=this,_e=this._readableState,Ae=!1;X.on("end",function(){if(u("wrapped end"),_e.decoder&&!_e.ended){var Ue=_e.decoder.end();Ue&&Ue.length&&G.push(Ue)}G.push(null)}),X.on("data",function(Ue){if(u("wrapped data"),_e.decoder&&(Ue=_e.decoder.write(Ue)),!(_e.objectMode&&Ue==null)&&!(!_e.objectMode&&(!Ue||!Ue.length))){var ze=G.push(Ue);ze||(Ae=!0,X.pause())}});for(var Oe in X)this[Oe]===void 0&&typeof X[Oe]=="function"&&(this[Oe]=function(ze){return function(){return X[ze].apply(X,arguments)}}(Oe));for(var qe=0;qe<W.length;qe++)X.on(W[qe],this.emit.bind(this,W[qe]));return this._read=function(Ue){u("wrapped _read",Ue),Ae&&(Ae=!1,X.resume())},this},typeof Symbol=="function"&&(se.prototype[Symbol.asyncIterator]=function(){return L===void 0&&(L=$m()),L(this)}),Object.defineProperty(se.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(se.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(se.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(G){this._readableState&&(this._readableState.flowing=G)}}),se._fromList=ne,Object.defineProperty(se.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ne(X,G){if(G.length===0)return null;var _e;return G.objectMode?_e=G.buffer.shift():!X||X>=G.length?(G.decoder?_e=G.buffer.join(""):G.buffer.length===1?_e=G.buffer.first():_e=G.buffer.concat(G.length),G.buffer.clear()):_e=G.buffer.consume(X,G.decoder),_e}function fe(X){var G=X._readableState;u("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,Ot.nextTick(le,G,X))}function le(X,G){if(u("endReadableNT",X.endEmitted,X.length),!X.endEmitted&&X.length===0&&(X.endEmitted=!0,G.readable=!1,G.emit("end"),X.autoDestroy)){var _e=G._writableState;(!_e||_e.autoDestroy&&_e.finished)&&G.destroy()}}typeof Symbol=="function"&&(se.from=function(X,G){return U===void 0&&(U=Hm()),U(se,X,G)});function ke(X,G){for(var _e=0,Ae=X.length;_e<Ae;_e++)if(X[_e]===G)return _e;return-1}return Gs}var Ys,m0;function Xs(){if(m0)return Ys;m0=1,Ys=c;var r=li().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,t=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,i=Wn();Ft()(c,i);function o(f,d){var l=this._transformState;l.transforming=!1;var y=l.writecb;if(y===null)return this.emit("error",new t);l.writechunk=null,l.writecb=null,d!=null&&this.push(d),y(f);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function c(f){if(!(this instanceof c))return new c(f);i.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,l){h(f,d,l)}):h(this,null,null)}c.prototype.push=function(f,d){return this._transformState.needTransform=!1,i.prototype.push.call(this,f,d)},c.prototype._transform=function(f,d,l){l(new e("_transform()"))},c.prototype._write=function(f,d,l){var y=this._transformState;if(y.writecb=l,y.writechunk=f,y.writeencoding=d,!y.transforming){var m=this._readableState;(y.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},c.prototype._read=function(f){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},c.prototype._destroy=function(f,d){i.prototype._destroy.call(this,f,function(l){d(l)})};function h(f,d,l){if(d)return f.emit("error",d);if(l!=null&&f.push(l),f._writableState.length)throw new a;if(f._transformState.transforming)throw new n;return f.push(null)}return Ys}var Zs,g0;function w0(){if(g0)return Zs;g0=1,Zs=e;var r=Xs();Ft()(e,r);function e(t){if(!(this instanceof e))return new e(t);r.call(this,t)}return e.prototype._transform=function(t,n,a){a(null,t)},Zs}var ef,_0;function x0(){if(_0)return ef;_0=1;var r;function e(l){var y=!1;return function(){y||(y=!0,l.apply(void 0,arguments))}}var t=li().codes,n=t.ERR_MISSING_ARGS,a=t.ERR_STREAM_DESTROYED;function i(l){if(l)throw l}function o(l){return l.setHeader&&typeof l.abort=="function"}function c(l,y,m,w){w=e(w);var E=!1;l.on("close",function(){E=!0}),r===void 0&&(r=Ha()),r(l,{readable:y,writable:m},function(P){if(P)return w(P);E=!0,w()});var x=!1;return function(P){if(!E&&!x){if(x=!0,o(l))return l.abort();if(typeof l.destroy=="function")return l.destroy();w(P||new a("pipe"))}}}function u(l){l()}function h(l,y){return l.pipe(y)}function f(l){return!l.length||typeof l[l.length-1]!="function"?i:l.pop()}function d(){for(var l=arguments.length,y=new Array(l),m=0;m<l;m++)y[m]=arguments[m];var w=f(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new n("streams");var E,x=y.map(function(P,L){var U=L<y.length-1,z=L>0;return c(P,U,z,function(W){E||(E=W),W&&x.forEach(u),!U&&(x.forEach(u),w(E))})});return y.reduce(h)}return ef=d,ef}var S0;function E0(){return S0||(S0=1,function(r,e){e=r.exports=Js(),e.Stream=e,e.Readable=e,e.Writable=$s(),e.Duplex=Wn(),e.Transform=Xs(),e.PassThrough=w0(),e.finished=Ha(),e.pipeline=x0()}(Ua,Ua.exports)),Ua.exports}var tf,M0;function A0(){if(M0)return tf;M0=1;var r=Ut().Buffer,e=E0().Transform,t=Ft();function n(i,o){if(!r.isBuffer(i)&&typeof i!="string")throw new TypeError(o+" must be a string or a buffer")}function a(i){e.call(this),this._block=r.allocUnsafe(i),this._blockSize=i,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return t(a,e),a.prototype._transform=function(i,o,c){var u=null;try{this.update(i,o)}catch(h){u=h}c(u)},a.prototype._flush=function(i){var o=null;try{this.push(this.digest())}catch(c){o=c}i(o)},a.prototype.update=function(i,o){if(n(i,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(i)||(i=r.from(i,o));for(var c=this._block,u=0;this._blockOffset+i.length-u>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)c[h++]=i[u++];this._update(),this._blockOffset=0}for(;u<i.length;)c[this._blockOffset++]=i[u++];for(var f=0,d=i.length*8;d>0;++f)this._length[f]+=d,d=this._length[f]/4294967296|0,d>0&&(this._length[f]-=4294967296*d);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(i){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();i!==void 0&&(o=o.toString(i)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return o},a.prototype._digest=function(){throw new Error("_digest is not implemented")},tf=a,tf}var rf,T0;function nf(){if(T0)return rf;T0=1;var r=Ft(),e=A0(),t=Ut().Buffer,n=new Array(16);function a(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}r(a,e),a.prototype._update=function(){for(var f=n,d=0;d<16;++d)f[d]=this._block.readInt32LE(d*4);var l=this._a,y=this._b,m=this._c,w=this._d;l=o(l,y,m,w,f[0],3614090360,7),w=o(w,l,y,m,f[1],3905402710,12),m=o(m,w,l,y,f[2],606105819,17),y=o(y,m,w,l,f[3],3250441966,22),l=o(l,y,m,w,f[4],4118548399,7),w=o(w,l,y,m,f[5],1200080426,12),m=o(m,w,l,y,f[6],2821735955,17),y=o(y,m,w,l,f[7],4249261313,22),l=o(l,y,m,w,f[8],1770035416,7),w=o(w,l,y,m,f[9],2336552879,12),m=o(m,w,l,y,f[10],4294925233,17),y=o(y,m,w,l,f[11],2304563134,22),l=o(l,y,m,w,f[12],1804603682,7),w=o(w,l,y,m,f[13],4254626195,12),m=o(m,w,l,y,f[14],2792965006,17),y=o(y,m,w,l,f[15],1236535329,22),l=c(l,y,m,w,f[1],4129170786,5),w=c(w,l,y,m,f[6],3225465664,9),m=c(m,w,l,y,f[11],643717713,14),y=c(y,m,w,l,f[0],3921069994,20),l=c(l,y,m,w,f[5],3593408605,5),w=c(w,l,y,m,f[10],38016083,9),m=c(m,w,l,y,f[15],3634488961,14),y=c(y,m,w,l,f[4],3889429448,20),l=c(l,y,m,w,f[9],568446438,5),w=c(w,l,y,m,f[14],3275163606,9),m=c(m,w,l,y,f[3],4107603335,14),y=c(y,m,w,l,f[8],1163531501,20),l=c(l,y,m,w,f[13],2850285829,5),w=c(w,l,y,m,f[2],4243563512,9),m=c(m,w,l,y,f[7],1735328473,14),y=c(y,m,w,l,f[12],2368359562,20),l=u(l,y,m,w,f[5],4294588738,4),w=u(w,l,y,m,f[8],2272392833,11),m=u(m,w,l,y,f[11],1839030562,16),y=u(y,m,w,l,f[14],4259657740,23),l=u(l,y,m,w,f[1],2763975236,4),w=u(w,l,y,m,f[4],1272893353,11),m=u(m,w,l,y,f[7],4139469664,16),y=u(y,m,w,l,f[10],3200236656,23),l=u(l,y,m,w,f[13],681279174,4),w=u(w,l,y,m,f[0],3936430074,11),m=u(m,w,l,y,f[3],3572445317,16),y=u(y,m,w,l,f[6],76029189,23),l=u(l,y,m,w,f[9],3654602809,4),w=u(w,l,y,m,f[12],3873151461,11),m=u(m,w,l,y,f[15],530742520,16),y=u(y,m,w,l,f[2],3299628645,23),l=h(l,y,m,w,f[0],4096336452,6),w=h(w,l,y,m,f[7],1126891415,10),m=h(m,w,l,y,f[14],2878612391,15),y=h(y,m,w,l,f[5],4237533241,21),l=h(l,y,m,w,f[12],1700485571,6),w=h(w,l,y,m,f[3],2399980690,10),m=h(m,w,l,y,f[10],4293915773,15),y=h(y,m,w,l,f[1],2240044497,21),l=h(l,y,m,w,f[8],1873313359,6),w=h(w,l,y,m,f[15],4264355552,10),m=h(m,w,l,y,f[6],2734768916,15),y=h(y,m,w,l,f[13],1309151649,21),l=h(l,y,m,w,f[4],4149444226,6),w=h(w,l,y,m,f[11],3174756917,10),m=h(m,w,l,y,f[2],718787259,15),y=h(y,m,w,l,f[9],3951481745,21),this._a=this._a+l|0,this._b=this._b+y|0,this._c=this._c+m|0,this._d=this._d+w|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=t.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f};function i(f,d){return f<<d|f>>>32-d}function o(f,d,l,y,m,w,E){return i(f+(d&l|~d&y)+m+w|0,E)+d|0}function c(f,d,l,y,m,w,E){return i(f+(d&y|l&~y)+m+w|0,E)+d|0}function u(f,d,l,y,m,w,E){return i(f+(d^l^y)+m+w|0,E)+d|0}function h(f,d,l,y,m,w,E){return i(f+(l^(d|~y))+m+w|0,E)+d|0}return rf=a,rf}var af,k0;function of(){if(k0)return af;k0=1;var r=wn.Buffer,e=Ft(),t=A0(),n=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],o=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function f(){t.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}e(f,t),f.prototype._update=function(){for(var x=n,P=0;P<16;++P)x[P]=this._block.readInt32LE(P*4);for(var L=this._a|0,U=this._b|0,z=this._c|0,W=this._d|0,re=this._e|0,ie=this._a|0,se=this._b|0,ve=this._c|0,Q=this._d|0,M=this._e|0,b=0;b<80;b+=1){var s,v;b<16?(s=l(L,U,z,W,re,x[a[b]],u[0],o[b]),v=E(ie,se,ve,Q,M,x[i[b]],h[0],c[b])):b<32?(s=y(L,U,z,W,re,x[a[b]],u[1],o[b]),v=w(ie,se,ve,Q,M,x[i[b]],h[1],c[b])):b<48?(s=m(L,U,z,W,re,x[a[b]],u[2],o[b]),v=m(ie,se,ve,Q,M,x[i[b]],h[2],c[b])):b<64?(s=w(L,U,z,W,re,x[a[b]],u[3],o[b]),v=y(ie,se,ve,Q,M,x[i[b]],h[3],c[b])):(s=E(L,U,z,W,re,x[a[b]],u[4],o[b]),v=l(ie,se,ve,Q,M,x[i[b]],h[4],c[b])),L=re,re=W,W=d(z,10),z=U,U=s,ie=M,M=Q,Q=d(ve,10),ve=se,se=v}var g=this._b+z+Q|0;this._b=this._c+W+M|0,this._c=this._d+re+ie|0,this._d=this._e+L+se|0,this._e=this._a+U+ve|0,this._a=g},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var x=r.alloc?r.alloc(20):new r(20);return x.writeInt32LE(this._a,0),x.writeInt32LE(this._b,4),x.writeInt32LE(this._c,8),x.writeInt32LE(this._d,12),x.writeInt32LE(this._e,16),x};function d(x,P){return x<<P|x>>>32-P}function l(x,P,L,U,z,W,re,ie){return d(x+(P^L^U)+W+re|0,ie)+z|0}function y(x,P,L,U,z,W,re,ie){return d(x+(P&L|~P&U)+W+re|0,ie)+z|0}function m(x,P,L,U,z,W,re,ie){return d(x+((P|~L)^U)+W+re|0,ie)+z|0}function w(x,P,L,U,z,W,re,ie){return d(x+(P&U|L&~U)+W+re|0,ie)+z|0}function E(x,P,L,U,z,W,re,ie){return d(x+(P^(L|~U))+W+re|0,ie)+z|0}return af=f,af}var sf={exports:{}},ff,I0;function di(){if(I0)return ff;I0=1;var r=Ut().Buffer;function e(t,n){this._block=r.alloc(t),this._finalSize=n,this._blockSize=t,this._len=0}return e.prototype.update=function(t,n){typeof t=="string"&&(n=n||"utf8",t=r.from(t,n));for(var a=this._block,i=this._blockSize,o=t.length,c=this._len,u=0;u<o;){for(var h=c%i,f=Math.min(o-u,i-h),d=0;d<f;d++)a[h+d]=t[u+d];c+=f,u+=f,c%i===0&&this._update(a)}return this._len+=o,this},e.prototype.digest=function(t){var n=this._len%this._blockSize;this._block[n]=128,this._block.fill(0,n+1),n>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=this._len*8;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var i=(a&4294967295)>>>0,o=(a-i)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var c=this._hash();return t?c.toString(t):c},e.prototype._update=function(){throw new Error("_update must be implemented by subclass")},ff=e,ff}var uf,R0;function zm(){if(R0)return uf;R0=1;var r=Ft(),e=di(),t=Ut().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function i(){this.init(),this._w=a,e.call(this,64,56)}r(i,e),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function o(h){return h<<5|h>>>27}function c(h){return h<<30|h>>>2}function u(h,f,d,l){return h===0?f&d|~f&l:h===2?f&d|f&l|d&l:f^d^l}return i.prototype._update=function(h){for(var f=this._w,d=this._a|0,l=this._b|0,y=this._c|0,m=this._d|0,w=this._e|0,E=0;E<16;++E)f[E]=h.readInt32BE(E*4);for(;E<80;++E)f[E]=f[E-3]^f[E-8]^f[E-14]^f[E-16];for(var x=0;x<80;++x){var P=~~(x/20),L=o(d)+u(P,l,y,m)+w+f[x]+n[P]|0;w=m,m=y,y=c(l),l=d,d=L}this._a=d+this._a|0,this._b=l+this._b|0,this._c=y+this._c|0,this._d=m+this._d|0,this._e=w+this._e|0},i.prototype._hash=function(){var h=t.allocUnsafe(20);return h.writeInt32BE(this._a|0,0),h.writeInt32BE(this._b|0,4),h.writeInt32BE(this._c|0,8),h.writeInt32BE(this._d|0,12),h.writeInt32BE(this._e|0,16),h},uf=i,uf}var cf,C0;function Vm(){if(C0)return cf;C0=1;var r=Ft(),e=di(),t=Ut().Buffer,n=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function i(){this.init(),this._w=a,e.call(this,64,56)}r(i,e),i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function o(f){return f<<1|f>>>31}function c(f){return f<<5|f>>>27}function u(f){return f<<30|f>>>2}function h(f,d,l,y){return f===0?d&l|~d&y:f===2?d&l|d&y|l&y:d^l^y}return i.prototype._update=function(f){for(var d=this._w,l=this._a|0,y=this._b|0,m=this._c|0,w=this._d|0,E=this._e|0,x=0;x<16;++x)d[x]=f.readInt32BE(x*4);for(;x<80;++x)d[x]=o(d[x-3]^d[x-8]^d[x-14]^d[x-16]);for(var P=0;P<80;++P){var L=~~(P/20),U=c(l)+h(L,y,m,w)+E+d[P]+n[L]|0;E=w,w=m,m=u(y),y=l,l=U}this._a=l+this._a|0,this._b=y+this._b|0,this._c=m+this._c|0,this._d=w+this._d|0,this._e=E+this._e|0},i.prototype._hash=function(){var f=t.allocUnsafe(20);return f.writeInt32BE(this._a|0,0),f.writeInt32BE(this._b|0,4),f.writeInt32BE(this._c|0,8),f.writeInt32BE(this._d|0,12),f.writeInt32BE(this._e|0,16),f},cf=i,cf}var hf,O0;function B0(){if(O0)return hf;O0=1;var r=Ft(),e=di(),t=Ut().Buffer,n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function i(){this.init(),this._w=a,e.call(this,64,56)}r(i,e),i.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function o(l,y,m){return m^l&(y^m)}function c(l,y,m){return l&y|m&(l|y)}function u(l){return(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10)}function h(l){return(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7)}function f(l){return(l>>>7|l<<25)^(l>>>18|l<<14)^l>>>3}function d(l){return(l>>>17|l<<15)^(l>>>19|l<<13)^l>>>10}return i.prototype._update=function(l){for(var y=this._w,m=this._a|0,w=this._b|0,E=this._c|0,x=this._d|0,P=this._e|0,L=this._f|0,U=this._g|0,z=this._h|0,W=0;W<16;++W)y[W]=l.readInt32BE(W*4);for(;W<64;++W)y[W]=d(y[W-2])+y[W-7]+f(y[W-15])+y[W-16]|0;for(var re=0;re<64;++re){var ie=z+h(P)+o(P,L,U)+n[re]+y[re]|0,se=u(m)+c(m,w,E)|0;z=U,U=L,L=P,P=x+ie|0,x=E,E=w,w=m,m=ie+se|0}this._a=m+this._a|0,this._b=w+this._b|0,this._c=E+this._c|0,this._d=x+this._d|0,this._e=P+this._e|0,this._f=L+this._f|0,this._g=U+this._g|0,this._h=z+this._h|0},i.prototype._hash=function(){var l=t.allocUnsafe(32);return l.writeInt32BE(this._a,0),l.writeInt32BE(this._b,4),l.writeInt32BE(this._c,8),l.writeInt32BE(this._d,12),l.writeInt32BE(this._e,16),l.writeInt32BE(this._f,20),l.writeInt32BE(this._g,24),l.writeInt32BE(this._h,28),l},hf=i,hf}var lf,P0;function Wm(){if(P0)return lf;P0=1;var r=Ft(),e=B0(),t=di(),n=Ut().Buffer,a=new Array(64);function i(){this.init(),this._w=a,t.call(this,64,56)}return r(i,e),i.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},i.prototype._hash=function(){var o=n.allocUnsafe(28);return o.writeInt32BE(this._a,0),o.writeInt32BE(this._b,4),o.writeInt32BE(this._c,8),o.writeInt32BE(this._d,12),o.writeInt32BE(this._e,16),o.writeInt32BE(this._f,20),o.writeInt32BE(this._g,24),o},lf=i,lf}var df,D0;function N0(){if(D0)return df;D0=1;var r=Ft(),e=di(),t=Ut().Buffer,n=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function i(){this.init(),this._w=a,e.call(this,128,112)}r(i,e),i.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function o(w,E,x){return x^w&(E^x)}function c(w,E,x){return w&E|x&(w|E)}function u(w,E){return(w>>>28|E<<4)^(E>>>2|w<<30)^(E>>>7|w<<25)}function h(w,E){return(w>>>14|E<<18)^(w>>>18|E<<14)^(E>>>9|w<<23)}function f(w,E){return(w>>>1|E<<31)^(w>>>8|E<<24)^w>>>7}function d(w,E){return(w>>>1|E<<31)^(w>>>8|E<<24)^(w>>>7|E<<25)}function l(w,E){return(w>>>19|E<<13)^(E>>>29|w<<3)^w>>>6}function y(w,E){return(w>>>19|E<<13)^(E>>>29|w<<3)^(w>>>6|E<<26)}function m(w,E){return w>>>0<E>>>0?1:0}return i.prototype._update=function(w){for(var E=this._w,x=this._ah|0,P=this._bh|0,L=this._ch|0,U=this._dh|0,z=this._eh|0,W=this._fh|0,re=this._gh|0,ie=this._hh|0,se=this._al|0,ve=this._bl|0,Q=this._cl|0,M=this._dl|0,b=this._el|0,s=this._fl|0,v=this._gl|0,g=this._hl|0,A=0;A<32;A+=2)E[A]=w.readInt32BE(A*4),E[A+1]=w.readInt32BE(A*4+4);for(;A<160;A+=2){var I=E[A-30],R=E[A-15*2+1],S=f(I,R),T=d(R,I);I=E[A-4],R=E[A-4+1];var p=l(I,R),B=y(R,I),ee=E[A-7*2],oe=E[A-7*2+1],Z=E[A-16*2],ne=E[A-16*2+1],fe=T+oe|0,le=S+ee+m(fe,T)|0;fe=fe+B|0,le=le+p+m(fe,B)|0,fe=fe+ne|0,le=le+Z+m(fe,ne)|0,E[A]=le,E[A+1]=fe}for(var ke=0;ke<160;ke+=2){le=E[ke],fe=E[ke+1];var X=c(x,P,L),G=c(se,ve,Q),_e=u(x,se),Ae=u(se,x),Oe=h(z,b),qe=h(b,z),Ue=n[ke],ze=n[ke+1],ge=o(z,W,re),lt=o(b,s,v),je=g+qe|0,Et=ie+Oe+m(je,g)|0;je=je+lt|0,Et=Et+ge+m(je,lt)|0,je=je+ze|0,Et=Et+Ue+m(je,ze)|0,je=je+fe|0,Et=Et+le+m(je,fe)|0;var ot=Ae+G|0,Ve=_e+X+m(ot,Ae)|0;ie=re,g=v,re=W,v=s,W=z,s=b,b=M+je|0,z=U+Et+m(b,M)|0,U=L,M=Q,L=P,Q=ve,P=x,ve=se,se=je+ot|0,x=Et+Ve+m(se,je)|0}this._al=this._al+se|0,this._bl=this._bl+ve|0,this._cl=this._cl+Q|0,this._dl=this._dl+M|0,this._el=this._el+b|0,this._fl=this._fl+s|0,this._gl=this._gl+v|0,this._hl=this._hl+g|0,this._ah=this._ah+x+m(this._al,se)|0,this._bh=this._bh+P+m(this._bl,ve)|0,this._ch=this._ch+L+m(this._cl,Q)|0,this._dh=this._dh+U+m(this._dl,M)|0,this._eh=this._eh+z+m(this._el,b)|0,this._fh=this._fh+W+m(this._fl,s)|0,this._gh=this._gh+re+m(this._gl,v)|0,this._hh=this._hh+ie+m(this._hl,g)|0},i.prototype._hash=function(){var w=t.allocUnsafe(64);function E(x,P,L){w.writeInt32BE(x,L),w.writeInt32BE(P,L+4)}return E(this._ah,this._al,0),E(this._bh,this._bl,8),E(this._ch,this._cl,16),E(this._dh,this._dl,24),E(this._eh,this._el,32),E(this._fh,this._fl,40),E(this._gh,this._gl,48),E(this._hh,this._hl,56),w},df=i,df}var pf,q0;function Km(){if(q0)return pf;q0=1;var r=Ft(),e=N0(),t=di(),n=Ut().Buffer,a=new Array(160);function i(){this.init(),this._w=a,t.call(this,128,112)}return r(i,e),i.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},i.prototype._hash=function(){var o=n.allocUnsafe(48);function c(u,h,f){o.writeInt32BE(u,f),o.writeInt32BE(h,f+4)}return c(this._ah,this._al,0),c(this._bh,this._bl,8),c(this._ch,this._cl,16),c(this._dh,this._dl,24),c(this._eh,this._el,32),c(this._fh,this._fl,40),o},pf=i,pf}var L0;function vf(){if(L0)return sf.exports;L0=1;var r=sf.exports=function(t){t=t.toLowerCase();var n=r[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n};return r.sha=zm(),r.sha1=Vm(),r.sha224=Wm(),r.sha256=B0(),r.sha384=Km(),r.sha512=N0(),sf.exports}var yf,F0;function Qm(){if(F0)return yf;F0=1,yf=t;var r=Yo().EventEmitter,e=Ft();e(t,r),t.Readable=Js(),t.Writable=$s(),t.Duplex=Wn(),t.Transform=Xs(),t.PassThrough=w0(),t.finished=Ha(),t.pipeline=x0(),t.Stream=t;function t(){r.call(this)}return t.prototype.pipe=function(n,a){var i=this;function o(y){n.writable&&n.write(y)===!1&&i.pause&&i.pause()}i.on("data",o);function c(){i.readable&&i.resume&&i.resume()}n.on("drain",c),!n._isStdio&&(!a||a.end!==!1)&&(i.on("end",h),i.on("close",f));var u=!1;function h(){u||(u=!0,n.end())}function f(){u||(u=!0,typeof n.destroy=="function"&&n.destroy())}function d(y){if(l(),r.listenerCount(this,"error")===0)throw y}i.on("error",d),n.on("error",d);function l(){i.removeListener("data",o),n.removeListener("drain",c),i.removeListener("end",h),i.removeListener("close",f),i.removeListener("error",d),n.removeListener("error",d),i.removeListener("end",l),i.removeListener("close",l),n.removeListener("close",l)}return i.on("end",l),i.on("close",l),n.on("close",l),n.emit("pipe",i),n},yf}var bf,U0;function Tn(){if(U0)return bf;U0=1;var r=Ut().Buffer,e=Qm().Transform,t=Vs().StringDecoder,n=Ft();function a(i){e.call(this),this.hashMode=typeof i=="string",this.hashMode?this[i]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return n(a,e),a.prototype.update=function(i,o,c){typeof i=="string"&&(i=r.from(i,o));var u=this._update(i);return this.hashMode?this:(c&&(u=this._toString(u,c)),u)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(i,o,c){var u;try{this.hashMode?this._update(i):this.push(this._update(i))}catch(h){u=h}finally{c(u)}},a.prototype._flush=function(i){var o;try{this.push(this.__final())}catch(c){o=c}i(o)},a.prototype._finalOrDigest=function(i){var o=this.__final()||r.alloc(0);return i&&(o=this._toString(o,i,!0)),o},a.prototype._toString=function(i,o,c){if(this._decoder||(this._decoder=new t(o),this._encoding=o),this._encoding!==o)throw new Error("can't switch encodings");var u=this._decoder.write(i);return c&&(u+=this._decoder.end()),u},bf=a,bf}var mf,j0;function $i(){if(j0)return mf;j0=1;var r=Ft(),e=nf(),t=of(),n=vf(),a=Tn();function i(o){a.call(this,"digest"),this._hash=o}return r(i,a),i.prototype._update=function(o){this._hash.update(o)},i.prototype._final=function(){return this._hash.digest()},mf=function(c){return c=c.toLowerCase(),c==="md5"?new e:c==="rmd160"||c==="ripemd160"?new t:new i(n(c))},mf}var gf,$0;function Gm(){if($0)return gf;$0=1;var r=Ft(),e=Ut().Buffer,t=Tn(),n=e.alloc(128),a=64;function i(o,c){t.call(this,"digest"),typeof c=="string"&&(c=e.from(c)),this._alg=o,this._key=c,c.length>a?c=o(c):c.length<a&&(c=e.concat([c,n],a));for(var u=this._ipad=e.allocUnsafe(a),h=this._opad=e.allocUnsafe(a),f=0;f<a;f++)u[f]=c[f]^54,h[f]=c[f]^92;this._hash=[u]}return r(i,t),i.prototype._update=function(o){this._hash.push(o)},i.prototype._final=function(){var o=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,o]))},gf=i,gf}var wf,H0;function z0(){if(H0)return wf;H0=1;var r=nf();return wf=function(e){return new r().update(e).digest()},wf}var _f,V0;function W0(){if(V0)return _f;V0=1;var r=Ft(),e=Gm(),t=Tn(),n=Ut().Buffer,a=z0(),i=of(),o=vf(),c=n.alloc(128);function u(h,f){t.call(this,"digest"),typeof f=="string"&&(f=n.from(f));var d=h==="sha512"||h==="sha384"?128:64;if(this._alg=h,this._key=f,f.length>d){var l=h==="rmd160"?new i:o(h);f=l.update(f).digest()}else f.length<d&&(f=n.concat([f,c],d));for(var y=this._ipad=n.allocUnsafe(d),m=this._opad=n.allocUnsafe(d),w=0;w<d;w++)y[w]=f[w]^54,m[w]=f[w]^92;this._hash=h==="rmd160"?new i:o(h),this._hash.update(y)}return r(u,t),u.prototype._update=function(h){this._hash.update(h)},u.prototype._final=function(){var h=this._hash.digest(),f=this._alg==="rmd160"?new i:o(this._alg);return f.update(this._opad).update(h).digest()},_f=function(f,d){return f=f.toLowerCase(),f==="rmd160"||f==="ripemd160"?new u("rmd160",d):f==="md5"?new e(a,d):new u(f,d)},_f}const K0={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var xf,Q0;function Jm(){return Q0||(Q0=1,xf=K0),xf}var za={},Sf,G0;function J0(){if(G0)return Sf;G0=1;var r=Math.pow(2,30)-1;return Sf=function(e,t){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof t!="number")throw new TypeError("Key length not a number");if(t<0||t>r||t!==t)throw new TypeError("Bad key length")},Sf}var Ef,Y0;function X0(){if(Y0)return Ef;Y0=1;var r;if(Kt.process&&Kt.process.browser)r="utf-8";else if(Kt.process&&Kt.process.version){var e=parseInt(Ot.version.split(".")[0].slice(1),10);r=e>=6?"utf-8":"binary"}else r="utf-8";return Ef=r,Ef}var Mf,Z0;function ed(){if(Z0)return Mf;Z0=1;var r=Ut().Buffer;return Mf=function(e,t,n){if(r.isBuffer(e))return e;if(typeof e=="string")return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")},Mf}var Af,td;function rd(){if(td)return Af;td=1;var r=z0(),e=of(),t=vf(),n=Ut().Buffer,a=J0(),i=X0(),o=ed(),c=n.alloc(128),u={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function h(l,y,m){var w=f(l),E=l==="sha512"||l==="sha384"?128:64;y.length>E?y=w(y):y.length<E&&(y=n.concat([y,c],E));for(var x=n.allocUnsafe(E+u[l]),P=n.allocUnsafe(E+u[l]),L=0;L<E;L++)x[L]=y[L]^54,P[L]=y[L]^92;var U=n.allocUnsafe(E+m+4);x.copy(U,0,0,E),this.ipad1=U,this.ipad2=x,this.opad=P,this.alg=l,this.blocksize=E,this.hash=w,this.size=u[l]}h.prototype.run=function(l,y){l.copy(y,this.blocksize);var m=this.hash(y);return m.copy(this.opad,this.blocksize),this.hash(this.opad)};function f(l){function y(w){return t(l).update(w).digest()}function m(w){return new e().update(w).digest()}return l==="rmd160"||l==="ripemd160"?m:l==="md5"?r:y}function d(l,y,m,w,E){a(m,w),l=o(l,i,"Password"),y=o(y,i,"Salt"),E=E||"sha1";var x=new h(E,l,y.length),P=n.allocUnsafe(w),L=n.allocUnsafe(y.length+4);y.copy(L,0,0,y.length);for(var U=0,z=u[E],W=Math.ceil(w/z),re=1;re<=W;re++){L.writeUInt32BE(re,y.length);for(var ie=x.run(L,x.ipad1),se=ie,ve=1;ve<m;ve++){se=x.run(se,x.ipad2);for(var Q=0;Q<z;Q++)ie[Q]^=se[Q]}ie.copy(P,U),U+=z}return P}return Af=d,Af}var Tf,nd;function Ym(){if(nd)return Tf;nd=1;var r=Ut().Buffer,e=J0(),t=X0(),n=rd(),a=ed(),i,o=Kt.crypto&&Kt.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[];function h(m){if(Kt.process&&!Kt.process.browser||!o||!o.importKey||!o.deriveBits)return Promise.resolve(!1);if(u[m]!==void 0)return u[m];i=i||r.alloc(8);var w=l(i,i,10,128,m).then(function(){return!0}).catch(function(){return!1});return u[m]=w,w}var f;function d(){return f||(Kt.process&&Kt.process.nextTick?f=Kt.process.nextTick:Kt.queueMicrotask?f=Kt.queueMicrotask:Kt.setImmediate?f=Kt.setImmediate:f=Kt.setTimeout,f)}function l(m,w,E,x,P){return o.importKey("raw",m,{name:"PBKDF2"},!1,["deriveBits"]).then(function(L){return o.deriveBits({name:"PBKDF2",salt:w,iterations:E,hash:{name:P}},L,x<<3)}).then(function(L){return r.from(L)})}function y(m,w){m.then(function(E){d()(function(){w(null,E)})},function(E){d()(function(){w(E)})})}return Tf=function(m,w,E,x,P,L){typeof P=="function"&&(L=P,P=void 0),P=P||"sha1";var U=c[P.toLowerCase()];if(!U||typeof Kt.Promise!="function"){d()(function(){var z;try{z=n(m,w,E,x,P)}catch(W){return L(W)}L(null,z)});return}if(e(E,x),m=a(m,t,"Password"),w=a(w,t,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");y(h(U).then(function(z){return z?l(m,w,E,x,U):n(m,w,E,x,P)}),L)},Tf}var id;function ad(){return id||(id=1,za.pbkdf2=Ym(),za.pbkdf2Sync=rd()),za}var zr={},Kn={},jr={},od;function sd(){if(od)return jr;od=1,jr.readUInt32BE=function(a,i){var o=a[0+i]<<24|a[1+i]<<16|a[2+i]<<8|a[3+i];return o>>>0},jr.writeUInt32BE=function(a,i,o){a[0+o]=i>>>24,a[1+o]=i>>>16&255,a[2+o]=i>>>8&255,a[3+o]=i&255},jr.ip=function(a,i,o,c){for(var u=0,h=0,f=6;f>=0;f-=2){for(var d=0;d<=24;d+=8)u<<=1,u|=i>>>d+f&1;for(var d=0;d<=24;d+=8)u<<=1,u|=a>>>d+f&1}for(var f=6;f>=0;f-=2){for(var d=1;d<=25;d+=8)h<<=1,h|=i>>>d+f&1;for(var d=1;d<=25;d+=8)h<<=1,h|=a>>>d+f&1}o[c+0]=u>>>0,o[c+1]=h>>>0},jr.rip=function(a,i,o,c){for(var u=0,h=0,f=0;f<4;f++)for(var d=24;d>=0;d-=8)u<<=1,u|=i>>>d+f&1,u<<=1,u|=a>>>d+f&1;for(var f=4;f<8;f++)for(var d=24;d>=0;d-=8)h<<=1,h|=i>>>d+f&1,h<<=1,h|=a>>>d+f&1;o[c+0]=u>>>0,o[c+1]=h>>>0},jr.pc1=function(a,i,o,c){for(var u=0,h=0,f=7;f>=5;f--){for(var d=0;d<=24;d+=8)u<<=1,u|=i>>d+f&1;for(var d=0;d<=24;d+=8)u<<=1,u|=a>>d+f&1}for(var d=0;d<=24;d+=8)u<<=1,u|=i>>d+f&1;for(var f=1;f<=3;f++){for(var d=0;d<=24;d+=8)h<<=1,h|=i>>d+f&1;for(var d=0;d<=24;d+=8)h<<=1,h|=a>>d+f&1}for(var d=0;d<=24;d+=8)h<<=1,h|=a>>d+f&1;o[c+0]=u>>>0,o[c+1]=h>>>0},jr.r28shl=function(a,i){return a<<i&268435455|a>>>28-i};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];jr.pc2=function(a,i,o,c){for(var u=0,h=0,f=r.length>>>1,d=0;d<f;d++)u<<=1,u|=a>>>r[d]&1;for(var d=f;d<r.length;d++)h<<=1,h|=i>>>r[d]&1;o[c+0]=u>>>0,o[c+1]=h>>>0},jr.expand=function(a,i,o){var c=0,u=0;c=(a&1)<<5|a>>>27;for(var h=23;h>=15;h-=4)c<<=6,c|=a>>>h&63;for(var h=11;h>=3;h-=4)u|=a>>>h&63,u<<=6;u|=(a&31)<<1|a>>>31,i[o+0]=c>>>0,i[o+1]=u>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];jr.substitute=function(a,i){for(var o=0,c=0;c<4;c++){var u=a>>>18-c*6&63,h=e[c*64+u];o<<=4,o|=h}for(var c=0;c<4;c++){var u=i>>>18-c*6&63,h=e[4*64+c*64+u];o<<=4,o|=h}return o>>>0};var t=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return jr.permute=function(a){for(var i=0,o=0;o<t.length;o++)i<<=1,i|=a>>>t[o]&1;return i>>>0},jr.padSplit=function(a,i,o){for(var c=a.toString(2);c.length<i;)c="0"+c;for(var u=[],h=0;h<i;h+=o)u.push(c.slice(h,h+o));return u.join(" ")},jr}var kf,fd;function Vr(){if(fd)return kf;fd=1,kf=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,n,a){if(t!=n)throw new Error(a||"Assertion failed: "+t+" != "+n)},kf}var If,ud;function Rf(){if(ud)return If;ud=1;var r=Vr();function e(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}return If=e,e.prototype._init=function(){},e.prototype.update=function(n){return n.length===0?[]:this.type==="decrypt"?this._updateDecrypt(n):this._updateEncrypt(n)},e.prototype._buffer=function(n,a){for(var i=Math.min(this.buffer.length-this.bufferOff,n.length-a),o=0;o<i;o++)this.buffer[this.bufferOff+o]=n[a+o];return this.bufferOff+=i,i},e.prototype._flushBuffer=function(n,a){return this._update(this.buffer,0,n,a),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(n){var a=0,i=0,o=(this.bufferOff+n.length)/this.blockSize|0,c=new Array(o*this.blockSize);this.bufferOff!==0&&(a+=this._buffer(n,a),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(c,i)));for(var u=n.length-(n.length-a)%this.blockSize;a<u;a+=this.blockSize)this._update(n,a,c,i),i+=this.blockSize;for(;a<n.length;a++,this.bufferOff++)this.buffer[this.bufferOff]=n[a];return c},e.prototype._updateDecrypt=function(n){for(var a=0,i=0,o=Math.ceil((this.bufferOff+n.length)/this.blockSize)-1,c=new Array(o*this.blockSize);o>0;o--)a+=this._buffer(n,a),i+=this._flushBuffer(c,i);return a+=this._buffer(n,a),c},e.prototype.final=function(n){var a;n&&(a=this.update(n));var i;return this.type==="encrypt"?i=this._finalEncrypt():i=this._finalDecrypt(),a?a.concat(i):i},e.prototype._pad=function(n,a){if(a===0)return!1;for(;a<n.length;)n[a++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var n=new Array(this.blockSize);return this._update(this.buffer,0,n,0),n},e.prototype._unpad=function(n){return n},e.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var n=new Array(this.blockSize);return this._flushBuffer(n,0),this._unpad(n)},If}var Cf,cd;function hd(){if(cd)return Cf;cd=1;var r=Vr(),e=Ft(),t=sd(),n=Rf();function a(){this.tmp=new Array(2),this.keys=null}function i(c){n.call(this,c);var u=new a;this._desState=u,this.deriveKeys(u,c.key)}e(i,n),Cf=i,i.create=function(u){return new i(u)};var o=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return i.prototype.deriveKeys=function(u,h){u.keys=new Array(32),r.equal(h.length,this.blockSize,"Invalid key length");var f=t.readUInt32BE(h,0),d=t.readUInt32BE(h,4);t.pc1(f,d,u.tmp,0),f=u.tmp[0],d=u.tmp[1];for(var l=0;l<u.keys.length;l+=2){var y=o[l>>>1];f=t.r28shl(f,y),d=t.r28shl(d,y),t.pc2(f,d,u.keys,l)}},i.prototype._update=function(u,h,f,d){var l=this._desState,y=t.readUInt32BE(u,h),m=t.readUInt32BE(u,h+4);t.ip(y,m,l.tmp,0),y=l.tmp[0],m=l.tmp[1],this.type==="encrypt"?this._encrypt(l,y,m,l.tmp,0):this._decrypt(l,y,m,l.tmp,0),y=l.tmp[0],m=l.tmp[1],t.writeUInt32BE(f,y,d),t.writeUInt32BE(f,m,d+4)},i.prototype._pad=function(u,h){if(this.padding===!1)return!1;for(var f=u.length-h,d=h;d<u.length;d++)u[d]=f;return!0},i.prototype._unpad=function(u){if(this.padding===!1)return u;for(var h=u[u.length-1],f=u.length-h;f<u.length;f++)r.equal(u[f],h);return u.slice(0,u.length-h)},i.prototype._encrypt=function(u,h,f,d,l){for(var y=h,m=f,w=0;w<u.keys.length;w+=2){var E=u.keys[w],x=u.keys[w+1];t.expand(m,u.tmp,0),E^=u.tmp[0],x^=u.tmp[1];var P=t.substitute(E,x),L=t.permute(P),U=m;m=(y^L)>>>0,y=U}t.rip(m,y,d,l)},i.prototype._decrypt=function(u,h,f,d,l){for(var y=f,m=h,w=u.keys.length-2;w>=0;w-=2){var E=u.keys[w],x=u.keys[w+1];t.expand(y,u.tmp,0),E^=u.tmp[0],x^=u.tmp[1];var P=t.substitute(E,x),L=t.permute(P),U=y;y=(m^L)>>>0,m=U}t.rip(y,m,d,l)},Cf}var Of={},ld;function Xm(){if(ld)return Of;ld=1;var r=Vr(),e=Ft(),t={};function n(i){r.equal(i.length,8,"Invalid IV length"),this.iv=new Array(8);for(var o=0;o<this.iv.length;o++)this.iv[o]=i[o]}function a(i){function o(f){i.call(this,f),this._cbcInit()}e(o,i);for(var c=Object.keys(t),u=0;u<c.length;u++){var h=c[u];o.prototype[h]=t[h]}return o.create=function(d){return new o(d)},o}return Of.instantiate=a,t._cbcInit=function(){var o=new n(this.options.iv);this._cbcState=o},t._update=function(o,c,u,h){var f=this._cbcState,d=this.constructor.super_.prototype,l=f.iv;if(this.type==="encrypt"){for(var y=0;y<this.blockSize;y++)l[y]^=o[c+y];d._update.call(this,l,0,u,h);for(var y=0;y<this.blockSize;y++)l[y]=u[h+y]}else{d._update.call(this,o,c,u,h);for(var y=0;y<this.blockSize;y++)u[h+y]^=l[y];for(var y=0;y<this.blockSize;y++)l[y]=o[c+y]}},Of}var Bf,dd;function Zm(){if(dd)return Bf;dd=1;var r=Vr(),e=Ft(),t=Rf(),n=hd();function a(o,c){r.equal(c.length,24,"Invalid key length");var u=c.slice(0,8),h=c.slice(8,16),f=c.slice(16,24);o==="encrypt"?this.ciphers=[n.create({type:"encrypt",key:u}),n.create({type:"decrypt",key:h}),n.create({type:"encrypt",key:f})]:this.ciphers=[n.create({type:"decrypt",key:f}),n.create({type:"encrypt",key:h}),n.create({type:"decrypt",key:u})]}function i(o){t.call(this,o);var c=new a(this.type,this.options.key);this._edeState=c}return e(i,t),Bf=i,i.create=function(c){return new i(c)},i.prototype._update=function(c,u,h,f){var d=this._edeState;d.ciphers[0]._update(c,u,h,f),d.ciphers[1]._update(h,f,h,f),d.ciphers[2]._update(h,f,h,f)},i.prototype._pad=n.prototype._pad,i.prototype._unpad=n.prototype._unpad,Bf}var pd;function eg(){return pd||(pd=1,Kn.utils=sd(),Kn.Cipher=Rf(),Kn.DES=hd(),Kn.CBC=Xm(),Kn.EDE=Zm()),Kn}var Pf,vd;function tg(){if(vd)return Pf;vd=1;var r=Tn(),e=eg(),t=Ft(),n=Ut().Buffer,a={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],Pf=i,t(i,r);function i(o){r.call(this);var c=o.mode.toLowerCase(),u=a[c],h;o.decrypt?h="decrypt":h="encrypt";var f=o.key;n.isBuffer(f)||(f=n.from(f)),(c==="des-ede"||c==="des-ede-cbc")&&(f=n.concat([f,f.slice(0,8)]));var d=o.iv;n.isBuffer(d)||(d=n.from(d)),this._des=u.create({key:f,iv:d,type:h})}return i.prototype._update=function(o){return n.from(this._des.update(o))},i.prototype._final=function(){return n.from(this._des.final())},Pf}var Wr={},Va={},Wa={},yd;function rg(){return yd||(yd=1,Wa.encrypt=function(r,e){return r._cipher.encryptBlock(e)},Wa.decrypt=function(r,e){return r._cipher.decryptBlock(e)}),Wa}var Ka={},Df,bd;function Hi(){return bd||(bd=1,Df=function(e,t){for(var n=Math.min(e.length,t.length),a=new Jt(n),i=0;i<n;++i)a[i]=e[i]^t[i];return a}),Df}var md;function ng(){if(md)return Ka;md=1;var r=Hi();return Ka.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},Ka.decrypt=function(e,t){var n=e._prev;e._prev=t;var a=e._cipher.decryptBlock(t);return r(a,n)},Ka}var Nf={},gd;function ig(){if(gd)return Nf;gd=1;var r=Ut().Buffer,e=Hi();function t(n,a,i){var o=a.length,c=e(a,n._cache);return n._cache=n._cache.slice(o),n._prev=r.concat([n._prev,i?a:c]),c}return Nf.encrypt=function(n,a,i){for(var o=r.allocUnsafe(0),c;a.length;)if(n._cache.length===0&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=r.allocUnsafe(0)),n._cache.length<=a.length)c=n._cache.length,o=r.concat([o,t(n,a.slice(0,c),i)]),a=a.slice(c);else{o=r.concat([o,t(n,a,i)]);break}return o},Nf}var qf={},wd;function ag(){if(wd)return qf;wd=1;var r=Ut().Buffer;function e(t,n,a){var i=t._cipher.encryptBlock(t._prev),o=i[0]^n;return t._prev=r.concat([t._prev.slice(1),r.from([a?n:o])]),o}return qf.encrypt=function(t,n,a){for(var i=n.length,o=r.allocUnsafe(i),c=-1;++c<i;)o[c]=e(t,n[c],a);return o},qf}var Lf={},_d;function og(){if(_d)return Lf;_d=1;var r=Ut().Buffer;function e(n,a,i){for(var o,c=-1,u=8,h=0,f,d;++c<u;)o=n._cipher.encryptBlock(n._prev),f=a&1<<7-c?128:0,d=o[0]^f,h+=(d&128)>>c%8,n._prev=t(n._prev,i?f:d);return h}function t(n,a){var i=n.length,o=-1,c=r.allocUnsafe(n.length);for(n=r.concat([n,r.from([a])]);++o<i;)c[o]=n[o]<<1|n[o+1]>>7;return c}return Lf.encrypt=function(n,a,i){for(var o=a.length,c=r.allocUnsafe(o),u=-1;++u<o;)c[u]=e(n,a[u],i);return c},Lf}var Ff={},xd;function sg(){if(xd)return Ff;xd=1;var r=Hi();function e(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}return Ff.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=Jt.concat([t._cache,e(t)]);var a=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),r(n,a)},Ff}var Uf={},jf,Sd;function Ed(){if(Sd)return jf;Sd=1;function r(e){for(var t=e.length,n;t--;)if(n=e.readUInt8(t),n===255)e.writeUInt8(0,t);else{n++,e.writeUInt8(n,t);break}}return jf=r,jf}var Md;function Ad(){if(Md)return Uf;Md=1;var r=Hi(),e=Ut().Buffer,t=Ed();function n(i){var o=i._cipher.encryptBlockRaw(i._prev);return t(i._prev),o}var a=16;return Uf.encrypt=function(i,o){var c=Math.ceil(o.length/a),u=i._cache.length;i._cache=e.concat([i._cache,e.allocUnsafe(c*a)]);for(var h=0;h<c;h++){var f=n(i),d=u+h*a;i._cache.writeUInt32BE(f[0],d+0),i._cache.writeUInt32BE(f[1],d+4),i._cache.writeUInt32BE(f[2],d+8),i._cache.writeUInt32BE(f[3],d+12)}var l=i._cache.slice(0,o.length);return i._cache=i._cache.slice(o.length),r(o,l)},Uf}const Td={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var $f,kd;function Hf(){if(kd)return $f;kd=1;var r={ECB:rg(),CBC:ng(),CFB:ig(),CFB8:ag(),CFB1:og(),OFB:sg(),CTR:Ad(),GCM:Ad()},e=Td;for(var t in e)e[t].module=r[e[t].mode];return $f=e,$f}var zf={},Id;function Qa(){if(Id)return zf;Id=1;var r=Ut().Buffer;function e(c){r.isBuffer(c)||(c=r.from(c));for(var u=c.length/4|0,h=new Array(u),f=0;f<u;f++)h[f]=c.readUInt32BE(f*4);return h}function t(c){for(var u=0;u<c.length;c++)c[u]=0}function n(c,u,h,f,d){for(var l=h[0],y=h[1],m=h[2],w=h[3],E=c[0]^u[0],x=c[1]^u[1],P=c[2]^u[2],L=c[3]^u[3],U,z,W,re,ie=4,se=1;se<d;se++)U=l[E>>>24]^y[x>>>16&255]^m[P>>>8&255]^w[L&255]^u[ie++],z=l[x>>>24]^y[P>>>16&255]^m[L>>>8&255]^w[E&255]^u[ie++],W=l[P>>>24]^y[L>>>16&255]^m[E>>>8&255]^w[x&255]^u[ie++],re=l[L>>>24]^y[E>>>16&255]^m[x>>>8&255]^w[P&255]^u[ie++],E=U,x=z,P=W,L=re;return U=(f[E>>>24]<<24|f[x>>>16&255]<<16|f[P>>>8&255]<<8|f[L&255])^u[ie++],z=(f[x>>>24]<<24|f[P>>>16&255]<<16|f[L>>>8&255]<<8|f[E&255])^u[ie++],W=(f[P>>>24]<<24|f[L>>>16&255]<<16|f[E>>>8&255]<<8|f[x&255])^u[ie++],re=(f[L>>>24]<<24|f[E>>>16&255]<<16|f[x>>>8&255]<<8|f[P&255])^u[ie++],U=U>>>0,z=z>>>0,W=W>>>0,re=re>>>0,[U,z,W,re]}var a=[0,1,2,4,8,16,32,64,128,27,54],i=function(){for(var c=new Array(256),u=0;u<256;u++)u<128?c[u]=u<<1:c[u]=u<<1^283;for(var h=[],f=[],d=[[],[],[],[]],l=[[],[],[],[]],y=0,m=0,w=0;w<256;++w){var E=m^m<<1^m<<2^m<<3^m<<4;E=E>>>8^E&255^99,h[y]=E,f[E]=y;var x=c[y],P=c[x],L=c[P],U=c[E]*257^E*16843008;d[0][y]=U<<24|U>>>8,d[1][y]=U<<16|U>>>16,d[2][y]=U<<8|U>>>24,d[3][y]=U,U=L*16843009^P*65537^x*257^y*16843008,l[0][E]=U<<24|U>>>8,l[1][E]=U<<16|U>>>16,l[2][E]=U<<8|U>>>24,l[3][E]=U,y===0?y=m=1:(y=x^c[c[c[L^x]]],m^=c[c[m]])}return{SBOX:h,INV_SBOX:f,SUB_MIX:d,INV_SUB_MIX:l}}();function o(c){this._key=e(c),this._reset()}return o.blockSize=16,o.keySize=32,o.prototype.blockSize=o.blockSize,o.prototype.keySize=o.keySize,o.prototype._reset=function(){for(var c=this._key,u=c.length,h=u+6,f=(h+1)*4,d=[],l=0;l<u;l++)d[l]=c[l];for(l=u;l<f;l++){var y=d[l-1];l%u===0?(y=y<<8|y>>>24,y=i.SBOX[y>>>24]<<24|i.SBOX[y>>>16&255]<<16|i.SBOX[y>>>8&255]<<8|i.SBOX[y&255],y^=a[l/u|0]<<24):u>6&&l%u===4&&(y=i.SBOX[y>>>24]<<24|i.SBOX[y>>>16&255]<<16|i.SBOX[y>>>8&255]<<8|i.SBOX[y&255]),d[l]=d[l-u]^y}for(var m=[],w=0;w<f;w++){var E=f-w,x=d[E-(w%4?0:4)];w<4||E<=4?m[w]=x:m[w]=i.INV_SUB_MIX[0][i.SBOX[x>>>24]]^i.INV_SUB_MIX[1][i.SBOX[x>>>16&255]]^i.INV_SUB_MIX[2][i.SBOX[x>>>8&255]]^i.INV_SUB_MIX[3][i.SBOX[x&255]]}this._nRounds=h,this._keySchedule=d,this._invKeySchedule=m},o.prototype.encryptBlockRaw=function(c){return c=e(c),n(c,this._keySchedule,i.SUB_MIX,i.SBOX,this._nRounds)},o.prototype.encryptBlock=function(c){var u=this.encryptBlockRaw(c),h=r.allocUnsafe(16);return h.writeUInt32BE(u[0],0),h.writeUInt32BE(u[1],4),h.writeUInt32BE(u[2],8),h.writeUInt32BE(u[3],12),h},o.prototype.decryptBlock=function(c){c=e(c);var u=c[1];c[1]=c[3],c[3]=u;var h=n(c,this._invKeySchedule,i.INV_SUB_MIX,i.INV_SBOX,this._nRounds),f=r.allocUnsafe(16);return f.writeUInt32BE(h[0],0),f.writeUInt32BE(h[3],4),f.writeUInt32BE(h[2],8),f.writeUInt32BE(h[1],12),f},o.prototype.scrub=function(){t(this._keySchedule),t(this._invKeySchedule),t(this._key)},zf.AES=o,zf}var Vf,Rd;function fg(){if(Rd)return Vf;Rd=1;var r=Ut().Buffer,e=r.alloc(16,0);function t(i){return[i.readUInt32BE(0),i.readUInt32BE(4),i.readUInt32BE(8),i.readUInt32BE(12)]}function n(i){var o=r.allocUnsafe(16);return o.writeUInt32BE(i[0]>>>0,0),o.writeUInt32BE(i[1]>>>0,4),o.writeUInt32BE(i[2]>>>0,8),o.writeUInt32BE(i[3]>>>0,12),o}function a(i){this.h=i,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}return a.prototype.ghash=function(i){for(var o=-1;++o<i.length;)this.state[o]^=i[o];this._multiply()},a.prototype._multiply=function(){for(var i=t(this.h),o=[0,0,0,0],c,u,h,f=-1;++f<128;){for(u=(this.state[~~(f/8)]&1<<7-f%8)!==0,u&&(o[0]^=i[0],o[1]^=i[1],o[2]^=i[2],o[3]^=i[3]),h=(i[3]&1)!==0,c=3;c>0;c--)i[c]=i[c]>>>1|(i[c-1]&1)<<31;i[0]=i[0]>>>1,h&&(i[0]=i[0]^-520093696)}this.state=n(o)},a.prototype.update=function(i){this.cache=r.concat([this.cache,i]);for(var o;this.cache.length>=16;)o=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(o)},a.prototype.final=function(i,o){return this.cache.length&&this.ghash(r.concat([this.cache,e],16)),this.ghash(n([0,i,0,o])),this.state},Vf=a,Vf}var Wf,Cd;function Od(){if(Cd)return Wf;Cd=1;var r=Qa(),e=Ut().Buffer,t=Tn(),n=Ft(),a=fg(),i=Hi(),o=Ed();function c(f,d){var l=0;f.length!==d.length&&l++;for(var y=Math.min(f.length,d.length),m=0;m<y;++m)l+=f[m]^d[m];return l}function u(f,d,l){if(d.length===12)return f._finID=e.concat([d,e.from([0,0,0,1])]),e.concat([d,e.from([0,0,0,2])]);var y=new a(l),m=d.length,w=m%16;y.update(d),w&&(w=16-w,y.update(e.alloc(w,0))),y.update(e.alloc(8,0));var E=m*8,x=e.alloc(8);x.writeUIntBE(E,0,8),y.update(x),f._finID=y.state;var P=e.from(f._finID);return o(P),P}function h(f,d,l,y){t.call(this);var m=e.alloc(4,0);this._cipher=new r.AES(d);var w=this._cipher.encryptBlock(m);this._ghash=new a(w),l=u(this,l,w),this._prev=e.from(l),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=y,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}return n(h,t),h.prototype._update=function(f){if(!this._called&&this._alen){var d=16-this._alen%16;d<16&&(d=e.alloc(d,0),this._ghash.update(d))}this._called=!0;var l=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(l),this._len+=f.length,l},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=i(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&c(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},h.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},Wf=h,Wf}var Kf,Bd;function Pd(){if(Bd)return Kf;Bd=1;var r=Qa(),e=Ut().Buffer,t=Tn(),n=Ft();function a(i,o,c,u){t.call(this),this._cipher=new r.AES(o),this._prev=e.from(c),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=u,this._mode=i}return n(a,t),a.prototype._update=function(i){return this._mode.encrypt(this,i,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},Kf=a,Kf}var Qf,Dd;function Ga(){if(Dd)return Qf;Dd=1;var r=Ut().Buffer,e=nf();function t(n,a,i,o){if(r.isBuffer(n)||(n=r.from(n,"binary")),a&&(r.isBuffer(a)||(a=r.from(a,"binary")),a.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=i/8,u=r.alloc(c),h=r.alloc(o||0),f=r.alloc(0);c>0||o>0;){var d=new e;d.update(f),d.update(n),a&&d.update(a),f=d.digest();var l=0;if(c>0){var y=u.length-c;l=Math.min(c,f.length),f.copy(u,y,0,l),c-=l}if(l<f.length&&o>0){var m=h.length-o,w=Math.min(o,f.length-l);f.copy(h,m,l,l+w),o-=w}}return f.fill(0),{key:u,iv:h}}return Qf=t,Qf}var Nd;function ug(){if(Nd)return Va;Nd=1;var r=Hf(),e=Od(),t=Ut().Buffer,n=Pd(),a=Tn(),i=Qa(),o=Ga(),c=Ft();function u(y,m,w){a.call(this),this._cache=new f,this._cipher=new i.AES(m),this._prev=t.from(w),this._mode=y,this._autopadding=!0}c(u,a),u.prototype._update=function(y){this._cache.add(y);for(var m,w,E=[];m=this._cache.get();)w=this._mode.encrypt(this,m),E.push(w);return t.concat(E)};var h=t.alloc(16,16);u.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return y=this._mode.encrypt(this,y),this._cipher.scrub(),y;if(!y.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this};function f(){this.cache=t.allocUnsafe(0)}f.prototype.add=function(y){this.cache=t.concat([this.cache,y])},f.prototype.get=function(){if(this.cache.length>15){var y=this.cache.slice(0,16);return this.cache=this.cache.slice(16),y}return null},f.prototype.flush=function(){for(var y=16-this.cache.length,m=t.allocUnsafe(y),w=-1;++w<y;)m.writeUInt8(y,w);return t.concat([this.cache,m])};function d(y,m,w){var E=r[y.toLowerCase()];if(!E)throw new TypeError("invalid suite type");if(typeof m=="string"&&(m=t.from(m)),m.length!==E.key/8)throw new TypeError("invalid key length "+m.length);if(typeof w=="string"&&(w=t.from(w)),E.mode!=="GCM"&&w.length!==E.iv)throw new TypeError("invalid iv length "+w.length);return E.type==="stream"?new n(E.module,m,w):E.type==="auth"?new e(E.module,m,w):new u(E.module,m,w)}function l(y,m){var w=r[y.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var E=o(m,!1,w.key,w.iv);return d(y,E.key,E.iv)}return Va.createCipheriv=d,Va.createCipher=l,Va}var Ja={},qd;function cg(){if(qd)return Ja;qd=1;var r=Od(),e=Ut().Buffer,t=Hf(),n=Pd(),a=Tn(),i=Qa(),o=Ga(),c=Ft();function u(y,m,w){a.call(this),this._cache=new h,this._last=void 0,this._cipher=new i.AES(m),this._prev=e.from(w),this._mode=y,this._autopadding=!0}c(u,a),u.prototype._update=function(y){this._cache.add(y);for(var m,w,E=[];m=this._cache.get(this._autopadding);)w=this._mode.decrypt(this,m),E.push(w);return e.concat(E)},u.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return f(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this};function h(){this.cache=e.allocUnsafe(0)}h.prototype.add=function(y){this.cache=e.concat([this.cache,y])},h.prototype.get=function(y){var m;if(y){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache};function f(y){var m=y[15];if(m<1||m>16)throw new Error("unable to decrypt data");for(var w=-1;++w<m;)if(y[w+(16-m)]!==m)throw new Error("unable to decrypt data");if(m!==16)return y.slice(0,16-m)}function d(y,m,w){var E=t[y.toLowerCase()];if(!E)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=e.from(w)),E.mode!=="GCM"&&w.length!==E.iv)throw new TypeError("invalid iv length "+w.length);if(typeof m=="string"&&(m=e.from(m)),m.length!==E.key/8)throw new TypeError("invalid key length "+m.length);return E.type==="stream"?new n(E.module,m,w,!0):E.type==="auth"?new r(E.module,m,w,!0):new u(E.module,m,w)}function l(y,m){var w=t[y.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var E=o(m,!1,w.key,w.iv);return d(y,E.key,E.iv)}return Ja.createDecipher=l,Ja.createDecipheriv=d,Ja}var Ld;function Gf(){if(Ld)return Wr;Ld=1;var r=ug(),e=cg(),t=Td;function n(){return Object.keys(t)}return Wr.createCipher=Wr.Cipher=r.createCipher,Wr.createCipheriv=Wr.Cipheriv=r.createCipheriv,Wr.createDecipher=Wr.Decipher=e.createDecipher,Wr.createDecipheriv=Wr.Decipheriv=e.createDecipheriv,Wr.listCiphers=Wr.getCiphers=n,Wr}var Jf={},Fd;function hg(){return Fd||(Fd=1,function(r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}}(Jf)),Jf}var Ud;function lg(){if(Ud)return zr;Ud=1;var r=tg(),e=Gf(),t=Hf(),n=hg(),a=Ga();function i(f,d){f=f.toLowerCase();var l,y;if(t[f])l=t[f].key,y=t[f].iv;else if(n[f])l=n[f].key*8,y=n[f].iv;else throw new TypeError("invalid suite type");var m=a(d,!1,l,y);return c(f,m.key,m.iv)}function o(f,d){f=f.toLowerCase();var l,y;if(t[f])l=t[f].key,y=t[f].iv;else if(n[f])l=n[f].key*8,y=n[f].iv;else throw new TypeError("invalid suite type");var m=a(d,!1,l,y);return u(f,m.key,m.iv)}function c(f,d,l){if(f=f.toLowerCase(),t[f])return e.createCipheriv(f,d,l);if(n[f])return new r({key:d,iv:l,mode:f});throw new TypeError("invalid suite type")}function u(f,d,l){if(f=f.toLowerCase(),t[f])return e.createDecipheriv(f,d,l);if(n[f])return new r({key:d,iv:l,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}function h(){return Object.keys(n).concat(e.getCiphers())}return zr.createCipher=zr.Cipher=i,zr.createCipheriv=zr.Cipheriv=c,zr.createDecipher=zr.Decipher=o,zr.createDecipheriv=zr.Decipheriv=u,zr.listCiphers=zr.getCiphers=h,zr}var Qn={},Ya={exports:{}};Ya.exports;var jd;function Er(){return jd||(jd=1,function(r){(function(e,t){function n(Q,M){if(!Q)throw new Error(M||"Assertion failed")}function a(Q,M){Q.super_=M;var b=function(){};b.prototype=M.prototype,Q.prototype=new b,Q.prototype.constructor=Q}function i(Q,M,b){if(i.isBN(Q))return Q;this.negative=0,this.words=null,this.length=0,this.red=null,Q!==null&&((M==="le"||M==="be")&&(b=M,M=10),this._init(Q||0,M||10,b||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=wn.Buffer}catch(Q){}i.isBN=function(M){return M instanceof i?!0:M!==null&&typeof M=="object"&&M.constructor.wordSize===i.wordSize&&Array.isArray(M.words)},i.max=function(M,b){return M.cmp(b)>0?M:b},i.min=function(M,b){return M.cmp(b)<0?M:b},i.prototype._init=function(M,b,s){if(typeof M=="number")return this._initNumber(M,b,s);if(typeof M=="object")return this._initArray(M,b,s);b==="hex"&&(b=16),n(b===(b|0)&&b>=2&&b<=36),M=M.toString().replace(/\s+/g,"");var v=0;M[0]==="-"&&(v++,this.negative=1),v<M.length&&(b===16?this._parseHex(M,v,s):(this._parseBase(M,b,v),s==="le"&&this._initArray(this.toArray(),b,s)))},i.prototype._initNumber=function(M,b,s){M<0&&(this.negative=1,M=-M),M<67108864?(this.words=[M&67108863],this.length=1):M<4503599627370496?(this.words=[M&67108863,M/67108864&67108863],this.length=2):(n(M<9007199254740992),this.words=[M&67108863,M/67108864&67108863,1],this.length=3),s==="le"&&this._initArray(this.toArray(),b,s)},i.prototype._initArray=function(M,b,s){if(n(typeof M.length=="number"),M.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(M.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var g,A,I=0;if(s==="be")for(v=M.length-1,g=0;v>=0;v-=3)A=M[v]|M[v-1]<<8|M[v-2]<<16,this.words[g]|=A<<I&67108863,this.words[g+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);else if(s==="le")for(v=0,g=0;v<M.length;v+=3)A=M[v]|M[v+1]<<8|M[v+2]<<16,this.words[g]|=A<<I&67108863,this.words[g+1]=A>>>26-I&67108863,I+=24,I>=26&&(I-=26,g++);return this.strip()};function c(Q,M){var b=Q.charCodeAt(M);return b>=65&&b<=70?b-55:b>=97&&b<=102?b-87:b-48&15}function u(Q,M,b){var s=c(Q,b);return b-1>=M&&(s|=c(Q,b-1)<<4),s}i.prototype._parseHex=function(M,b,s){this.length=Math.ceil((M.length-b)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var g=0,A=0,I;if(s==="be")for(v=M.length-1;v>=b;v-=2)I=u(M,b,v)<<g,this.words[A]|=I&67108863,g>=18?(g-=18,A+=1,this.words[A]|=I>>>26):g+=8;else{var R=M.length-b;for(v=R%2===0?b+1:b;v<M.length;v+=2)I=u(M,b,v)<<g,this.words[A]|=I&67108863,g>=18?(g-=18,A+=1,this.words[A]|=I>>>26):g+=8}this.strip()};function h(Q,M,b,s){for(var v=0,g=Math.min(Q.length,b),A=M;A<g;A++){var I=Q.charCodeAt(A)-48;v*=s,I>=49?v+=I-49+10:I>=17?v+=I-17+10:v+=I}return v}i.prototype._parseBase=function(M,b,s){this.words=[0],this.length=1;for(var v=0,g=1;g<=67108863;g*=b)v++;v--,g=g/b|0;for(var A=M.length-s,I=A%v,R=Math.min(A,A-I)+s,S=0,T=s;T<R;T+=v)S=h(M,T,T+v,b),this.imuln(g),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(I!==0){var p=1;for(S=h(M,T,M.length,b),T=0;T<I;T++)p*=b;this.imuln(p),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this.strip()},i.prototype.copy=function(M){M.words=new Array(this.length);for(var b=0;b<this.length;b++)M.words[b]=this.words[b];M.length=this.length,M.negative=this.negative,M.red=this.red},i.prototype.clone=function(){var M=new i(null);return this.copy(M),M},i.prototype._expand=function(M){for(;this.length<M;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(M,b){M=M||10,b=b|0||1;var s;if(M===16||M==="hex"){s="";for(var v=0,g=0,A=0;A<this.length;A++){var I=this.words[A],R=((I<<v|g)&16777215).toString(16);g=I>>>24-v&16777215,g!==0||A!==this.length-1?s=f[6-R.length]+R+s:s=R+s,v+=2,v>=26&&(v-=26,A--)}for(g!==0&&(s=g.toString(16)+s);s.length%b!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}if(M===(M|0)&&M>=2&&M<=36){var S=d[M],T=l[M];s="";var p=this.clone();for(p.negative=0;!p.isZero();){var B=p.modn(T).toString(M);p=p.idivn(T),p.isZero()?s=B+s:s=f[S-B.length]+B+s}for(this.isZero()&&(s="0"+s);s.length%b!==0;)s="0"+s;return this.negative!==0&&(s="-"+s),s}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var M=this.words[0];return this.length===2?M+=this.words[1]*67108864:this.length===3&&this.words[2]===1?M+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-M:M},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(M,b){return n(typeof o!="undefined"),this.toArrayLike(o,M,b)},i.prototype.toArray=function(M,b){return this.toArrayLike(Array,M,b)},i.prototype.toArrayLike=function(M,b,s){var v=this.byteLength(),g=s||Math.max(1,v);n(v<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var A=b==="le",I=new M(g),R,S,T=this.clone();if(A){for(S=0;!T.isZero();S++)R=T.andln(255),T.iushrn(8),I[S]=R;for(;S<g;S++)I[S]=0}else{for(S=0;S<g-v;S++)I[S]=0;for(S=0;!T.isZero();S++)R=T.andln(255),T.iushrn(8),I[g-S-1]=R}return I},Math.clz32?i.prototype._countBits=function(M){return 32-Math.clz32(M)}:i.prototype._countBits=function(M){var b=M,s=0;return b>=4096&&(s+=13,b>>>=13),b>=64&&(s+=7,b>>>=7),b>=8&&(s+=4,b>>>=4),b>=2&&(s+=2,b>>>=2),s+b},i.prototype._zeroBits=function(M){if(M===0)return 26;var b=M,s=0;return b&8191||(s+=13,b>>>=13),b&127||(s+=7,b>>>=7),b&15||(s+=4,b>>>=4),b&3||(s+=2,b>>>=2),b&1||s++,s},i.prototype.bitLength=function(){var M=this.words[this.length-1],b=this._countBits(M);return(this.length-1)*26+b};function y(Q){for(var M=new Array(Q.bitLength()),b=0;b<M.length;b++){var s=b/26|0,v=b%26;M[b]=(Q.words[s]&1<<v)>>>v}return M}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M=0,b=0;b<this.length;b++){var s=this._zeroBits(this.words[b]);if(M+=s,s!==26)break}return M},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(M){return this.negative!==0?this.abs().inotn(M).iaddn(1):this.clone()},i.prototype.fromTwos=function(M){return this.testn(M-1)?this.notn(M).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(M){for(;this.length<M.length;)this.words[this.length++]=0;for(var b=0;b<M.length;b++)this.words[b]=this.words[b]|M.words[b];return this.strip()},i.prototype.ior=function(M){return n((this.negative|M.negative)===0),this.iuor(M)},i.prototype.or=function(M){return this.length>M.length?this.clone().ior(M):M.clone().ior(this)},i.prototype.uor=function(M){return this.length>M.length?this.clone().iuor(M):M.clone().iuor(this)},i.prototype.iuand=function(M){var b;this.length>M.length?b=M:b=this;for(var s=0;s<b.length;s++)this.words[s]=this.words[s]&M.words[s];return this.length=b.length,this.strip()},i.prototype.iand=function(M){return n((this.negative|M.negative)===0),this.iuand(M)},i.prototype.and=function(M){return this.length>M.length?this.clone().iand(M):M.clone().iand(this)},i.prototype.uand=function(M){return this.length>M.length?this.clone().iuand(M):M.clone().iuand(this)},i.prototype.iuxor=function(M){var b,s;this.length>M.length?(b=this,s=M):(b=M,s=this);for(var v=0;v<s.length;v++)this.words[v]=b.words[v]^s.words[v];if(this!==b)for(;v<b.length;v++)this.words[v]=b.words[v];return this.length=b.length,this.strip()},i.prototype.ixor=function(M){return n((this.negative|M.negative)===0),this.iuxor(M)},i.prototype.xor=function(M){return this.length>M.length?this.clone().ixor(M):M.clone().ixor(this)},i.prototype.uxor=function(M){return this.length>M.length?this.clone().iuxor(M):M.clone().iuxor(this)},i.prototype.inotn=function(M){n(typeof M=="number"&&M>=0);var b=Math.ceil(M/26)|0,s=M%26;this._expand(b),s>0&&b--;for(var v=0;v<b;v++)this.words[v]=~this.words[v]&67108863;return s>0&&(this.words[v]=~this.words[v]&67108863>>26-s),this.strip()},i.prototype.notn=function(M){return this.clone().inotn(M)},i.prototype.setn=function(M,b){n(typeof M=="number"&&M>=0);var s=M/26|0,v=M%26;return this._expand(s+1),b?this.words[s]=this.words[s]|1<<v:this.words[s]=this.words[s]&~(1<<v),this.strip()},i.prototype.iadd=function(M){var b;if(this.negative!==0&&M.negative===0)return this.negative=0,b=this.isub(M),this.negative^=1,this._normSign();if(this.negative===0&&M.negative!==0)return M.negative=0,b=this.isub(M),M.negative=1,b._normSign();var s,v;this.length>M.length?(s=this,v=M):(s=M,v=this);for(var g=0,A=0;A<v.length;A++)b=(s.words[A]|0)+(v.words[A]|0)+g,this.words[A]=b&67108863,g=b>>>26;for(;g!==0&&A<s.length;A++)b=(s.words[A]|0)+g,this.words[A]=b&67108863,g=b>>>26;if(this.length=s.length,g!==0)this.words[this.length]=g,this.length++;else if(s!==this)for(;A<s.length;A++)this.words[A]=s.words[A];return this},i.prototype.add=function(M){var b;return M.negative!==0&&this.negative===0?(M.negative=0,b=this.sub(M),M.negative^=1,b):M.negative===0&&this.negative!==0?(this.negative=0,b=M.sub(this),this.negative=1,b):this.length>M.length?this.clone().iadd(M):M.clone().iadd(this)},i.prototype.isub=function(M){if(M.negative!==0){M.negative=0;var b=this.iadd(M);return M.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(M),this.negative=1,this._normSign();var s=this.cmp(M);if(s===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,g;s>0?(v=this,g=M):(v=M,g=this);for(var A=0,I=0;I<g.length;I++)b=(v.words[I]|0)-(g.words[I]|0)+A,A=b>>26,this.words[I]=b&67108863;for(;A!==0&&I<v.length;I++)b=(v.words[I]|0)+A,A=b>>26,this.words[I]=b&67108863;if(A===0&&I<v.length&&v!==this)for(;I<v.length;I++)this.words[I]=v.words[I];return this.length=Math.max(this.length,I),v!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(M){return this.clone().isub(M)};function m(Q,M,b){b.negative=M.negative^Q.negative;var s=Q.length+M.length|0;b.length=s,s=s-1|0;var v=Q.words[0]|0,g=M.words[0]|0,A=v*g,I=A&67108863,R=A/67108864|0;b.words[0]=I;for(var S=1;S<s;S++){for(var T=R>>>26,p=R&67108863,B=Math.min(S,M.length-1),ee=Math.max(0,S-Q.length+1);ee<=B;ee++){var oe=S-ee|0;v=Q.words[oe]|0,g=M.words[ee]|0,A=v*g+p,T+=A/67108864|0,p=A&67108863}b.words[S]=p|0,R=T|0}return R!==0?b.words[S]=R|0:b.length--,b.strip()}var w=function(M,b,s){var v=M.words,g=b.words,A=s.words,I=0,R,S,T,p=v[0]|0,B=p&8191,ee=p>>>13,oe=v[1]|0,Z=oe&8191,ne=oe>>>13,fe=v[2]|0,le=fe&8191,ke=fe>>>13,X=v[3]|0,G=X&8191,_e=X>>>13,Ae=v[4]|0,Oe=Ae&8191,qe=Ae>>>13,Ue=v[5]|0,ze=Ue&8191,ge=Ue>>>13,lt=v[6]|0,je=lt&8191,Et=lt>>>13,ot=v[7]|0,Ve=ot&8191,Mt=ot>>>13,dt=v[8]|0,Xe=dt&8191,st=dt>>>13,gt=v[9]|0,K=gt&8191,q=gt>>>13,F=g[0]|0,J=F&8191,he=F>>>13,de=g[1]|0,pe=de&8191,Je=de>>>13,tt=g[2]|0,Ne=tt&8191,St=tt>>>13,rt=g[3]|0,pt=rt&8191,er=rt>>>13,mt=g[4]|0,at=mt&8191,jt=mt>>>13,_t=g[5]|0,ft=_t&8191,Yt=_t>>>13,Tt=g[6]|0,Ze=Tt&8191,$t=Tt>>>13,$=g[7]|0,N=$&8191,D=$>>>13,_=g[8]|0,j=_&8191,Y=_>>>13,ae=g[9]|0,ce=ae&8191,me=ae>>>13;s.negative=M.negative^b.negative,s.length=19,R=Math.imul(B,J),S=Math.imul(B,he),S=S+Math.imul(ee,J)|0,T=Math.imul(ee,he);var Me=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(Me>>>26)|0,Me&=67108863,R=Math.imul(Z,J),S=Math.imul(Z,he),S=S+Math.imul(ne,J)|0,T=Math.imul(ne,he),R=R+Math.imul(B,pe)|0,S=S+Math.imul(B,Je)|0,S=S+Math.imul(ee,pe)|0,T=T+Math.imul(ee,Je)|0;var Se=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(Se>>>26)|0,Se&=67108863,R=Math.imul(le,J),S=Math.imul(le,he),S=S+Math.imul(ke,J)|0,T=Math.imul(ke,he),R=R+Math.imul(Z,pe)|0,S=S+Math.imul(Z,Je)|0,S=S+Math.imul(ne,pe)|0,T=T+Math.imul(ne,Je)|0,R=R+Math.imul(B,Ne)|0,S=S+Math.imul(B,St)|0,S=S+Math.imul(ee,Ne)|0,T=T+Math.imul(ee,St)|0;var Ge=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,R=Math.imul(G,J),S=Math.imul(G,he),S=S+Math.imul(_e,J)|0,T=Math.imul(_e,he),R=R+Math.imul(le,pe)|0,S=S+Math.imul(le,Je)|0,S=S+Math.imul(ke,pe)|0,T=T+Math.imul(ke,Je)|0,R=R+Math.imul(Z,Ne)|0,S=S+Math.imul(Z,St)|0,S=S+Math.imul(ne,Ne)|0,T=T+Math.imul(ne,St)|0,R=R+Math.imul(B,pt)|0,S=S+Math.imul(B,er)|0,S=S+Math.imul(ee,pt)|0,T=T+Math.imul(ee,er)|0;var Be=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(Be>>>26)|0,Be&=67108863,R=Math.imul(Oe,J),S=Math.imul(Oe,he),S=S+Math.imul(qe,J)|0,T=Math.imul(qe,he),R=R+Math.imul(G,pe)|0,S=S+Math.imul(G,Je)|0,S=S+Math.imul(_e,pe)|0,T=T+Math.imul(_e,Je)|0,R=R+Math.imul(le,Ne)|0,S=S+Math.imul(le,St)|0,S=S+Math.imul(ke,Ne)|0,T=T+Math.imul(ke,St)|0,R=R+Math.imul(Z,pt)|0,S=S+Math.imul(Z,er)|0,S=S+Math.imul(ne,pt)|0,T=T+Math.imul(ne,er)|0,R=R+Math.imul(B,at)|0,S=S+Math.imul(B,jt)|0,S=S+Math.imul(ee,at)|0,T=T+Math.imul(ee,jt)|0;var Ye=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,R=Math.imul(ze,J),S=Math.imul(ze,he),S=S+Math.imul(ge,J)|0,T=Math.imul(ge,he),R=R+Math.imul(Oe,pe)|0,S=S+Math.imul(Oe,Je)|0,S=S+Math.imul(qe,pe)|0,T=T+Math.imul(qe,Je)|0,R=R+Math.imul(G,Ne)|0,S=S+Math.imul(G,St)|0,S=S+Math.imul(_e,Ne)|0,T=T+Math.imul(_e,St)|0,R=R+Math.imul(le,pt)|0,S=S+Math.imul(le,er)|0,S=S+Math.imul(ke,pt)|0,T=T+Math.imul(ke,er)|0,R=R+Math.imul(Z,at)|0,S=S+Math.imul(Z,jt)|0,S=S+Math.imul(ne,at)|0,T=T+Math.imul(ne,jt)|0,R=R+Math.imul(B,ft)|0,S=S+Math.imul(B,Yt)|0,S=S+Math.imul(ee,ft)|0,T=T+Math.imul(ee,Yt)|0;var Pe=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,R=Math.imul(je,J),S=Math.imul(je,he),S=S+Math.imul(Et,J)|0,T=Math.imul(Et,he),R=R+Math.imul(ze,pe)|0,S=S+Math.imul(ze,Je)|0,S=S+Math.imul(ge,pe)|0,T=T+Math.imul(ge,Je)|0,R=R+Math.imul(Oe,Ne)|0,S=S+Math.imul(Oe,St)|0,S=S+Math.imul(qe,Ne)|0,T=T+Math.imul(qe,St)|0,R=R+Math.imul(G,pt)|0,S=S+Math.imul(G,er)|0,S=S+Math.imul(_e,pt)|0,T=T+Math.imul(_e,er)|0,R=R+Math.imul(le,at)|0,S=S+Math.imul(le,jt)|0,S=S+Math.imul(ke,at)|0,T=T+Math.imul(ke,jt)|0,R=R+Math.imul(Z,ft)|0,S=S+Math.imul(Z,Yt)|0,S=S+Math.imul(ne,ft)|0,T=T+Math.imul(ne,Yt)|0,R=R+Math.imul(B,Ze)|0,S=S+Math.imul(B,$t)|0,S=S+Math.imul(ee,Ze)|0,T=T+Math.imul(ee,$t)|0;var et=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(et>>>26)|0,et&=67108863,R=Math.imul(Ve,J),S=Math.imul(Ve,he),S=S+Math.imul(Mt,J)|0,T=Math.imul(Mt,he),R=R+Math.imul(je,pe)|0,S=S+Math.imul(je,Je)|0,S=S+Math.imul(Et,pe)|0,T=T+Math.imul(Et,Je)|0,R=R+Math.imul(ze,Ne)|0,S=S+Math.imul(ze,St)|0,S=S+Math.imul(ge,Ne)|0,T=T+Math.imul(ge,St)|0,R=R+Math.imul(Oe,pt)|0,S=S+Math.imul(Oe,er)|0,S=S+Math.imul(qe,pt)|0,T=T+Math.imul(qe,er)|0,R=R+Math.imul(G,at)|0,S=S+Math.imul(G,jt)|0,S=S+Math.imul(_e,at)|0,T=T+Math.imul(_e,jt)|0,R=R+Math.imul(le,ft)|0,S=S+Math.imul(le,Yt)|0,S=S+Math.imul(ke,ft)|0,T=T+Math.imul(ke,Yt)|0,R=R+Math.imul(Z,Ze)|0,S=S+Math.imul(Z,$t)|0,S=S+Math.imul(ne,Ze)|0,T=T+Math.imul(ne,$t)|0,R=R+Math.imul(B,N)|0,S=S+Math.imul(B,D)|0,S=S+Math.imul(ee,N)|0,T=T+Math.imul(ee,D)|0;var nt=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(nt>>>26)|0,nt&=67108863,R=Math.imul(Xe,J),S=Math.imul(Xe,he),S=S+Math.imul(st,J)|0,T=Math.imul(st,he),R=R+Math.imul(Ve,pe)|0,S=S+Math.imul(Ve,Je)|0,S=S+Math.imul(Mt,pe)|0,T=T+Math.imul(Mt,Je)|0,R=R+Math.imul(je,Ne)|0,S=S+Math.imul(je,St)|0,S=S+Math.imul(Et,Ne)|0,T=T+Math.imul(Et,St)|0,R=R+Math.imul(ze,pt)|0,S=S+Math.imul(ze,er)|0,S=S+Math.imul(ge,pt)|0,T=T+Math.imul(ge,er)|0,R=R+Math.imul(Oe,at)|0,S=S+Math.imul(Oe,jt)|0,S=S+Math.imul(qe,at)|0,T=T+Math.imul(qe,jt)|0,R=R+Math.imul(G,ft)|0,S=S+Math.imul(G,Yt)|0,S=S+Math.imul(_e,ft)|0,T=T+Math.imul(_e,Yt)|0,R=R+Math.imul(le,Ze)|0,S=S+Math.imul(le,$t)|0,S=S+Math.imul(ke,Ze)|0,T=T+Math.imul(ke,$t)|0,R=R+Math.imul(Z,N)|0,S=S+Math.imul(Z,D)|0,S=S+Math.imul(ne,N)|0,T=T+Math.imul(ne,D)|0,R=R+Math.imul(B,j)|0,S=S+Math.imul(B,Y)|0,S=S+Math.imul(ee,j)|0,T=T+Math.imul(ee,Y)|0;var Qe=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,R=Math.imul(K,J),S=Math.imul(K,he),S=S+Math.imul(q,J)|0,T=Math.imul(q,he),R=R+Math.imul(Xe,pe)|0,S=S+Math.imul(Xe,Je)|0,S=S+Math.imul(st,pe)|0,T=T+Math.imul(st,Je)|0,R=R+Math.imul(Ve,Ne)|0,S=S+Math.imul(Ve,St)|0,S=S+Math.imul(Mt,Ne)|0,T=T+Math.imul(Mt,St)|0,R=R+Math.imul(je,pt)|0,S=S+Math.imul(je,er)|0,S=S+Math.imul(Et,pt)|0,T=T+Math.imul(Et,er)|0,R=R+Math.imul(ze,at)|0,S=S+Math.imul(ze,jt)|0,S=S+Math.imul(ge,at)|0,T=T+Math.imul(ge,jt)|0,R=R+Math.imul(Oe,ft)|0,S=S+Math.imul(Oe,Yt)|0,S=S+Math.imul(qe,ft)|0,T=T+Math.imul(qe,Yt)|0,R=R+Math.imul(G,Ze)|0,S=S+Math.imul(G,$t)|0,S=S+Math.imul(_e,Ze)|0,T=T+Math.imul(_e,$t)|0,R=R+Math.imul(le,N)|0,S=S+Math.imul(le,D)|0,S=S+Math.imul(ke,N)|0,T=T+Math.imul(ke,D)|0,R=R+Math.imul(Z,j)|0,S=S+Math.imul(Z,Y)|0,S=S+Math.imul(ne,j)|0,T=T+Math.imul(ne,Y)|0,R=R+Math.imul(B,ce)|0,S=S+Math.imul(B,me)|0,S=S+Math.imul(ee,ce)|0,T=T+Math.imul(ee,me)|0;var vt=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(vt>>>26)|0,vt&=67108863,R=Math.imul(K,pe),S=Math.imul(K,Je),S=S+Math.imul(q,pe)|0,T=Math.imul(q,Je),R=R+Math.imul(Xe,Ne)|0,S=S+Math.imul(Xe,St)|0,S=S+Math.imul(st,Ne)|0,T=T+Math.imul(st,St)|0,R=R+Math.imul(Ve,pt)|0,S=S+Math.imul(Ve,er)|0,S=S+Math.imul(Mt,pt)|0,T=T+Math.imul(Mt,er)|0,R=R+Math.imul(je,at)|0,S=S+Math.imul(je,jt)|0,S=S+Math.imul(Et,at)|0,T=T+Math.imul(Et,jt)|0,R=R+Math.imul(ze,ft)|0,S=S+Math.imul(ze,Yt)|0,S=S+Math.imul(ge,ft)|0,T=T+Math.imul(ge,Yt)|0,R=R+Math.imul(Oe,Ze)|0,S=S+Math.imul(Oe,$t)|0,S=S+Math.imul(qe,Ze)|0,T=T+Math.imul(qe,$t)|0,R=R+Math.imul(G,N)|0,S=S+Math.imul(G,D)|0,S=S+Math.imul(_e,N)|0,T=T+Math.imul(_e,D)|0,R=R+Math.imul(le,j)|0,S=S+Math.imul(le,Y)|0,S=S+Math.imul(ke,j)|0,T=T+Math.imul(ke,Y)|0,R=R+Math.imul(Z,ce)|0,S=S+Math.imul(Z,me)|0,S=S+Math.imul(ne,ce)|0,T=T+Math.imul(ne,me)|0;var ut=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(ut>>>26)|0,ut&=67108863,R=Math.imul(K,Ne),S=Math.imul(K,St),S=S+Math.imul(q,Ne)|0,T=Math.imul(q,St),R=R+Math.imul(Xe,pt)|0,S=S+Math.imul(Xe,er)|0,S=S+Math.imul(st,pt)|0,T=T+Math.imul(st,er)|0,R=R+Math.imul(Ve,at)|0,S=S+Math.imul(Ve,jt)|0,S=S+Math.imul(Mt,at)|0,T=T+Math.imul(Mt,jt)|0,R=R+Math.imul(je,ft)|0,S=S+Math.imul(je,Yt)|0,S=S+Math.imul(Et,ft)|0,T=T+Math.imul(Et,Yt)|0,R=R+Math.imul(ze,Ze)|0,S=S+Math.imul(ze,$t)|0,S=S+Math.imul(ge,Ze)|0,T=T+Math.imul(ge,$t)|0,R=R+Math.imul(Oe,N)|0,S=S+Math.imul(Oe,D)|0,S=S+Math.imul(qe,N)|0,T=T+Math.imul(qe,D)|0,R=R+Math.imul(G,j)|0,S=S+Math.imul(G,Y)|0,S=S+Math.imul(_e,j)|0,T=T+Math.imul(_e,Y)|0,R=R+Math.imul(le,ce)|0,S=S+Math.imul(le,me)|0,S=S+Math.imul(ke,ce)|0,T=T+Math.imul(ke,me)|0;var Le=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(Le>>>26)|0,Le&=67108863,R=Math.imul(K,pt),S=Math.imul(K,er),S=S+Math.imul(q,pt)|0,T=Math.imul(q,er),R=R+Math.imul(Xe,at)|0,S=S+Math.imul(Xe,jt)|0,S=S+Math.imul(st,at)|0,T=T+Math.imul(st,jt)|0,R=R+Math.imul(Ve,ft)|0,S=S+Math.imul(Ve,Yt)|0,S=S+Math.imul(Mt,ft)|0,T=T+Math.imul(Mt,Yt)|0,R=R+Math.imul(je,Ze)|0,S=S+Math.imul(je,$t)|0,S=S+Math.imul(Et,Ze)|0,T=T+Math.imul(Et,$t)|0,R=R+Math.imul(ze,N)|0,S=S+Math.imul(ze,D)|0,S=S+Math.imul(ge,N)|0,T=T+Math.imul(ge,D)|0,R=R+Math.imul(Oe,j)|0,S=S+Math.imul(Oe,Y)|0,S=S+Math.imul(qe,j)|0,T=T+Math.imul(qe,Y)|0,R=R+Math.imul(G,ce)|0,S=S+Math.imul(G,me)|0,S=S+Math.imul(_e,ce)|0,T=T+Math.imul(_e,me)|0;var it=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(it>>>26)|0,it&=67108863,R=Math.imul(K,at),S=Math.imul(K,jt),S=S+Math.imul(q,at)|0,T=Math.imul(q,jt),R=R+Math.imul(Xe,ft)|0,S=S+Math.imul(Xe,Yt)|0,S=S+Math.imul(st,ft)|0,T=T+Math.imul(st,Yt)|0,R=R+Math.imul(Ve,Ze)|0,S=S+Math.imul(Ve,$t)|0,S=S+Math.imul(Mt,Ze)|0,T=T+Math.imul(Mt,$t)|0,R=R+Math.imul(je,N)|0,S=S+Math.imul(je,D)|0,S=S+Math.imul(Et,N)|0,T=T+Math.imul(Et,D)|0,R=R+Math.imul(ze,j)|0,S=S+Math.imul(ze,Y)|0,S=S+Math.imul(ge,j)|0,T=T+Math.imul(ge,Y)|0,R=R+Math.imul(Oe,ce)|0,S=S+Math.imul(Oe,me)|0,S=S+Math.imul(qe,ce)|0,T=T+Math.imul(qe,me)|0;var $e=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+($e>>>26)|0,$e&=67108863,R=Math.imul(K,ft),S=Math.imul(K,Yt),S=S+Math.imul(q,ft)|0,T=Math.imul(q,Yt),R=R+Math.imul(Xe,Ze)|0,S=S+Math.imul(Xe,$t)|0,S=S+Math.imul(st,Ze)|0,T=T+Math.imul(st,$t)|0,R=R+Math.imul(Ve,N)|0,S=S+Math.imul(Ve,D)|0,S=S+Math.imul(Mt,N)|0,T=T+Math.imul(Mt,D)|0,R=R+Math.imul(je,j)|0,S=S+Math.imul(je,Y)|0,S=S+Math.imul(Et,j)|0,T=T+Math.imul(Et,Y)|0,R=R+Math.imul(ze,ce)|0,S=S+Math.imul(ze,me)|0,S=S+Math.imul(ge,ce)|0,T=T+Math.imul(ge,me)|0;var He=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(He>>>26)|0,He&=67108863,R=Math.imul(K,Ze),S=Math.imul(K,$t),S=S+Math.imul(q,Ze)|0,T=Math.imul(q,$t),R=R+Math.imul(Xe,N)|0,S=S+Math.imul(Xe,D)|0,S=S+Math.imul(st,N)|0,T=T+Math.imul(st,D)|0,R=R+Math.imul(Ve,j)|0,S=S+Math.imul(Ve,Y)|0,S=S+Math.imul(Mt,j)|0,T=T+Math.imul(Mt,Y)|0,R=R+Math.imul(je,ce)|0,S=S+Math.imul(je,me)|0,S=S+Math.imul(Et,ce)|0,T=T+Math.imul(Et,me)|0;var We=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(We>>>26)|0,We&=67108863,R=Math.imul(K,N),S=Math.imul(K,D),S=S+Math.imul(q,N)|0,T=Math.imul(q,D),R=R+Math.imul(Xe,j)|0,S=S+Math.imul(Xe,Y)|0,S=S+Math.imul(st,j)|0,T=T+Math.imul(st,Y)|0,R=R+Math.imul(Ve,ce)|0,S=S+Math.imul(Ve,me)|0,S=S+Math.imul(Mt,ce)|0,T=T+Math.imul(Mt,me)|0;var Fe=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,R=Math.imul(K,j),S=Math.imul(K,Y),S=S+Math.imul(q,j)|0,T=Math.imul(q,Y),R=R+Math.imul(Xe,ce)|0,S=S+Math.imul(Xe,me)|0,S=S+Math.imul(st,ce)|0,T=T+Math.imul(st,me)|0;var ye=(I+R|0)+((S&8191)<<13)|0;I=(T+(S>>>13)|0)+(ye>>>26)|0,ye&=67108863,R=Math.imul(K,ce),S=Math.imul(K,me),S=S+Math.imul(q,ce)|0,T=Math.imul(q,me);var be=(I+R|0)+((S&8191)<<13)|0;return I=(T+(S>>>13)|0)+(be>>>26)|0,be&=67108863,A[0]=Me,A[1]=Se,A[2]=Ge,A[3]=Be,A[4]=Ye,A[5]=Pe,A[6]=et,A[7]=nt,A[8]=Qe,A[9]=vt,A[10]=ut,A[11]=Le,A[12]=it,A[13]=$e,A[14]=He,A[15]=We,A[16]=Fe,A[17]=ye,A[18]=be,I!==0&&(A[19]=I,s.length++),s};Math.imul||(w=m);function E(Q,M,b){b.negative=M.negative^Q.negative,b.length=Q.length+M.length;for(var s=0,v=0,g=0;g<b.length-1;g++){var A=v;v=0;for(var I=s&67108863,R=Math.min(g,M.length-1),S=Math.max(0,g-Q.length+1);S<=R;S++){var T=g-S,p=Q.words[T]|0,B=M.words[S]|0,ee=p*B,oe=ee&67108863;A=A+(ee/67108864|0)|0,oe=oe+I|0,I=oe&67108863,A=A+(oe>>>26)|0,v+=A>>>26,A&=67108863}b.words[g]=I,s=A,A=v}return s!==0?b.words[g]=s:b.length--,b.strip()}function x(Q,M,b){var s=new P;return s.mulp(Q,M,b)}i.prototype.mulTo=function(M,b){var s,v=this.length+M.length;return this.length===10&&M.length===10?s=w(this,M,b):v<63?s=m(this,M,b):v<1024?s=E(this,M,b):s=x(this,M,b),s};function P(Q,M){this.x=Q,this.y=M}P.prototype.makeRBT=function(M){for(var b=new Array(M),s=i.prototype._countBits(M)-1,v=0;v<M;v++)b[v]=this.revBin(v,s,M);return b},P.prototype.revBin=function(M,b,s){if(M===0||M===s-1)return M;for(var v=0,g=0;g<b;g++)v|=(M&1)<<b-g-1,M>>=1;return v},P.prototype.permute=function(M,b,s,v,g,A){for(var I=0;I<A;I++)v[I]=b[M[I]],g[I]=s[M[I]]},P.prototype.transform=function(M,b,s,v,g,A){this.permute(A,M,b,s,v,g);for(var I=1;I<g;I<<=1)for(var R=I<<1,S=Math.cos(2*Math.PI/R),T=Math.sin(2*Math.PI/R),p=0;p<g;p+=R)for(var B=S,ee=T,oe=0;oe<I;oe++){var Z=s[p+oe],ne=v[p+oe],fe=s[p+oe+I],le=v[p+oe+I],ke=B*fe-ee*le;le=B*le+ee*fe,fe=ke,s[p+oe]=Z+fe,v[p+oe]=ne+le,s[p+oe+I]=Z-fe,v[p+oe+I]=ne-le,oe!==R&&(ke=S*B-T*ee,ee=S*ee+T*B,B=ke)}},P.prototype.guessLen13b=function(M,b){var s=Math.max(b,M)|1,v=s&1,g=0;for(s=s/2|0;s;s=s>>>1)g++;return 1<<g+1+v},P.prototype.conjugate=function(M,b,s){if(!(s<=1))for(var v=0;v<s/2;v++){var g=M[v];M[v]=M[s-v-1],M[s-v-1]=g,g=b[v],b[v]=-b[s-v-1],b[s-v-1]=-g}},P.prototype.normalize13b=function(M,b){for(var s=0,v=0;v<b/2;v++){var g=Math.round(M[2*v+1]/b)*8192+Math.round(M[2*v]/b)+s;M[v]=g&67108863,g<67108864?s=0:s=g/67108864|0}return M},P.prototype.convert13b=function(M,b,s,v){for(var g=0,A=0;A<b;A++)g=g+(M[A]|0),s[2*A]=g&8191,g=g>>>13,s[2*A+1]=g&8191,g=g>>>13;for(A=2*b;A<v;++A)s[A]=0;n(g===0),n((g&-8192)===0)},P.prototype.stub=function(M){for(var b=new Array(M),s=0;s<M;s++)b[s]=0;return b},P.prototype.mulp=function(M,b,s){var v=2*this.guessLen13b(M.length,b.length),g=this.makeRBT(v),A=this.stub(v),I=new Array(v),R=new Array(v),S=new Array(v),T=new Array(v),p=new Array(v),B=new Array(v),ee=s.words;ee.length=v,this.convert13b(M.words,M.length,I,v),this.convert13b(b.words,b.length,T,v),this.transform(I,A,R,S,v,g),this.transform(T,A,p,B,v,g);for(var oe=0;oe<v;oe++){var Z=R[oe]*p[oe]-S[oe]*B[oe];S[oe]=R[oe]*B[oe]+S[oe]*p[oe],R[oe]=Z}return this.conjugate(R,S,v),this.transform(R,S,ee,A,v,g),this.conjugate(ee,A,v),this.normalize13b(ee,v),s.negative=M.negative^b.negative,s.length=M.length+b.length,s.strip()},i.prototype.mul=function(M){var b=new i(null);return b.words=new Array(this.length+M.length),this.mulTo(M,b)},i.prototype.mulf=function(M){var b=new i(null);return b.words=new Array(this.length+M.length),x(this,M,b)},i.prototype.imul=function(M){return this.clone().mulTo(M,this)},i.prototype.imuln=function(M){n(typeof M=="number"),n(M<67108864);for(var b=0,s=0;s<this.length;s++){var v=(this.words[s]|0)*M,g=(v&67108863)+(b&67108863);b>>=26,b+=v/67108864|0,b+=g>>>26,this.words[s]=g&67108863}return b!==0&&(this.words[s]=b,this.length++),this},i.prototype.muln=function(M){return this.clone().imuln(M)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(M){var b=y(M);if(b.length===0)return new i(1);for(var s=this,v=0;v<b.length&&b[v]===0;v++,s=s.sqr());if(++v<b.length)for(var g=s.sqr();v<b.length;v++,g=g.sqr())b[v]!==0&&(s=s.mul(g));return s},i.prototype.iushln=function(M){n(typeof M=="number"&&M>=0);var b=M%26,s=(M-b)/26,v=67108863>>>26-b<<26-b,g;if(b!==0){var A=0;for(g=0;g<this.length;g++){var I=this.words[g]&v,R=(this.words[g]|0)-I<<b;this.words[g]=R|A,A=I>>>26-b}A&&(this.words[g]=A,this.length++)}if(s!==0){for(g=this.length-1;g>=0;g--)this.words[g+s]=this.words[g];for(g=0;g<s;g++)this.words[g]=0;this.length+=s}return this.strip()},i.prototype.ishln=function(M){return n(this.negative===0),this.iushln(M)},i.prototype.iushrn=function(M,b,s){n(typeof M=="number"&&M>=0);var v;b?v=(b-b%26)/26:v=0;var g=M%26,A=Math.min((M-g)/26,this.length),I=67108863^67108863>>>g<<g,R=s;if(v-=A,v=Math.max(0,v),R){for(var S=0;S<A;S++)R.words[S]=this.words[S];R.length=A}if(A!==0)if(this.length>A)for(this.length-=A,S=0;S<this.length;S++)this.words[S]=this.words[S+A];else this.words[0]=0,this.length=1;var T=0;for(S=this.length-1;S>=0&&(T!==0||S>=v);S--){var p=this.words[S]|0;this.words[S]=T<<26-g|p>>>g,T=p&I}return R&&T!==0&&(R.words[R.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(M,b,s){return n(this.negative===0),this.iushrn(M,b,s)},i.prototype.shln=function(M){return this.clone().ishln(M)},i.prototype.ushln=function(M){return this.clone().iushln(M)},i.prototype.shrn=function(M){return this.clone().ishrn(M)},i.prototype.ushrn=function(M){return this.clone().iushrn(M)},i.prototype.testn=function(M){n(typeof M=="number"&&M>=0);var b=M%26,s=(M-b)/26,v=1<<b;if(this.length<=s)return!1;var g=this.words[s];return!!(g&v)},i.prototype.imaskn=function(M){n(typeof M=="number"&&M>=0);var b=M%26,s=(M-b)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=s)return this;if(b!==0&&s++,this.length=Math.min(s,this.length),b!==0){var v=67108863^67108863>>>b<<b;this.words[this.length-1]&=v}return this.strip()},i.prototype.maskn=function(M){return this.clone().imaskn(M)},i.prototype.iaddn=function(M){return n(typeof M=="number"),n(M<67108864),M<0?this.isubn(-M):this.negative!==0?this.length===1&&(this.words[0]|0)<M?(this.words[0]=M-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(M),this.negative=1,this):this._iaddn(M)},i.prototype._iaddn=function(M){this.words[0]+=M;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},i.prototype.isubn=function(M){if(n(typeof M=="number"),n(M<67108864),M<0)return this.iaddn(-M);if(this.negative!==0)return this.negative=0,this.iaddn(M),this.negative=1,this;if(this.words[0]-=M,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},i.prototype.addn=function(M){return this.clone().iaddn(M)},i.prototype.subn=function(M){return this.clone().isubn(M)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(M,b,s){var v=M.length+s,g;this._expand(v);var A,I=0;for(g=0;g<M.length;g++){A=(this.words[g+s]|0)+I;var R=(M.words[g]|0)*b;A-=R&67108863,I=(A>>26)-(R/67108864|0),this.words[g+s]=A&67108863}for(;g<this.length-s;g++)A=(this.words[g+s]|0)+I,I=A>>26,this.words[g+s]=A&67108863;if(I===0)return this.strip();for(n(I===-1),I=0,g=0;g<this.length;g++)A=-(this.words[g]|0)+I,I=A>>26,this.words[g]=A&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(M,b){var s=this.length-M.length,v=this.clone(),g=M,A=g.words[g.length-1]|0,I=this._countBits(A);s=26-I,s!==0&&(g=g.ushln(s),v.iushln(s),A=g.words[g.length-1]|0);var R=v.length-g.length,S;if(b!=="mod"){S=new i(null),S.length=R+1,S.words=new Array(S.length);for(var T=0;T<S.length;T++)S.words[T]=0}var p=v.clone()._ishlnsubmul(g,1,R);p.negative===0&&(v=p,S&&(S.words[R]=1));for(var B=R-1;B>=0;B--){var ee=(v.words[g.length+B]|0)*67108864+(v.words[g.length+B-1]|0);for(ee=Math.min(ee/A|0,67108863),v._ishlnsubmul(g,ee,B);v.negative!==0;)ee--,v.negative=0,v._ishlnsubmul(g,1,B),v.isZero()||(v.negative^=1);S&&(S.words[B]=ee)}return S&&S.strip(),v.strip(),b!=="div"&&s!==0&&v.iushrn(s),{div:S||null,mod:v}},i.prototype.divmod=function(M,b,s){if(n(!M.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var v,g,A;return this.negative!==0&&M.negative===0?(A=this.neg().divmod(M,b),b!=="mod"&&(v=A.div.neg()),b!=="div"&&(g=A.mod.neg(),s&&g.negative!==0&&g.iadd(M)),{div:v,mod:g}):this.negative===0&&M.negative!==0?(A=this.divmod(M.neg(),b),b!=="mod"&&(v=A.div.neg()),{div:v,mod:A.mod}):this.negative&M.negative?(A=this.neg().divmod(M.neg(),b),b!=="div"&&(g=A.mod.neg(),s&&g.negative!==0&&g.isub(M)),{div:A.div,mod:g}):M.length>this.length||this.cmp(M)<0?{div:new i(0),mod:this}:M.length===1?b==="div"?{div:this.divn(M.words[0]),mod:null}:b==="mod"?{div:null,mod:new i(this.modn(M.words[0]))}:{div:this.divn(M.words[0]),mod:new i(this.modn(M.words[0]))}:this._wordDiv(M,b)},i.prototype.div=function(M){return this.divmod(M,"div",!1).div},i.prototype.mod=function(M){return this.divmod(M,"mod",!1).mod},i.prototype.umod=function(M){return this.divmod(M,"mod",!0).mod},i.prototype.divRound=function(M){var b=this.divmod(M);if(b.mod.isZero())return b.div;var s=b.div.negative!==0?b.mod.isub(M):b.mod,v=M.ushrn(1),g=M.andln(1),A=s.cmp(v);return A<0||g===1&&A===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},i.prototype.modn=function(M){n(M<=67108863);for(var b=(1<<26)%M,s=0,v=this.length-1;v>=0;v--)s=(b*s+(this.words[v]|0))%M;return s},i.prototype.idivn=function(M){n(M<=67108863);for(var b=0,s=this.length-1;s>=0;s--){var v=(this.words[s]|0)+b*67108864;this.words[s]=v/M|0,b=v%M}return this.strip()},i.prototype.divn=function(M){return this.clone().idivn(M)},i.prototype.egcd=function(M){n(M.negative===0),n(!M.isZero());var b=this,s=M.clone();b.negative!==0?b=b.umod(M):b=b.clone();for(var v=new i(1),g=new i(0),A=new i(0),I=new i(1),R=0;b.isEven()&&s.isEven();)b.iushrn(1),s.iushrn(1),++R;for(var S=s.clone(),T=b.clone();!b.isZero();){for(var p=0,B=1;!(b.words[0]&B)&&p<26;++p,B<<=1);if(p>0)for(b.iushrn(p);p-- >0;)(v.isOdd()||g.isOdd())&&(v.iadd(S),g.isub(T)),v.iushrn(1),g.iushrn(1);for(var ee=0,oe=1;!(s.words[0]&oe)&&ee<26;++ee,oe<<=1);if(ee>0)for(s.iushrn(ee);ee-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(S),I.isub(T)),A.iushrn(1),I.iushrn(1);b.cmp(s)>=0?(b.isub(s),v.isub(A),g.isub(I)):(s.isub(b),A.isub(v),I.isub(g))}return{a:A,b:I,gcd:s.iushln(R)}},i.prototype._invmp=function(M){n(M.negative===0),n(!M.isZero());var b=this,s=M.clone();b.negative!==0?b=b.umod(M):b=b.clone();for(var v=new i(1),g=new i(0),A=s.clone();b.cmpn(1)>0&&s.cmpn(1)>0;){for(var I=0,R=1;!(b.words[0]&R)&&I<26;++I,R<<=1);if(I>0)for(b.iushrn(I);I-- >0;)v.isOdd()&&v.iadd(A),v.iushrn(1);for(var S=0,T=1;!(s.words[0]&T)&&S<26;++S,T<<=1);if(S>0)for(s.iushrn(S);S-- >0;)g.isOdd()&&g.iadd(A),g.iushrn(1);b.cmp(s)>=0?(b.isub(s),v.isub(g)):(s.isub(b),g.isub(v))}var p;return b.cmpn(1)===0?p=v:p=g,p.cmpn(0)<0&&p.iadd(M),p},i.prototype.gcd=function(M){if(this.isZero())return M.abs();if(M.isZero())return this.abs();var b=this.clone(),s=M.clone();b.negative=0,s.negative=0;for(var v=0;b.isEven()&&s.isEven();v++)b.iushrn(1),s.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;s.isEven();)s.iushrn(1);var g=b.cmp(s);if(g<0){var A=b;b=s,s=A}else if(g===0||s.cmpn(1)===0)break;b.isub(s)}while(!0);return s.iushln(v)},i.prototype.invm=function(M){return this.egcd(M).a.umod(M)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(M){return this.words[0]&M},i.prototype.bincn=function(M){n(typeof M=="number");var b=M%26,s=(M-b)/26,v=1<<b;if(this.length<=s)return this._expand(s+1),this.words[s]|=v,this;for(var g=v,A=s;g!==0&&A<this.length;A++){var I=this.words[A]|0;I+=g,g=I>>>26,I&=67108863,this.words[A]=I}return g!==0&&(this.words[A]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(M){var b=M<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var s;if(this.length>1)s=1;else{b&&(M=-M),n(M<=67108863,"Number is too big");var v=this.words[0]|0;s=v===M?0:v<M?-1:1}return this.negative!==0?-s|0:s},i.prototype.cmp=function(M){if(this.negative!==0&&M.negative===0)return-1;if(this.negative===0&&M.negative!==0)return 1;var b=this.ucmp(M);return this.negative!==0?-b|0:b},i.prototype.ucmp=function(M){if(this.length>M.length)return 1;if(this.length<M.length)return-1;for(var b=0,s=this.length-1;s>=0;s--){var v=this.words[s]|0,g=M.words[s]|0;if(v!==g){v<g?b=-1:v>g&&(b=1);break}}return b},i.prototype.gtn=function(M){return this.cmpn(M)===1},i.prototype.gt=function(M){return this.cmp(M)===1},i.prototype.gten=function(M){return this.cmpn(M)>=0},i.prototype.gte=function(M){return this.cmp(M)>=0},i.prototype.ltn=function(M){return this.cmpn(M)===-1},i.prototype.lt=function(M){return this.cmp(M)===-1},i.prototype.lten=function(M){return this.cmpn(M)<=0},i.prototype.lte=function(M){return this.cmp(M)<=0},i.prototype.eqn=function(M){return this.cmpn(M)===0},i.prototype.eq=function(M){return this.cmp(M)===0},i.red=function(M){return new se(M)},i.prototype.toRed=function(M){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),M.convertTo(this)._forceRed(M)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(M){return this.red=M,this},i.prototype.forceRed=function(M){return n(!this.red,"Already a number in reduction context"),this._forceRed(M)},i.prototype.redAdd=function(M){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,M)},i.prototype.redIAdd=function(M){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,M)},i.prototype.redSub=function(M){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,M)},i.prototype.redISub=function(M){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,M)},i.prototype.redShl=function(M){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,M)},i.prototype.redMul=function(M){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.mul(this,M)},i.prototype.redIMul=function(M){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.imul(this,M)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(M){return n(this.red&&!M.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,M)};var L={k256:null,p224:null,p192:null,p25519:null};function U(Q,M){this.name=Q,this.p=new i(M,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var M=new i(null);return M.words=new Array(Math.ceil(this.n/13)),M},U.prototype.ireduce=function(M){var b=M,s;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),s=b.bitLength();while(s>this.n);var v=s<this.n?-1:b.ucmp(this.p);return v===0?(b.words[0]=0,b.length=1):v>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},U.prototype.split=function(M,b){M.iushrn(this.n,0,b)},U.prototype.imulK=function(M){return M.imul(this.k)};function z(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(z,U),z.prototype.split=function(M,b){for(var s=4194303,v=Math.min(M.length,9),g=0;g<v;g++)b.words[g]=M.words[g];if(b.length=v,M.length<=9){M.words[0]=0,M.length=1;return}var A=M.words[9];for(b.words[b.length++]=A&s,g=10;g<M.length;g++){var I=M.words[g]|0;M.words[g-10]=(I&s)<<4|A>>>22,A=I}A>>>=22,M.words[g-10]=A,A===0&&M.length>10?M.length-=10:M.length-=9},z.prototype.imulK=function(M){M.words[M.length]=0,M.words[M.length+1]=0,M.length+=2;for(var b=0,s=0;s<M.length;s++){var v=M.words[s]|0;b+=v*977,M.words[s]=b&67108863,b=v*64+(b/67108864|0)}return M.words[M.length-1]===0&&(M.length--,M.words[M.length-1]===0&&M.length--),M};function W(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(W,U);function re(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(re,U);function ie(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(ie,U),ie.prototype.imulK=function(M){for(var b=0,s=0;s<M.length;s++){var v=(M.words[s]|0)*19+b,g=v&67108863;v>>>=26,M.words[s]=g,b=v}return b!==0&&(M.words[M.length++]=b),M},i._prime=function(M){if(L[M])return L[M];var b;if(M==="k256")b=new z;else if(M==="p224")b=new W;else if(M==="p192")b=new re;else if(M==="p25519")b=new ie;else throw new Error("Unknown prime "+M);return L[M]=b,b};function se(Q){if(typeof Q=="string"){var M=i._prime(Q);this.m=M.p,this.prime=M}else n(Q.gtn(1),"modulus must be greater than 1"),this.m=Q,this.prime=null}se.prototype._verify1=function(M){n(M.negative===0,"red works only with positives"),n(M.red,"red works only with red numbers")},se.prototype._verify2=function(M,b){n((M.negative|b.negative)===0,"red works only with positives"),n(M.red&&M.red===b.red,"red works only with red numbers")},se.prototype.imod=function(M){return this.prime?this.prime.ireduce(M)._forceRed(this):M.umod(this.m)._forceRed(this)},se.prototype.neg=function(M){return M.isZero()?M.clone():this.m.sub(M)._forceRed(this)},se.prototype.add=function(M,b){this._verify2(M,b);var s=M.add(b);return s.cmp(this.m)>=0&&s.isub(this.m),s._forceRed(this)},se.prototype.iadd=function(M,b){this._verify2(M,b);var s=M.iadd(b);return s.cmp(this.m)>=0&&s.isub(this.m),s},se.prototype.sub=function(M,b){this._verify2(M,b);var s=M.sub(b);return s.cmpn(0)<0&&s.iadd(this.m),s._forceRed(this)},se.prototype.isub=function(M,b){this._verify2(M,b);var s=M.isub(b);return s.cmpn(0)<0&&s.iadd(this.m),s},se.prototype.shl=function(M,b){return this._verify1(M),this.imod(M.ushln(b))},se.prototype.imul=function(M,b){return this._verify2(M,b),this.imod(M.imul(b))},se.prototype.mul=function(M,b){return this._verify2(M,b),this.imod(M.mul(b))},se.prototype.isqr=function(M){return this.imul(M,M.clone())},se.prototype.sqr=function(M){return this.mul(M,M)},se.prototype.sqrt=function(M){if(M.isZero())return M.clone();var b=this.m.andln(3);if(n(b%2===1),b===3){var s=this.m.add(new i(1)).iushrn(2);return this.pow(M,s)}for(var v=this.m.subn(1),g=0;!v.isZero()&&v.andln(1)===0;)g++,v.iushrn(1);n(!v.isZero());var A=new i(1).toRed(this),I=A.redNeg(),R=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new i(2*S*S).toRed(this);this.pow(S,R).cmp(I)!==0;)S.redIAdd(I);for(var T=this.pow(S,v),p=this.pow(M,v.addn(1).iushrn(1)),B=this.pow(M,v),ee=g;B.cmp(A)!==0;){for(var oe=B,Z=0;oe.cmp(A)!==0;Z++)oe=oe.redSqr();n(Z<ee);var ne=this.pow(T,new i(1).iushln(ee-Z-1));p=p.redMul(ne),T=ne.redSqr(),B=B.redMul(T),ee=Z}return p},se.prototype.invm=function(M){var b=M._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},se.prototype.pow=function(M,b){if(b.isZero())return new i(1).toRed(this);if(b.cmpn(1)===0)return M.clone();var s=4,v=new Array(1<<s);v[0]=new i(1).toRed(this),v[1]=M;for(var g=2;g<v.length;g++)v[g]=this.mul(v[g-1],M);var A=v[0],I=0,R=0,S=b.bitLength()%26;for(S===0&&(S=26),g=b.length-1;g>=0;g--){for(var T=b.words[g],p=S-1;p>=0;p--){var B=T>>p&1;if(A!==v[0]&&(A=this.sqr(A)),B===0&&I===0){R=0;continue}I<<=1,I|=B,R++,!(R!==s&&(g!==0||p!==0))&&(A=this.mul(A,v[I]),R=0,I=0)}S=26}return A},se.prototype.convertTo=function(M){var b=M.umod(this.m);return b===M?b.clone():b},se.prototype.convertFrom=function(M){var b=M.clone();return b.red=null,b},i.mont=function(M){return new ve(M)};function ve(Q){se.call(this,Q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(ve,se),ve.prototype.convertTo=function(M){return this.imod(M.ushln(this.shift))},ve.prototype.convertFrom=function(M){var b=this.imod(M.mul(this.rinv));return b.red=null,b},ve.prototype.imul=function(M,b){if(M.isZero()||b.isZero())return M.words[0]=0,M.length=1,M;var s=M.imul(b),v=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=s.isub(v).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ve.prototype.mul=function(M,b){if(M.isZero()||b.isZero())return new i(0)._forceRed(this);var s=M.mul(b),v=s.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=s.isub(v).iushrn(this.shift),A=g;return g.cmp(this.m)>=0?A=g.isub(this.m):g.cmpn(0)<0&&(A=g.iadd(this.m)),A._forceRed(this)},ve.prototype.invm=function(M){var b=this.imod(M._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(r,Kt)}(Ya)),Ya.exports}var Xa={exports:{}},$d;function Yf(){if($d)return Xa.exports;$d=1;var r;Xa.exports=function(a){return r||(r=new e(null)),r.generate(a)};function e(n){this.rand=n}if(Xa.exports.Rand=e,e.prototype.generate=function(a){return this._rand(a)},e.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var i=new Uint8Array(a),o=0;o<i.length;o++)i[o]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(a){var i=new Uint8Array(a);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(a){var i=new Uint8Array(a);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var t=gv();if(typeof t.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(a){return t.randomBytes(a)}}catch(n){}return Xa.exports}var Xf,Hd;function zd(){if(Hd)return Xf;Hd=1;var r=Er(),e=Yf();function t(n){this.rand=n||new e.Rand}return Xf=t,t.create=function(a){return new t(a)},t.prototype._randbelow=function(a){var i=a.bitLength(),o=Math.ceil(i/8);do var c=new r(this.rand.generate(o));while(c.cmp(a)>=0);return c},t.prototype._randrange=function(a,i){var o=i.sub(a);return a.add(this._randbelow(o))},t.prototype.test=function(a,i,o){var c=a.bitLength(),u=r.mont(a),h=new r(1).toRed(u);i||(i=Math.max(1,c/48|0));for(var f=a.subn(1),d=0;!f.testn(d);d++);for(var l=a.shrn(d),y=f.toRed(u),m=!0;i>0;i--){var w=this._randrange(new r(2),f);o&&o(w);var E=w.toRed(u).redPow(l);if(!(E.cmp(h)===0||E.cmp(y)===0)){for(var x=1;x<d;x++){if(E=E.redSqr(),E.cmp(h)===0)return!1;if(E.cmp(y)===0)break}if(x===d)return!1}}return m},t.prototype.getDivisor=function(a,i){var o=a.bitLength(),c=r.mont(a),u=new r(1).toRed(c);i||(i=Math.max(1,o/48|0));for(var h=a.subn(1),f=0;!h.testn(f);f++);for(var d=a.shrn(f),l=h.toRed(c);i>0;i--){var y=this._randrange(new r(2),h),m=a.gcd(y);if(m.cmpn(1)!==0)return m;var w=y.toRed(c).redPow(d);if(!(w.cmp(u)===0||w.cmp(l)===0)){for(var E=1;E<f;E++){if(w=w.redSqr(),w.cmp(u)===0)return w.fromRed().subn(1).gcd(a);if(w.cmp(l)===0)break}if(E===f)return w=w.redSqr(),w.fromRed().subn(1).gcd(a)}}return!1},Xf}var Zf,Vd;function Wd(){if(Vd)return Zf;Vd=1;var r=hi();Zf=E,E.simpleSieve=m,E.fermatTest=w;var e=Er(),t=new e(24),n=zd(),a=new n,i=new e(1),o=new e(2),c=new e(5);new e(16),new e(8);var u=new e(10),h=new e(3);new e(7);var f=new e(11),d=new e(4);new e(12);var l=null;function y(){if(l!==null)return l;var x=1048576,P=[];P[0]=2;for(var L=1,U=3;U<x;U+=2){for(var z=Math.ceil(Math.sqrt(U)),W=0;W<L&&P[W]<=z&&U%P[W]!==0;W++);L!==W&&P[W]<=z||(P[L++]=U)}return l=P,P}function m(x){for(var P=y(),L=0;L<P.length;L++)if(x.modn(P[L])===0)return x.cmpn(P[L])===0;return!0}function w(x){var P=e.mont(x);return o.toRed(P).redPow(x.subn(1)).fromRed().cmpn(1)===0}function E(x,P){if(x<16)return P===2||P===5?new e([140,123]):new e([140,39]);P=new e(P);for(var L,U;;){for(L=new e(r(Math.ceil(x/8)));L.bitLength()>x;)L.ishrn(1);if(L.isEven()&&L.iadd(i),L.testn(1)||L.iadd(o),P.cmp(o)){if(!P.cmp(c))for(;L.mod(u).cmp(h);)L.iadd(d)}else for(;L.mod(t).cmp(f);)L.iadd(d);if(U=L.shrn(1),m(U)&&m(L)&&w(U)&&w(L)&&a.test(U)&&a.test(L))return L}}return Zf}const dg={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}};var eu,Kd;function pg(){if(Kd)return eu;Kd=1;var r=Er(),e=zd(),t=new e,n=new r(24),a=new r(11),i=new r(10),o=new r(3),c=new r(7),u=Wd(),h=hi();eu=m;function f(E,x){return x=x||"utf8",Jt.isBuffer(E)||(E=new Jt(E,x)),this._pub=new r(E),this}function d(E,x){return x=x||"utf8",Jt.isBuffer(E)||(E=new Jt(E,x)),this._priv=new r(E),this}var l={};function y(E,x){var P=x.toString("hex"),L=[P,E.toString(16)].join("_");if(L in l)return l[L];var U=0;if(E.isEven()||!u.simpleSieve||!u.fermatTest(E)||!t.test(E))return U+=1,P==="02"||P==="05"?U+=8:U+=4,l[L]=U,U;t.test(E.shrn(1))||(U+=2);var z;switch(P){case"02":E.mod(n).cmp(a)&&(U+=8);break;case"05":z=E.mod(i),z.cmp(o)&&z.cmp(c)&&(U+=8);break;default:U+=4}return l[L]=U,U}function m(E,x,P){this.setGenerator(x),this.__prime=new r(E),this._prime=r.mont(this.__prime),this._primeLen=E.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,P?(this.setPublicKey=f,this.setPrivateKey=d):this._primeCode=8}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=y(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new r(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(E){E=new r(E),E=E.toRed(this._prime);var x=E.redPow(this._priv).fromRed(),P=new Jt(x.toArray()),L=this.getPrime();if(P.length<L.length){var U=new Jt(L.length-P.length);U.fill(0),P=Jt.concat([U,P])}return P},m.prototype.getPublicKey=function(x){return w(this._pub,x)},m.prototype.getPrivateKey=function(x){return w(this._priv,x)},m.prototype.getPrime=function(E){return w(this.__prime,E)},m.prototype.getGenerator=function(E){return w(this._gen,E)},m.prototype.setGenerator=function(E,x){return x=x||"utf8",Jt.isBuffer(E)||(E=new Jt(E,x)),this.__gen=E,this._gen=new r(E),this};function w(E,x){var P=new Jt(E.toArray());return x?P.toString(x):P}return eu}var Qd;function vg(){if(Qd)return Qn;Qd=1;var r=Wd(),e=dg,t=pg();function n(o){var c=new Jt(e[o].prime,"hex"),u=new Jt(e[o].gen,"hex");return new t(c,u)}var a={binary:!0,hex:!0,base64:!0};function i(o,c,u,h){return Jt.isBuffer(c)||a[c]===void 0?i(o,"binary",c,u):(c=c||"binary",h=h||"binary",u=u||new Jt([2]),Jt.isBuffer(u)||(u=new Jt(u,h)),typeof o=="number"?new t(r(o,u),u,!0):(Jt.isBuffer(o)||(o=new Jt(o,c)),new t(o,u,!0)))}return Qn.DiffieHellmanGroup=Qn.createDiffieHellmanGroup=Qn.getDiffieHellman=n,Qn.createDiffieHellman=Qn.DiffieHellman=i,Qn}var zi={exports:{}},Za={exports:{}};Za.exports;var Gd;function yg(){return Gd||(Gd=1,function(r){(function(e,t){function n(b,s){if(!b)throw new Error(s||"Assertion failed")}function a(b,s){b.super_=s;var v=function(){};v.prototype=s.prototype,b.prototype=new v,b.prototype.constructor=b}function i(b,s,v){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((s==="le"||s==="be")&&(v=s,s=10),this._init(b||0,s||10,v||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=wn.Buffer}catch(b){}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,v){return s.cmp(v)>0?s:v},i.min=function(s,v){return s.cmp(v)<0?s:v},i.prototype._init=function(s,v,g){if(typeof s=="number")return this._initNumber(s,v,g);if(typeof s=="object")return this._initArray(s,v,g);v==="hex"&&(v=16),n(v===(v|0)&&v>=2&&v<=36),s=s.toString().replace(/\s+/g,"");var A=0;s[0]==="-"&&(A++,this.negative=1),A<s.length&&(v===16?this._parseHex(s,A,g):(this._parseBase(s,v,A),g==="le"&&this._initArray(this.toArray(),v,g)))},i.prototype._initNumber=function(s,v,g){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),v,g)},i.prototype._initArray=function(s,v,g){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var I,R,S=0;if(g==="be")for(A=s.length-1,I=0;A>=0;A-=3)R=s[A]|s[A-1]<<8|s[A-2]<<16,this.words[I]|=R<<S&67108863,this.words[I+1]=R>>>26-S&67108863,S+=24,S>=26&&(S-=26,I++);else if(g==="le")for(A=0,I=0;A<s.length;A+=3)R=s[A]|s[A+1]<<8|s[A+2]<<16,this.words[I]|=R<<S&67108863,this.words[I+1]=R>>>26-S&67108863,S+=24,S>=26&&(S-=26,I++);return this._strip()};function c(b,s){var v=b.charCodeAt(s);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;n(!1,"Invalid character in "+b)}function u(b,s,v){var g=c(b,v);return v-1>=s&&(g|=c(b,v-1)<<4),g}i.prototype._parseHex=function(s,v,g){this.length=Math.ceil((s.length-v)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var I=0,R=0,S;if(g==="be")for(A=s.length-1;A>=v;A-=2)S=u(s,v,A)<<I,this.words[R]|=S&67108863,I>=18?(I-=18,R+=1,this.words[R]|=S>>>26):I+=8;else{var T=s.length-v;for(A=T%2===0?v+1:v;A<s.length;A+=2)S=u(s,v,A)<<I,this.words[R]|=S&67108863,I>=18?(I-=18,R+=1,this.words[R]|=S>>>26):I+=8}this._strip()};function h(b,s,v,g){for(var A=0,I=0,R=Math.min(b.length,v),S=s;S<R;S++){var T=b.charCodeAt(S)-48;A*=g,T>=49?I=T-49+10:T>=17?I=T-17+10:I=T,n(T>=0&&I<g,"Invalid character"),A+=I}return A}i.prototype._parseBase=function(s,v,g){this.words=[0],this.length=1;for(var A=0,I=1;I<=67108863;I*=v)A++;A--,I=I/v|0;for(var R=s.length-g,S=R%A,T=Math.min(R,R-S)+g,p=0,B=g;B<T;B+=A)p=h(s,B,B+A,v),this.imuln(I),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(S!==0){var ee=1;for(p=h(s,B,s.length,v),B=0;B<S;B++)ee*=v;this.imuln(ee),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var v=0;v<this.length;v++)s.words[v]=this.words[v];s.length=this.length,s.negative=this.negative,s.red=this.red};function f(b,s){b.words=s.words,b.length=s.length,b.negative=s.negative,b.red=s.red}if(i.prototype._move=function(s){f(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(b){i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,v){s=s||10,v=v|0||1;var g;if(s===16||s==="hex"){g="";for(var A=0,I=0,R=0;R<this.length;R++){var S=this.words[R],T=((S<<A|I)&16777215).toString(16);I=S>>>24-A&16777215,A+=2,A>=26&&(A-=26,R--),I!==0||R!==this.length-1?g=l[6-T.length]+T+g:g=T+g}for(I!==0&&(g=I.toString(16)+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(s===(s|0)&&s>=2&&s<=36){var p=y[s],B=m[s];g="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var oe=ee.modrn(B).toString(s);ee=ee.idivn(B),ee.isZero()?g=oe+g:g=l[p-oe.length]+oe+g}for(this.isZero()&&(g="0"+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(s,v){return this.toArrayLike(o,s,v)}),i.prototype.toArray=function(s,v){return this.toArrayLike(Array,s,v)};var w=function(s,v){return s.allocUnsafe?s.allocUnsafe(v):new s(v)};i.prototype.toArrayLike=function(s,v,g){this._strip();var A=this.byteLength(),I=g||Math.max(1,A);n(A<=I,"byte array longer than desired length"),n(I>0,"Requested array length <= 0");var R=w(s,I),S=v==="le"?"LE":"BE";return this["_toArrayLike"+S](R,A),R},i.prototype._toArrayLikeLE=function(s,v){for(var g=0,A=0,I=0,R=0;I<this.length;I++){var S=this.words[I]<<R|A;s[g++]=S&255,g<s.length&&(s[g++]=S>>8&255),g<s.length&&(s[g++]=S>>16&255),R===6?(g<s.length&&(s[g++]=S>>24&255),A=0,R=0):(A=S>>>24,R+=2)}if(g<s.length)for(s[g++]=A;g<s.length;)s[g++]=0},i.prototype._toArrayLikeBE=function(s,v){for(var g=s.length-1,A=0,I=0,R=0;I<this.length;I++){var S=this.words[I]<<R|A;s[g--]=S&255,g>=0&&(s[g--]=S>>8&255),g>=0&&(s[g--]=S>>16&255),R===6?(g>=0&&(s[g--]=S>>24&255),A=0,R=0):(A=S>>>24,R+=2)}if(g>=0)for(s[g--]=A;g>=0;)s[g--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var v=s,g=0;return v>=4096&&(g+=13,v>>>=13),v>=64&&(g+=7,v>>>=7),v>=8&&(g+=4,v>>>=4),v>=2&&(g+=2,v>>>=2),g+v},i.prototype._zeroBits=function(s){if(s===0)return 26;var v=s,g=0;return v&8191||(g+=13,v>>>=13),v&127||(g+=7,v>>>=7),v&15||(g+=4,v>>>=4),v&3||(g+=2,v>>>=2),v&1||g++,g},i.prototype.bitLength=function(){var s=this.words[this.length-1],v=this._countBits(s);return(this.length-1)*26+v};function E(b){for(var s=new Array(b.bitLength()),v=0;v<s.length;v++){var g=v/26|0,A=v%26;s[v]=b.words[g]>>>A&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,v=0;v<this.length;v++){var g=this._zeroBits(this.words[v]);if(s+=g,g!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var v=0;v<s.length;v++)this.words[v]=this.words[v]|s.words[v];return this._strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var v;this.length>s.length?v=s:v=this;for(var g=0;g<v.length;g++)this.words[g]=this.words[g]&s.words[g];return this.length=v.length,this._strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var v,g;this.length>s.length?(v=this,g=s):(v=s,g=this);for(var A=0;A<g.length;A++)this.words[A]=v.words[A]^g.words[A];if(this!==v)for(;A<v.length;A++)this.words[A]=v.words[A];return this.length=v.length,this._strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var v=Math.ceil(s/26)|0,g=s%26;this._expand(v),g>0&&v--;for(var A=0;A<v;A++)this.words[A]=~this.words[A]&67108863;return g>0&&(this.words[A]=~this.words[A]&67108863>>26-g),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,v){n(typeof s=="number"&&s>=0);var g=s/26|0,A=s%26;return this._expand(g+1),v?this.words[g]=this.words[g]|1<<A:this.words[g]=this.words[g]&~(1<<A),this._strip()},i.prototype.iadd=function(s){var v;if(this.negative!==0&&s.negative===0)return this.negative=0,v=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,v=this.isub(s),s.negative=1,v._normSign();var g,A;this.length>s.length?(g=this,A=s):(g=s,A=this);for(var I=0,R=0;R<A.length;R++)v=(g.words[R]|0)+(A.words[R]|0)+I,this.words[R]=v&67108863,I=v>>>26;for(;I!==0&&R<g.length;R++)v=(g.words[R]|0)+I,this.words[R]=v&67108863,I=v>>>26;if(this.length=g.length,I!==0)this.words[this.length]=I,this.length++;else if(g!==this)for(;R<g.length;R++)this.words[R]=g.words[R];return this},i.prototype.add=function(s){var v;return s.negative!==0&&this.negative===0?(s.negative=0,v=this.sub(s),s.negative^=1,v):s.negative===0&&this.negative!==0?(this.negative=0,v=s.sub(this),this.negative=1,v):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var v=this.iadd(s);return s.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var g=this.cmp(s);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,I;g>0?(A=this,I=s):(A=s,I=this);for(var R=0,S=0;S<I.length;S++)v=(A.words[S]|0)-(I.words[S]|0)+R,R=v>>26,this.words[S]=v&67108863;for(;R!==0&&S<A.length;S++)v=(A.words[S]|0)+R,R=v>>26,this.words[S]=v&67108863;if(R===0&&S<A.length&&A!==this)for(;S<A.length;S++)this.words[S]=A.words[S];return this.length=Math.max(this.length,S),A!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function x(b,s,v){v.negative=s.negative^b.negative;var g=b.length+s.length|0;v.length=g,g=g-1|0;var A=b.words[0]|0,I=s.words[0]|0,R=A*I,S=R&67108863,T=R/67108864|0;v.words[0]=S;for(var p=1;p<g;p++){for(var B=T>>>26,ee=T&67108863,oe=Math.min(p,s.length-1),Z=Math.max(0,p-b.length+1);Z<=oe;Z++){var ne=p-Z|0;A=b.words[ne]|0,I=s.words[Z]|0,R=A*I+ee,B+=R/67108864|0,ee=R&67108863}v.words[p]=ee|0,T=B|0}return T!==0?v.words[p]=T|0:v.length--,v._strip()}var P=function(s,v,g){var A=s.words,I=v.words,R=g.words,S=0,T,p,B,ee=A[0]|0,oe=ee&8191,Z=ee>>>13,ne=A[1]|0,fe=ne&8191,le=ne>>>13,ke=A[2]|0,X=ke&8191,G=ke>>>13,_e=A[3]|0,Ae=_e&8191,Oe=_e>>>13,qe=A[4]|0,Ue=qe&8191,ze=qe>>>13,ge=A[5]|0,lt=ge&8191,je=ge>>>13,Et=A[6]|0,ot=Et&8191,Ve=Et>>>13,Mt=A[7]|0,dt=Mt&8191,Xe=Mt>>>13,st=A[8]|0,gt=st&8191,K=st>>>13,q=A[9]|0,F=q&8191,J=q>>>13,he=I[0]|0,de=he&8191,pe=he>>>13,Je=I[1]|0,tt=Je&8191,Ne=Je>>>13,St=I[2]|0,rt=St&8191,pt=St>>>13,er=I[3]|0,mt=er&8191,at=er>>>13,jt=I[4]|0,_t=jt&8191,ft=jt>>>13,Yt=I[5]|0,Tt=Yt&8191,Ze=Yt>>>13,$t=I[6]|0,$=$t&8191,N=$t>>>13,D=I[7]|0,_=D&8191,j=D>>>13,Y=I[8]|0,ae=Y&8191,ce=Y>>>13,me=I[9]|0,Me=me&8191,Se=me>>>13;g.negative=s.negative^v.negative,g.length=19,T=Math.imul(oe,de),p=Math.imul(oe,pe),p=p+Math.imul(Z,de)|0,B=Math.imul(Z,pe);var Ge=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,T=Math.imul(fe,de),p=Math.imul(fe,pe),p=p+Math.imul(le,de)|0,B=Math.imul(le,pe),T=T+Math.imul(oe,tt)|0,p=p+Math.imul(oe,Ne)|0,p=p+Math.imul(Z,tt)|0,B=B+Math.imul(Z,Ne)|0;var Be=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Be>>>26)|0,Be&=67108863,T=Math.imul(X,de),p=Math.imul(X,pe),p=p+Math.imul(G,de)|0,B=Math.imul(G,pe),T=T+Math.imul(fe,tt)|0,p=p+Math.imul(fe,Ne)|0,p=p+Math.imul(le,tt)|0,B=B+Math.imul(le,Ne)|0,T=T+Math.imul(oe,rt)|0,p=p+Math.imul(oe,pt)|0,p=p+Math.imul(Z,rt)|0,B=B+Math.imul(Z,pt)|0;var Ye=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,T=Math.imul(Ae,de),p=Math.imul(Ae,pe),p=p+Math.imul(Oe,de)|0,B=Math.imul(Oe,pe),T=T+Math.imul(X,tt)|0,p=p+Math.imul(X,Ne)|0,p=p+Math.imul(G,tt)|0,B=B+Math.imul(G,Ne)|0,T=T+Math.imul(fe,rt)|0,p=p+Math.imul(fe,pt)|0,p=p+Math.imul(le,rt)|0,B=B+Math.imul(le,pt)|0,T=T+Math.imul(oe,mt)|0,p=p+Math.imul(oe,at)|0,p=p+Math.imul(Z,mt)|0,B=B+Math.imul(Z,at)|0;var Pe=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,T=Math.imul(Ue,de),p=Math.imul(Ue,pe),p=p+Math.imul(ze,de)|0,B=Math.imul(ze,pe),T=T+Math.imul(Ae,tt)|0,p=p+Math.imul(Ae,Ne)|0,p=p+Math.imul(Oe,tt)|0,B=B+Math.imul(Oe,Ne)|0,T=T+Math.imul(X,rt)|0,p=p+Math.imul(X,pt)|0,p=p+Math.imul(G,rt)|0,B=B+Math.imul(G,pt)|0,T=T+Math.imul(fe,mt)|0,p=p+Math.imul(fe,at)|0,p=p+Math.imul(le,mt)|0,B=B+Math.imul(le,at)|0,T=T+Math.imul(oe,_t)|0,p=p+Math.imul(oe,ft)|0,p=p+Math.imul(Z,_t)|0,B=B+Math.imul(Z,ft)|0;var et=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(et>>>26)|0,et&=67108863,T=Math.imul(lt,de),p=Math.imul(lt,pe),p=p+Math.imul(je,de)|0,B=Math.imul(je,pe),T=T+Math.imul(Ue,tt)|0,p=p+Math.imul(Ue,Ne)|0,p=p+Math.imul(ze,tt)|0,B=B+Math.imul(ze,Ne)|0,T=T+Math.imul(Ae,rt)|0,p=p+Math.imul(Ae,pt)|0,p=p+Math.imul(Oe,rt)|0,B=B+Math.imul(Oe,pt)|0,T=T+Math.imul(X,mt)|0,p=p+Math.imul(X,at)|0,p=p+Math.imul(G,mt)|0,B=B+Math.imul(G,at)|0,T=T+Math.imul(fe,_t)|0,p=p+Math.imul(fe,ft)|0,p=p+Math.imul(le,_t)|0,B=B+Math.imul(le,ft)|0,T=T+Math.imul(oe,Tt)|0,p=p+Math.imul(oe,Ze)|0,p=p+Math.imul(Z,Tt)|0,B=B+Math.imul(Z,Ze)|0;var nt=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(nt>>>26)|0,nt&=67108863,T=Math.imul(ot,de),p=Math.imul(ot,pe),p=p+Math.imul(Ve,de)|0,B=Math.imul(Ve,pe),T=T+Math.imul(lt,tt)|0,p=p+Math.imul(lt,Ne)|0,p=p+Math.imul(je,tt)|0,B=B+Math.imul(je,Ne)|0,T=T+Math.imul(Ue,rt)|0,p=p+Math.imul(Ue,pt)|0,p=p+Math.imul(ze,rt)|0,B=B+Math.imul(ze,pt)|0,T=T+Math.imul(Ae,mt)|0,p=p+Math.imul(Ae,at)|0,p=p+Math.imul(Oe,mt)|0,B=B+Math.imul(Oe,at)|0,T=T+Math.imul(X,_t)|0,p=p+Math.imul(X,ft)|0,p=p+Math.imul(G,_t)|0,B=B+Math.imul(G,ft)|0,T=T+Math.imul(fe,Tt)|0,p=p+Math.imul(fe,Ze)|0,p=p+Math.imul(le,Tt)|0,B=B+Math.imul(le,Ze)|0,T=T+Math.imul(oe,$)|0,p=p+Math.imul(oe,N)|0,p=p+Math.imul(Z,$)|0,B=B+Math.imul(Z,N)|0;var Qe=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,T=Math.imul(dt,de),p=Math.imul(dt,pe),p=p+Math.imul(Xe,de)|0,B=Math.imul(Xe,pe),T=T+Math.imul(ot,tt)|0,p=p+Math.imul(ot,Ne)|0,p=p+Math.imul(Ve,tt)|0,B=B+Math.imul(Ve,Ne)|0,T=T+Math.imul(lt,rt)|0,p=p+Math.imul(lt,pt)|0,p=p+Math.imul(je,rt)|0,B=B+Math.imul(je,pt)|0,T=T+Math.imul(Ue,mt)|0,p=p+Math.imul(Ue,at)|0,p=p+Math.imul(ze,mt)|0,B=B+Math.imul(ze,at)|0,T=T+Math.imul(Ae,_t)|0,p=p+Math.imul(Ae,ft)|0,p=p+Math.imul(Oe,_t)|0,B=B+Math.imul(Oe,ft)|0,T=T+Math.imul(X,Tt)|0,p=p+Math.imul(X,Ze)|0,p=p+Math.imul(G,Tt)|0,B=B+Math.imul(G,Ze)|0,T=T+Math.imul(fe,$)|0,p=p+Math.imul(fe,N)|0,p=p+Math.imul(le,$)|0,B=B+Math.imul(le,N)|0,T=T+Math.imul(oe,_)|0,p=p+Math.imul(oe,j)|0,p=p+Math.imul(Z,_)|0,B=B+Math.imul(Z,j)|0;var vt=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(vt>>>26)|0,vt&=67108863,T=Math.imul(gt,de),p=Math.imul(gt,pe),p=p+Math.imul(K,de)|0,B=Math.imul(K,pe),T=T+Math.imul(dt,tt)|0,p=p+Math.imul(dt,Ne)|0,p=p+Math.imul(Xe,tt)|0,B=B+Math.imul(Xe,Ne)|0,T=T+Math.imul(ot,rt)|0,p=p+Math.imul(ot,pt)|0,p=p+Math.imul(Ve,rt)|0,B=B+Math.imul(Ve,pt)|0,T=T+Math.imul(lt,mt)|0,p=p+Math.imul(lt,at)|0,p=p+Math.imul(je,mt)|0,B=B+Math.imul(je,at)|0,T=T+Math.imul(Ue,_t)|0,p=p+Math.imul(Ue,ft)|0,p=p+Math.imul(ze,_t)|0,B=B+Math.imul(ze,ft)|0,T=T+Math.imul(Ae,Tt)|0,p=p+Math.imul(Ae,Ze)|0,p=p+Math.imul(Oe,Tt)|0,B=B+Math.imul(Oe,Ze)|0,T=T+Math.imul(X,$)|0,p=p+Math.imul(X,N)|0,p=p+Math.imul(G,$)|0,B=B+Math.imul(G,N)|0,T=T+Math.imul(fe,_)|0,p=p+Math.imul(fe,j)|0,p=p+Math.imul(le,_)|0,B=B+Math.imul(le,j)|0,T=T+Math.imul(oe,ae)|0,p=p+Math.imul(oe,ce)|0,p=p+Math.imul(Z,ae)|0,B=B+Math.imul(Z,ce)|0;var ut=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(ut>>>26)|0,ut&=67108863,T=Math.imul(F,de),p=Math.imul(F,pe),p=p+Math.imul(J,de)|0,B=Math.imul(J,pe),T=T+Math.imul(gt,tt)|0,p=p+Math.imul(gt,Ne)|0,p=p+Math.imul(K,tt)|0,B=B+Math.imul(K,Ne)|0,T=T+Math.imul(dt,rt)|0,p=p+Math.imul(dt,pt)|0,p=p+Math.imul(Xe,rt)|0,B=B+Math.imul(Xe,pt)|0,T=T+Math.imul(ot,mt)|0,p=p+Math.imul(ot,at)|0,p=p+Math.imul(Ve,mt)|0,B=B+Math.imul(Ve,at)|0,T=T+Math.imul(lt,_t)|0,p=p+Math.imul(lt,ft)|0,p=p+Math.imul(je,_t)|0,B=B+Math.imul(je,ft)|0,T=T+Math.imul(Ue,Tt)|0,p=p+Math.imul(Ue,Ze)|0,p=p+Math.imul(ze,Tt)|0,B=B+Math.imul(ze,Ze)|0,T=T+Math.imul(Ae,$)|0,p=p+Math.imul(Ae,N)|0,p=p+Math.imul(Oe,$)|0,B=B+Math.imul(Oe,N)|0,T=T+Math.imul(X,_)|0,p=p+Math.imul(X,j)|0,p=p+Math.imul(G,_)|0,B=B+Math.imul(G,j)|0,T=T+Math.imul(fe,ae)|0,p=p+Math.imul(fe,ce)|0,p=p+Math.imul(le,ae)|0,B=B+Math.imul(le,ce)|0,T=T+Math.imul(oe,Me)|0,p=p+Math.imul(oe,Se)|0,p=p+Math.imul(Z,Me)|0,B=B+Math.imul(Z,Se)|0;var Le=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Le>>>26)|0,Le&=67108863,T=Math.imul(F,tt),p=Math.imul(F,Ne),p=p+Math.imul(J,tt)|0,B=Math.imul(J,Ne),T=T+Math.imul(gt,rt)|0,p=p+Math.imul(gt,pt)|0,p=p+Math.imul(K,rt)|0,B=B+Math.imul(K,pt)|0,T=T+Math.imul(dt,mt)|0,p=p+Math.imul(dt,at)|0,p=p+Math.imul(Xe,mt)|0,B=B+Math.imul(Xe,at)|0,T=T+Math.imul(ot,_t)|0,p=p+Math.imul(ot,ft)|0,p=p+Math.imul(Ve,_t)|0,B=B+Math.imul(Ve,ft)|0,T=T+Math.imul(lt,Tt)|0,p=p+Math.imul(lt,Ze)|0,p=p+Math.imul(je,Tt)|0,B=B+Math.imul(je,Ze)|0,T=T+Math.imul(Ue,$)|0,p=p+Math.imul(Ue,N)|0,p=p+Math.imul(ze,$)|0,B=B+Math.imul(ze,N)|0,T=T+Math.imul(Ae,_)|0,p=p+Math.imul(Ae,j)|0,p=p+Math.imul(Oe,_)|0,B=B+Math.imul(Oe,j)|0,T=T+Math.imul(X,ae)|0,p=p+Math.imul(X,ce)|0,p=p+Math.imul(G,ae)|0,B=B+Math.imul(G,ce)|0,T=T+Math.imul(fe,Me)|0,p=p+Math.imul(fe,Se)|0,p=p+Math.imul(le,Me)|0,B=B+Math.imul(le,Se)|0;var it=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(it>>>26)|0,it&=67108863,T=Math.imul(F,rt),p=Math.imul(F,pt),p=p+Math.imul(J,rt)|0,B=Math.imul(J,pt),T=T+Math.imul(gt,mt)|0,p=p+Math.imul(gt,at)|0,p=p+Math.imul(K,mt)|0,B=B+Math.imul(K,at)|0,T=T+Math.imul(dt,_t)|0,p=p+Math.imul(dt,ft)|0,p=p+Math.imul(Xe,_t)|0,B=B+Math.imul(Xe,ft)|0,T=T+Math.imul(ot,Tt)|0,p=p+Math.imul(ot,Ze)|0,p=p+Math.imul(Ve,Tt)|0,B=B+Math.imul(Ve,Ze)|0,T=T+Math.imul(lt,$)|0,p=p+Math.imul(lt,N)|0,p=p+Math.imul(je,$)|0,B=B+Math.imul(je,N)|0,T=T+Math.imul(Ue,_)|0,p=p+Math.imul(Ue,j)|0,p=p+Math.imul(ze,_)|0,B=B+Math.imul(ze,j)|0,T=T+Math.imul(Ae,ae)|0,p=p+Math.imul(Ae,ce)|0,p=p+Math.imul(Oe,ae)|0,B=B+Math.imul(Oe,ce)|0,T=T+Math.imul(X,Me)|0,p=p+Math.imul(X,Se)|0,p=p+Math.imul(G,Me)|0,B=B+Math.imul(G,Se)|0;var $e=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+($e>>>26)|0,$e&=67108863,T=Math.imul(F,mt),p=Math.imul(F,at),p=p+Math.imul(J,mt)|0,B=Math.imul(J,at),T=T+Math.imul(gt,_t)|0,p=p+Math.imul(gt,ft)|0,p=p+Math.imul(K,_t)|0,B=B+Math.imul(K,ft)|0,T=T+Math.imul(dt,Tt)|0,p=p+Math.imul(dt,Ze)|0,p=p+Math.imul(Xe,Tt)|0,B=B+Math.imul(Xe,Ze)|0,T=T+Math.imul(ot,$)|0,p=p+Math.imul(ot,N)|0,p=p+Math.imul(Ve,$)|0,B=B+Math.imul(Ve,N)|0,T=T+Math.imul(lt,_)|0,p=p+Math.imul(lt,j)|0,p=p+Math.imul(je,_)|0,B=B+Math.imul(je,j)|0,T=T+Math.imul(Ue,ae)|0,p=p+Math.imul(Ue,ce)|0,p=p+Math.imul(ze,ae)|0,B=B+Math.imul(ze,ce)|0,T=T+Math.imul(Ae,Me)|0,p=p+Math.imul(Ae,Se)|0,p=p+Math.imul(Oe,Me)|0,B=B+Math.imul(Oe,Se)|0;var He=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(He>>>26)|0,He&=67108863,T=Math.imul(F,_t),p=Math.imul(F,ft),p=p+Math.imul(J,_t)|0,B=Math.imul(J,ft),T=T+Math.imul(gt,Tt)|0,p=p+Math.imul(gt,Ze)|0,p=p+Math.imul(K,Tt)|0,B=B+Math.imul(K,Ze)|0,T=T+Math.imul(dt,$)|0,p=p+Math.imul(dt,N)|0,p=p+Math.imul(Xe,$)|0,B=B+Math.imul(Xe,N)|0,T=T+Math.imul(ot,_)|0,p=p+Math.imul(ot,j)|0,p=p+Math.imul(Ve,_)|0,B=B+Math.imul(Ve,j)|0,T=T+Math.imul(lt,ae)|0,p=p+Math.imul(lt,ce)|0,p=p+Math.imul(je,ae)|0,B=B+Math.imul(je,ce)|0,T=T+Math.imul(Ue,Me)|0,p=p+Math.imul(Ue,Se)|0,p=p+Math.imul(ze,Me)|0,B=B+Math.imul(ze,Se)|0;var We=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(We>>>26)|0,We&=67108863,T=Math.imul(F,Tt),p=Math.imul(F,Ze),p=p+Math.imul(J,Tt)|0,B=Math.imul(J,Ze),T=T+Math.imul(gt,$)|0,p=p+Math.imul(gt,N)|0,p=p+Math.imul(K,$)|0,B=B+Math.imul(K,N)|0,T=T+Math.imul(dt,_)|0,p=p+Math.imul(dt,j)|0,p=p+Math.imul(Xe,_)|0,B=B+Math.imul(Xe,j)|0,T=T+Math.imul(ot,ae)|0,p=p+Math.imul(ot,ce)|0,p=p+Math.imul(Ve,ae)|0,B=B+Math.imul(Ve,ce)|0,T=T+Math.imul(lt,Me)|0,p=p+Math.imul(lt,Se)|0,p=p+Math.imul(je,Me)|0,B=B+Math.imul(je,Se)|0;var Fe=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,T=Math.imul(F,$),p=Math.imul(F,N),p=p+Math.imul(J,$)|0,B=Math.imul(J,N),T=T+Math.imul(gt,_)|0,p=p+Math.imul(gt,j)|0,p=p+Math.imul(K,_)|0,B=B+Math.imul(K,j)|0,T=T+Math.imul(dt,ae)|0,p=p+Math.imul(dt,ce)|0,p=p+Math.imul(Xe,ae)|0,B=B+Math.imul(Xe,ce)|0,T=T+Math.imul(ot,Me)|0,p=p+Math.imul(ot,Se)|0,p=p+Math.imul(Ve,Me)|0,B=B+Math.imul(Ve,Se)|0;var ye=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(ye>>>26)|0,ye&=67108863,T=Math.imul(F,_),p=Math.imul(F,j),p=p+Math.imul(J,_)|0,B=Math.imul(J,j),T=T+Math.imul(gt,ae)|0,p=p+Math.imul(gt,ce)|0,p=p+Math.imul(K,ae)|0,B=B+Math.imul(K,ce)|0,T=T+Math.imul(dt,Me)|0,p=p+Math.imul(dt,Se)|0,p=p+Math.imul(Xe,Me)|0,B=B+Math.imul(Xe,Se)|0;var be=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(be>>>26)|0,be&=67108863,T=Math.imul(F,ae),p=Math.imul(F,ce),p=p+Math.imul(J,ae)|0,B=Math.imul(J,ce),T=T+Math.imul(gt,Me)|0,p=p+Math.imul(gt,Se)|0,p=p+Math.imul(K,Me)|0,B=B+Math.imul(K,Se)|0;var Re=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Re>>>26)|0,Re&=67108863,T=Math.imul(F,Me),p=Math.imul(F,Se),p=p+Math.imul(J,Me)|0,B=Math.imul(J,Se);var Te=(S+T|0)+((p&8191)<<13)|0;return S=(B+(p>>>13)|0)+(Te>>>26)|0,Te&=67108863,R[0]=Ge,R[1]=Be,R[2]=Ye,R[3]=Pe,R[4]=et,R[5]=nt,R[6]=Qe,R[7]=vt,R[8]=ut,R[9]=Le,R[10]=it,R[11]=$e,R[12]=He,R[13]=We,R[14]=Fe,R[15]=ye,R[16]=be,R[17]=Re,R[18]=Te,S!==0&&(R[19]=S,g.length++),g};Math.imul||(P=x);function L(b,s,v){v.negative=s.negative^b.negative,v.length=b.length+s.length;for(var g=0,A=0,I=0;I<v.length-1;I++){var R=A;A=0;for(var S=g&67108863,T=Math.min(I,s.length-1),p=Math.max(0,I-b.length+1);p<=T;p++){var B=I-p,ee=b.words[B]|0,oe=s.words[p]|0,Z=ee*oe,ne=Z&67108863;R=R+(Z/67108864|0)|0,ne=ne+S|0,S=ne&67108863,R=R+(ne>>>26)|0,A+=R>>>26,R&=67108863}v.words[I]=S,g=R,R=A}return g!==0?v.words[I]=g:v.length--,v._strip()}function U(b,s,v){return L(b,s,v)}i.prototype.mulTo=function(s,v){var g,A=this.length+s.length;return this.length===10&&s.length===10?g=P(this,s,v):A<63?g=x(this,s,v):A<1024?g=L(this,s,v):g=U(this,s,v),g},i.prototype.mul=function(s){var v=new i(null);return v.words=new Array(this.length+s.length),this.mulTo(s,v)},i.prototype.mulf=function(s){var v=new i(null);return v.words=new Array(this.length+s.length),U(this,s,v)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var v=s<0;v&&(s=-s),n(typeof s=="number"),n(s<67108864);for(var g=0,A=0;A<this.length;A++){var I=(this.words[A]|0)*s,R=(I&67108863)+(g&67108863);g>>=26,g+=I/67108864|0,g+=R>>>26,this.words[A]=R&67108863}return g!==0&&(this.words[A]=g,this.length++),v?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var v=E(s);if(v.length===0)return new i(1);for(var g=this,A=0;A<v.length&&v[A]===0;A++,g=g.sqr());if(++A<v.length)for(var I=g.sqr();A<v.length;A++,I=I.sqr())v[A]!==0&&(g=g.mul(I));return g},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var v=s%26,g=(s-v)/26,A=67108863>>>26-v<<26-v,I;if(v!==0){var R=0;for(I=0;I<this.length;I++){var S=this.words[I]&A,T=(this.words[I]|0)-S<<v;this.words[I]=T|R,R=S>>>26-v}R&&(this.words[I]=R,this.length++)}if(g!==0){for(I=this.length-1;I>=0;I--)this.words[I+g]=this.words[I];for(I=0;I<g;I++)this.words[I]=0;this.length+=g}return this._strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,v,g){n(typeof s=="number"&&s>=0);var A;v?A=(v-v%26)/26:A=0;var I=s%26,R=Math.min((s-I)/26,this.length),S=67108863^67108863>>>I<<I,T=g;if(A-=R,A=Math.max(0,A),T){for(var p=0;p<R;p++)T.words[p]=this.words[p];T.length=R}if(R!==0)if(this.length>R)for(this.length-=R,p=0;p<this.length;p++)this.words[p]=this.words[p+R];else this.words[0]=0,this.length=1;var B=0;for(p=this.length-1;p>=0&&(B!==0||p>=A);p--){var ee=this.words[p]|0;this.words[p]=B<<26-I|ee>>>I,B=ee&S}return T&&B!==0&&(T.words[T.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,v,g){return n(this.negative===0),this.iushrn(s,v,g)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var v=s%26,g=(s-v)/26,A=1<<v;if(this.length<=g)return!1;var I=this.words[g];return!!(I&A)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var v=s%26,g=(s-v)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(v!==0&&g++,this.length=Math.min(g,this.length),v!==0){var A=67108863^67108863>>>v<<v;this.words[this.length-1]&=A}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,v,g){var A=s.length+g,I;this._expand(A);var R,S=0;for(I=0;I<s.length;I++){R=(this.words[I+g]|0)+S;var T=(s.words[I]|0)*v;R-=T&67108863,S=(R>>26)-(T/67108864|0),this.words[I+g]=R&67108863}for(;I<this.length-g;I++)R=(this.words[I+g]|0)+S,S=R>>26,this.words[I+g]=R&67108863;if(S===0)return this._strip();for(n(S===-1),S=0,I=0;I<this.length;I++)R=-(this.words[I]|0)+S,S=R>>26,this.words[I]=R&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,v){var g=this.length-s.length,A=this.clone(),I=s,R=I.words[I.length-1]|0,S=this._countBits(R);g=26-S,g!==0&&(I=I.ushln(g),A.iushln(g),R=I.words[I.length-1]|0);var T=A.length-I.length,p;if(v!=="mod"){p=new i(null),p.length=T+1,p.words=new Array(p.length);for(var B=0;B<p.length;B++)p.words[B]=0}var ee=A.clone()._ishlnsubmul(I,1,T);ee.negative===0&&(A=ee,p&&(p.words[T]=1));for(var oe=T-1;oe>=0;oe--){var Z=(A.words[I.length+oe]|0)*67108864+(A.words[I.length+oe-1]|0);for(Z=Math.min(Z/R|0,67108863),A._ishlnsubmul(I,Z,oe);A.negative!==0;)Z--,A.negative=0,A._ishlnsubmul(I,1,oe),A.isZero()||(A.negative^=1);p&&(p.words[oe]=Z)}return p&&p._strip(),A._strip(),v!=="div"&&g!==0&&A.iushrn(g),{div:p||null,mod:A}},i.prototype.divmod=function(s,v,g){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var A,I,R;return this.negative!==0&&s.negative===0?(R=this.neg().divmod(s,v),v!=="mod"&&(A=R.div.neg()),v!=="div"&&(I=R.mod.neg(),g&&I.negative!==0&&I.iadd(s)),{div:A,mod:I}):this.negative===0&&s.negative!==0?(R=this.divmod(s.neg(),v),v!=="mod"&&(A=R.div.neg()),{div:A,mod:R.mod}):this.negative&s.negative?(R=this.neg().divmod(s.neg(),v),v!=="div"&&(I=R.mod.neg(),g&&I.negative!==0&&I.isub(s)),{div:R.div,mod:I}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?v==="div"?{div:this.divn(s.words[0]),mod:null}:v==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,v)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var v=this.divmod(s);if(v.mod.isZero())return v.div;var g=v.div.negative!==0?v.mod.isub(s):v.mod,A=s.ushrn(1),I=s.andln(1),R=g.cmp(A);return R<0||I===1&&R===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},i.prototype.modrn=function(s){var v=s<0;v&&(s=-s),n(s<=67108863);for(var g=(1<<26)%s,A=0,I=this.length-1;I>=0;I--)A=(g*A+(this.words[I]|0))%s;return v?-A:A},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var v=s<0;v&&(s=-s),n(s<=67108863);for(var g=0,A=this.length-1;A>=0;A--){var I=(this.words[A]|0)+g*67108864;this.words[A]=I/s|0,g=I%s}return this._strip(),v?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var v=this,g=s.clone();v.negative!==0?v=v.umod(s):v=v.clone();for(var A=new i(1),I=new i(0),R=new i(0),S=new i(1),T=0;v.isEven()&&g.isEven();)v.iushrn(1),g.iushrn(1),++T;for(var p=g.clone(),B=v.clone();!v.isZero();){for(var ee=0,oe=1;!(v.words[0]&oe)&&ee<26;++ee,oe<<=1);if(ee>0)for(v.iushrn(ee);ee-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(p),I.isub(B)),A.iushrn(1),I.iushrn(1);for(var Z=0,ne=1;!(g.words[0]&ne)&&Z<26;++Z,ne<<=1);if(Z>0)for(g.iushrn(Z);Z-- >0;)(R.isOdd()||S.isOdd())&&(R.iadd(p),S.isub(B)),R.iushrn(1),S.iushrn(1);v.cmp(g)>=0?(v.isub(g),A.isub(R),I.isub(S)):(g.isub(v),R.isub(A),S.isub(I))}return{a:R,b:S,gcd:g.iushln(T)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var v=this,g=s.clone();v.negative!==0?v=v.umod(s):v=v.clone();for(var A=new i(1),I=new i(0),R=g.clone();v.cmpn(1)>0&&g.cmpn(1)>0;){for(var S=0,T=1;!(v.words[0]&T)&&S<26;++S,T<<=1);if(S>0)for(v.iushrn(S);S-- >0;)A.isOdd()&&A.iadd(R),A.iushrn(1);for(var p=0,B=1;!(g.words[0]&B)&&p<26;++p,B<<=1);if(p>0)for(g.iushrn(p);p-- >0;)I.isOdd()&&I.iadd(R),I.iushrn(1);v.cmp(g)>=0?(v.isub(g),A.isub(I)):(g.isub(v),I.isub(A))}var ee;return v.cmpn(1)===0?ee=A:ee=I,ee.cmpn(0)<0&&ee.iadd(s),ee},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var v=this.clone(),g=s.clone();v.negative=0,g.negative=0;for(var A=0;v.isEven()&&g.isEven();A++)v.iushrn(1),g.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;g.isEven();)g.iushrn(1);var I=v.cmp(g);if(I<0){var R=v;v=g,g=R}else if(I===0||g.cmpn(1)===0)break;v.isub(g)}while(!0);return g.iushln(A)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var v=s%26,g=(s-v)/26,A=1<<v;if(this.length<=g)return this._expand(g+1),this.words[g]|=A,this;for(var I=A,R=g;I!==0&&R<this.length;R++){var S=this.words[R]|0;S+=I,I=S>>>26,S&=67108863,this.words[R]=S}return I!==0&&(this.words[R]=I,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var v=s<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var g;if(this.length>1)g=1;else{v&&(s=-s),n(s<=67108863,"Number is too big");var A=this.words[0]|0;g=A===s?0:A<s?-1:1}return this.negative!==0?-g|0:g},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var v=this.ucmp(s);return this.negative!==0?-v|0:v},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var v=0,g=this.length-1;g>=0;g--){var A=this.words[g]|0,I=s.words[g]|0;if(A!==I){A<I?v=-1:A>I&&(v=1);break}}return v},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new Q(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var z={k256:null,p224:null,p192:null,p25519:null};function W(b,s){this.name=b,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},W.prototype.ireduce=function(s){var v=s,g;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),g=v.bitLength();while(g>this.n);var A=g<this.n?-1:v.ucmp(this.p);return A===0?(v.words[0]=0,v.length=1):A>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},W.prototype.split=function(s,v){s.iushrn(this.n,0,v)},W.prototype.imulK=function(s){return s.imul(this.k)};function re(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(re,W),re.prototype.split=function(s,v){for(var g=4194303,A=Math.min(s.length,9),I=0;I<A;I++)v.words[I]=s.words[I];if(v.length=A,s.length<=9){s.words[0]=0,s.length=1;return}var R=s.words[9];for(v.words[v.length++]=R&g,I=10;I<s.length;I++){var S=s.words[I]|0;s.words[I-10]=(S&g)<<4|R>>>22,R=S}R>>>=22,s.words[I-10]=R,R===0&&s.length>10?s.length-=10:s.length-=9},re.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var v=0,g=0;g<s.length;g++){var A=s.words[g]|0;v+=A*977,s.words[g]=v&67108863,v=A*64+(v/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function ie(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(ie,W);function se(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(se,W);function ve(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(ve,W),ve.prototype.imulK=function(s){for(var v=0,g=0;g<s.length;g++){var A=(s.words[g]|0)*19+v,I=A&67108863;A>>>=26,s.words[g]=I,v=A}return v!==0&&(s.words[s.length++]=v),s},i._prime=function(s){if(z[s])return z[s];var v;if(s==="k256")v=new re;else if(s==="p224")v=new ie;else if(s==="p192")v=new se;else if(s==="p25519")v=new ve;else throw new Error("Unknown prime "+s);return z[s]=v,v};function Q(b){if(typeof b=="string"){var s=i._prime(b);this.m=s.p,this.prime=s}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}Q.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Q.prototype._verify2=function(s,v){n((s.negative|v.negative)===0,"red works only with positives"),n(s.red&&s.red===v.red,"red works only with red numbers")},Q.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(f(s,s.umod(this.m)._forceRed(this)),s)},Q.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Q.prototype.add=function(s,v){this._verify2(s,v);var g=s.add(v);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Q.prototype.iadd=function(s,v){this._verify2(s,v);var g=s.iadd(v);return g.cmp(this.m)>=0&&g.isub(this.m),g},Q.prototype.sub=function(s,v){this._verify2(s,v);var g=s.sub(v);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Q.prototype.isub=function(s,v){this._verify2(s,v);var g=s.isub(v);return g.cmpn(0)<0&&g.iadd(this.m),g},Q.prototype.shl=function(s,v){return this._verify1(s),this.imod(s.ushln(v))},Q.prototype.imul=function(s,v){return this._verify2(s,v),this.imod(s.imul(v))},Q.prototype.mul=function(s,v){return this._verify2(s,v),this.imod(s.mul(v))},Q.prototype.isqr=function(s){return this.imul(s,s.clone())},Q.prototype.sqr=function(s){return this.mul(s,s)},Q.prototype.sqrt=function(s){if(s.isZero())return s.clone();var v=this.m.andln(3);if(n(v%2===1),v===3){var g=this.m.add(new i(1)).iushrn(2);return this.pow(s,g)}for(var A=this.m.subn(1),I=0;!A.isZero()&&A.andln(1)===0;)I++,A.iushrn(1);n(!A.isZero());var R=new i(1).toRed(this),S=R.redNeg(),T=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new i(2*p*p).toRed(this);this.pow(p,T).cmp(S)!==0;)p.redIAdd(S);for(var B=this.pow(p,A),ee=this.pow(s,A.addn(1).iushrn(1)),oe=this.pow(s,A),Z=I;oe.cmp(R)!==0;){for(var ne=oe,fe=0;ne.cmp(R)!==0;fe++)ne=ne.redSqr();n(fe<Z);var le=this.pow(B,new i(1).iushln(Z-fe-1));ee=ee.redMul(le),B=le.redSqr(),oe=oe.redMul(B),Z=fe}return ee},Q.prototype.invm=function(s){var v=s._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},Q.prototype.pow=function(s,v){if(v.isZero())return new i(1).toRed(this);if(v.cmpn(1)===0)return s.clone();var g=4,A=new Array(1<<g);A[0]=new i(1).toRed(this),A[1]=s;for(var I=2;I<A.length;I++)A[I]=this.mul(A[I-1],s);var R=A[0],S=0,T=0,p=v.bitLength()%26;for(p===0&&(p=26),I=v.length-1;I>=0;I--){for(var B=v.words[I],ee=p-1;ee>=0;ee--){var oe=B>>ee&1;if(R!==A[0]&&(R=this.sqr(R)),oe===0&&S===0){T=0;continue}S<<=1,S|=oe,T++,!(T!==g&&(I!==0||ee!==0))&&(R=this.mul(R,A[S]),T=0,S=0)}p=26}return R},Q.prototype.convertTo=function(s){var v=s.umod(this.m);return v===s?v.clone():v},Q.prototype.convertFrom=function(s){var v=s.clone();return v.red=null,v},i.mont=function(s){return new M(s)};function M(b){Q.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(M,Q),M.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},M.prototype.convertFrom=function(s){var v=this.imod(s.mul(this.rinv));return v.red=null,v},M.prototype.imul=function(s,v){if(s.isZero()||v.isZero())return s.words[0]=0,s.length=1,s;var g=s.imul(v),A=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=g.isub(A).iushrn(this.shift),R=I;return I.cmp(this.m)>=0?R=I.isub(this.m):I.cmpn(0)<0&&(R=I.iadd(this.m)),R._forceRed(this)},M.prototype.mul=function(s,v){if(s.isZero()||v.isZero())return new i(0)._forceRed(this);var g=s.mul(v),A=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=g.isub(A).iushrn(this.shift),R=I;return I.cmp(this.m)>=0?R=I.isub(this.m):I.cmpn(0)<0&&(R=I.iadd(this.m)),R._forceRed(this)},M.prototype.invm=function(s){var v=this.imod(s._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(r,Kt)}(Za)),Za.exports}var tu,Jd;function ru(){if(Jd)return tu;Jd=1;var r=yg(),e=hi();function t(i){var o=n(i),c=o.toRed(r.mont(i.modulus)).redPow(new r(i.publicExponent)).fromRed();return{blinder:c,unblinder:o.invm(i.modulus)}}function n(i){var o=i.modulus.byteLength(),c;do c=new r(e(o));while(c.cmp(i.modulus)>=0||!c.umod(i.prime1)||!c.umod(i.prime2));return c}function a(i,o){var c=t(o),u=o.modulus.byteLength(),h=new r(i).mul(c.blinder).umod(o.modulus),f=h.toRed(r.mont(o.prime1)),d=h.toRed(r.mont(o.prime2)),l=o.coefficient,y=o.prime1,m=o.prime2,w=f.redPow(o.exponent1).fromRed(),E=d.redPow(o.exponent2).fromRed(),x=w.isub(E).imul(l).umod(y).imul(m);return E.iadd(x).imul(c.unblinder).umod(o.modulus).toArrayLike(Jt,"be",u)}return a.getr=n,tu=a,tu}var nu={};const bg={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}};var iu={},au={},Yd;function Xd(){return Yd||(Yd=1,function(r){var e=r;function t(i,o){if(Array.isArray(i))return i.slice();if(!i)return[];var c=[];if(typeof i!="string"){for(var u=0;u<i.length;u++)c[u]=i[u]|0;return c}if(o==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var u=0;u<i.length;u+=2)c.push(parseInt(i[u]+i[u+1],16))}else for(var u=0;u<i.length;u++){var h=i.charCodeAt(u),f=h>>8,d=h&255;f?c.push(f,d):c.push(d)}return c}e.toArray=t;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function a(i){for(var o="",c=0;c<i.length;c++)o+=n(i[c].toString(16));return o}e.toHex=a,e.encode=function(o,c){return c==="hex"?a(o):o}}(au)),au}var Zd;function Kr(){return Zd||(Zd=1,function(r){var e=r,t=Er(),n=Vr(),a=Xd();e.assert=n,e.toArray=a.toArray,e.zero2=a.zero2,e.toHex=a.toHex,e.encode=a.encode;function i(f,d,l){var y=new Array(Math.max(f.bitLength(),l)+1);y.fill(0);for(var m=1<<d+1,w=f.clone(),E=0;E<y.length;E++){var x,P=w.andln(m-1);w.isOdd()?(P>(m>>1)-1?x=(m>>1)-P:x=P,w.isubn(x)):x=0,y[E]=x,w.iushrn(1)}return y}e.getNAF=i;function o(f,d){var l=[[],[]];f=f.clone(),d=d.clone();for(var y=0,m=0,w;f.cmpn(-y)>0||d.cmpn(-m)>0;){var E=f.andln(3)+y&3,x=d.andln(3)+m&3;E===3&&(E=-1),x===3&&(x=-1);var P;E&1?(w=f.andln(7)+y&7,(w===3||w===5)&&x===2?P=-E:P=E):P=0,l[0].push(P);var L;x&1?(w=d.andln(7)+m&7,(w===3||w===5)&&E===2?L=-x:L=x):L=0,l[1].push(L),2*y===P+1&&(y=1-y),2*m===L+1&&(m=1-m),f.iushrn(1),d.iushrn(1)}return l}e.getJSF=o;function c(f,d,l){var y="_"+d;f.prototype[d]=function(){return this[y]!==void 0?this[y]:this[y]=l.call(this)}}e.cachedProperty=c;function u(f){return typeof f=="string"?e.toArray(f,"hex"):f}e.parseBytes=u;function h(f){return new t(f,"hex","le")}e.intFromLE=h}(iu)),iu}var ou={},su,ep;function eo(){if(ep)return su;ep=1;var r=Er(),e=Kr(),t=e.getNAF,n=e.getJSF,a=e.assert;function i(c,u){this.type=c,this.p=new r(u.p,16),this.red=u.prime?r.red(u.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=u.n&&new r(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var h=this.n&&this.p.div(this.n);!h||h.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}su=i,i.prototype.point=function(){throw new Error("Not implemented")},i.prototype.validate=function(){throw new Error("Not implemented")},i.prototype._fixedNafMul=function(u,h){a(u.precomputed);var f=u._getDoubles(),d=t(h,1,this._bitLength),l=(1<<f.step+1)-(f.step%2===0?2:1);l/=3;var y=[],m,w;for(m=0;m<d.length;m+=f.step){w=0;for(var E=m+f.step-1;E>=m;E--)w=(w<<1)+d[E];y.push(w)}for(var x=this.jpoint(null,null,null),P=this.jpoint(null,null,null),L=l;L>0;L--){for(m=0;m<y.length;m++)w=y[m],w===L?P=P.mixedAdd(f.points[m]):w===-L&&(P=P.mixedAdd(f.points[m].neg()));x=x.add(P)}return x.toP()},i.prototype._wnafMul=function(u,h){var f=4,d=u._getNAFPoints(f);f=d.wnd;for(var l=d.points,y=t(h,f,this._bitLength),m=this.jpoint(null,null,null),w=y.length-1;w>=0;w--){for(var E=0;w>=0&&y[w]===0;w--)E++;if(w>=0&&E++,m=m.dblp(E),w<0)break;var x=y[w];a(x!==0),u.type==="affine"?x>0?m=m.mixedAdd(l[x-1>>1]):m=m.mixedAdd(l[-x-1>>1].neg()):x>0?m=m.add(l[x-1>>1]):m=m.add(l[-x-1>>1].neg())}return u.type==="affine"?m.toP():m},i.prototype._wnafMulAdd=function(u,h,f,d,l){var y=this._wnafT1,m=this._wnafT2,w=this._wnafT3,E=0,x,P,L;for(x=0;x<d;x++){L=h[x];var U=L._getNAFPoints(u);y[x]=U.wnd,m[x]=U.points}for(x=d-1;x>=1;x-=2){var z=x-1,W=x;if(y[z]!==1||y[W]!==1){w[z]=t(f[z],y[z],this._bitLength),w[W]=t(f[W],y[W],this._bitLength),E=Math.max(w[z].length,E),E=Math.max(w[W].length,E);continue}var re=[h[z],null,null,h[W]];h[z].y.cmp(h[W].y)===0?(re[1]=h[z].add(h[W]),re[2]=h[z].toJ().mixedAdd(h[W].neg())):h[z].y.cmp(h[W].y.redNeg())===0?(re[1]=h[z].toJ().mixedAdd(h[W]),re[2]=h[z].add(h[W].neg())):(re[1]=h[z].toJ().mixedAdd(h[W]),re[2]=h[z].toJ().mixedAdd(h[W].neg()));var ie=[-3,-1,-5,-7,0,7,5,1,3],se=n(f[z],f[W]);for(E=Math.max(se[0].length,E),w[z]=new Array(E),w[W]=new Array(E),P=0;P<E;P++){var ve=se[0][P]|0,Q=se[1][P]|0;w[z][P]=ie[(ve+1)*3+(Q+1)],w[W][P]=0,m[z]=re}}var M=this.jpoint(null,null,null),b=this._wnafT4;for(x=E;x>=0;x--){for(var s=0;x>=0;){var v=!0;for(P=0;P<d;P++)b[P]=w[P][x]|0,b[P]!==0&&(v=!1);if(!v)break;s++,x--}if(x>=0&&s++,M=M.dblp(s),x<0)break;for(P=0;P<d;P++){var g=b[P];g!==0&&(g>0?L=m[P][g-1>>1]:g<0&&(L=m[P][-g-1>>1].neg()),L.type==="affine"?M=M.mixedAdd(L):M=M.add(L))}}for(x=0;x<d;x++)m[x]=null;return l?M:M.toP()};function o(c,u){this.curve=c,this.type=u,this.precomputed=null}return i.BasePoint=o,o.prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},i.prototype.decodePoint=function(u,h){u=e.toArray(u,h);var f=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1===2*f){u[0]===6?a(u[u.length-1]%2===0):u[0]===7&&a(u[u.length-1]%2===1);var d=this.point(u.slice(1,1+f),u.slice(1+f,1+2*f));return d}else if((u[0]===2||u[0]===3)&&u.length-1===f)return this.pointFromX(u.slice(1,1+f),u[0]===3);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(u){return this.encode(u,!0)},o.prototype._encode=function(u){var h=this.curve.p.byteLength(),f=this.getX().toArray("be",h);return u?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",h))},o.prototype.encode=function(u,h){return e.encode(this._encode(h),u)},o.prototype.precompute=function(u){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,u),h.beta=this._getBeta(),this.precomputed=h,this},o.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return h?h.points.length>=Math.ceil((u.bitLength()+1)/h.step):!1},o.prototype._getDoubles=function(u,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],d=this,l=0;l<h;l+=u){for(var y=0;y<u;y++)d=d.dbl();f.push(d)}return{step:u,points:f}},o.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],f=(1<<u)-1,d=f===1?null:this.dbl(),l=1;l<f;l++)h[l]=h[l-1].add(d);return{wnd:u,points:h}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(u){for(var h=this,f=0;f<u;f++)h=h.dbl();return h},su}var fu,tp;function mg(){if(tp)return fu;tp=1;var r=Kr(),e=Er(),t=Ft(),n=eo(),a=r.assert;function i(u){n.call(this,"short",u),this.a=new e(u.a,16).toRed(this.red),this.b=new e(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}t(i,n),fu=i,i.prototype._getEndomorphism=function(h){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var f,d;if(h.beta)f=new e(h.beta,16).toRed(this.red);else{var l=this._getEndoRoots(this.p);f=l[0].cmp(l[1])<0?l[0]:l[1],f=f.toRed(this.red)}if(h.lambda)d=new e(h.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(f))===0?d=y[0]:(d=y[1],a(this.g.mul(d).x.cmp(this.g.x.redMul(f))===0))}var m;return h.basis?m=h.basis.map(function(w){return{a:new e(w.a,16),b:new e(w.b,16)}}):m=this._getEndoBasis(d),{beta:f,lambda:d,basis:m}}},i.prototype._getEndoRoots=function(h){var f=h===this.p?this.red:e.mont(h),d=new e(2).toRed(f).redInvm(),l=d.redNeg(),y=new e(3).toRed(f).redNeg().redSqrt().redMul(d),m=l.redAdd(y).fromRed(),w=l.redSub(y).fromRed();return[m,w]},i.prototype._getEndoBasis=function(h){for(var f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=h,l=this.n.clone(),y=new e(1),m=new e(0),w=new e(0),E=new e(1),x,P,L,U,z,W,re,ie=0,se,ve;d.cmpn(0)!==0;){var Q=l.div(d);se=l.sub(Q.mul(d)),ve=w.sub(Q.mul(y));var M=E.sub(Q.mul(m));if(!L&&se.cmp(f)<0)x=re.neg(),P=y,L=se.neg(),U=ve;else if(L&&++ie===2)break;re=se,l=d,d=se,w=y,y=ve,E=m,m=M}z=se.neg(),W=ve;var b=L.sqr().add(U.sqr()),s=z.sqr().add(W.sqr());return s.cmp(b)>=0&&(z=x,W=P),L.negative&&(L=L.neg(),U=U.neg()),z.negative&&(z=z.neg(),W=W.neg()),[{a:L,b:U},{a:z,b:W}]},i.prototype._endoSplit=function(h){var f=this.endo.basis,d=f[0],l=f[1],y=l.b.mul(h).divRound(this.n),m=d.b.neg().mul(h).divRound(this.n),w=y.mul(d.a),E=m.mul(l.a),x=y.mul(d.b),P=m.mul(l.b),L=h.sub(w).sub(E),U=x.add(P).neg();return{k1:L,k2:U}},i.prototype.pointFromX=function(h,f){h=new e(h,16),h.red||(h=h.toRed(this.red));var d=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),l=d.redSqrt();if(l.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");var y=l.fromRed().isOdd();return(f&&!y||!f&&y)&&(l=l.redNeg()),this.point(h,l)},i.prototype.validate=function(h){if(h.inf)return!0;var f=h.x,d=h.y,l=this.a.redMul(f),y=f.redSqr().redMul(f).redIAdd(l).redIAdd(this.b);return d.redSqr().redISub(y).cmpn(0)===0},i.prototype._endoWnafMulAdd=function(h,f,d){for(var l=this._endoWnafT1,y=this._endoWnafT2,m=0;m<h.length;m++){var w=this._endoSplit(f[m]),E=h[m],x=E._getBeta();w.k1.negative&&(w.k1.ineg(),E=E.neg(!0)),w.k2.negative&&(w.k2.ineg(),x=x.neg(!0)),l[m*2]=E,l[m*2+1]=x,y[m*2]=w.k1,y[m*2+1]=w.k2}for(var P=this._wnafMulAdd(1,l,y,m*2,d),L=0;L<m*2;L++)l[L]=null,y[L]=null;return P};function o(u,h,f,d){n.BasePoint.call(this,u,"affine"),h===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(h,16),this.y=new e(f,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}t(o,n.BasePoint),i.prototype.point=function(h,f,d){return new o(this,h,f,d)},i.prototype.pointFromJSON=function(h,f){return o.fromJSON(this,h,f)},o.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var d=this.curve,l=function(y){return d.point(y.x.redMul(d.endo.beta),y.y)};h.beta=f,f.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(l)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(l)}}}return f}},o.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},o.fromJSON=function(h,f,d){typeof f=="string"&&(f=JSON.parse(f));var l=h.point(f[0],f[1],d);if(!f[2])return l;function y(w){return h.point(w[0],w[1],d)}var m=f[2];return l.precomputed={beta:null,doubles:m.doubles&&{step:m.doubles.step,points:[l].concat(m.doubles.points.map(y))},naf:m.naf&&{wnd:m.naf.wnd,points:[l].concat(m.naf.points.map(y))}},l},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.inf},o.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var f=this.y.redSub(h.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(h.x).redInvm()));var d=f.redSqr().redISub(this.x).redISub(h.x),l=f.redMul(this.x.redSub(d)).redISub(this.y);return this.curve.point(d,l)},o.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,d=this.x.redSqr(),l=h.redInvm(),y=d.redAdd(d).redIAdd(d).redIAdd(f).redMul(l),m=y.redSqr().redISub(this.x.redAdd(this.x)),w=y.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,w)},o.prototype.getX=function(){return this.x.fromRed()},o.prototype.getY=function(){return this.y.fromRed()},o.prototype.mul=function(h){return h=new e(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},o.prototype.mulAdd=function(h,f,d){var l=[this,f],y=[h,d];return this.curve.endo?this.curve._endoWnafMulAdd(l,y):this.curve._wnafMulAdd(1,l,y,2)},o.prototype.jmulAdd=function(h,f,d){var l=[this,f],y=[h,d];return this.curve.endo?this.curve._endoWnafMulAdd(l,y,!0):this.curve._wnafMulAdd(1,l,y,2,!0)},o.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},o.prototype.neg=function(h){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var d=this.precomputed,l=function(y){return y.neg()};f.precomputed={naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(l)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(l)}}}return f},o.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var h=this.curve.jpoint(this.x,this.y,this.curve.one);return h};function c(u,h,f,d){n.BasePoint.call(this,u,"jacobian"),h===null&&f===null&&d===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(h,16),this.y=new e(f,16),this.z=new e(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return t(c,n.BasePoint),i.prototype.jpoint=function(h,f,d){return new c(this,h,f,d)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),f=h.redSqr(),d=this.x.redMul(f),l=this.y.redMul(f).redMul(h);return this.curve.point(d,l)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var f=h.z.redSqr(),d=this.z.redSqr(),l=this.x.redMul(f),y=h.x.redMul(d),m=this.y.redMul(f.redMul(h.z)),w=h.y.redMul(d.redMul(this.z)),E=l.redSub(y),x=m.redSub(w);if(E.cmpn(0)===0)return x.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var P=E.redSqr(),L=P.redMul(E),U=l.redMul(P),z=x.redSqr().redIAdd(L).redISub(U).redISub(U),W=x.redMul(U.redISub(z)).redISub(m.redMul(L)),re=this.z.redMul(h.z).redMul(E);return this.curve.jpoint(z,W,re)},c.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var f=this.z.redSqr(),d=this.x,l=h.x.redMul(f),y=this.y,m=h.y.redMul(f).redMul(this.z),w=d.redSub(l),E=y.redSub(m);if(w.cmpn(0)===0)return E.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=w.redSqr(),P=x.redMul(w),L=d.redMul(x),U=E.redSqr().redIAdd(P).redISub(L).redISub(L),z=E.redMul(L.redISub(U)).redISub(y.redMul(P)),W=this.z.redMul(w);return this.curve.jpoint(U,z,W)},c.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var d=this;for(f=0;f<h;f++)d=d.dbl();return d}var l=this.curve.a,y=this.curve.tinv,m=this.x,w=this.y,E=this.z,x=E.redSqr().redSqr(),P=w.redAdd(w);for(f=0;f<h;f++){var L=m.redSqr(),U=P.redSqr(),z=U.redSqr(),W=L.redAdd(L).redIAdd(L).redIAdd(l.redMul(x)),re=m.redMul(U),ie=W.redSqr().redISub(re.redAdd(re)),se=re.redISub(ie),ve=W.redMul(se);ve=ve.redIAdd(ve).redISub(z);var Q=P.redMul(E);f+1<h&&(x=x.redMul(z)),m=ie,E=Q,P=ve}return this.curve.jpoint(m,P.redMul(y),E)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var h,f,d;if(this.zOne){var l=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(l).redISub(m);w=w.redIAdd(w);var E=l.redAdd(l).redIAdd(l),x=E.redSqr().redISub(w).redISub(w),P=m.redIAdd(m);P=P.redIAdd(P),P=P.redIAdd(P),h=x,f=E.redMul(w.redISub(x)).redISub(P),d=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),U=this.y.redSqr(),z=U.redSqr(),W=this.x.redAdd(U).redSqr().redISub(L).redISub(z);W=W.redIAdd(W);var re=L.redAdd(L).redIAdd(L),ie=re.redSqr(),se=z.redIAdd(z);se=se.redIAdd(se),se=se.redIAdd(se),h=ie.redISub(W).redISub(W),f=re.redMul(W.redISub(h)).redISub(se),d=this.y.redMul(this.z),d=d.redIAdd(d)}return this.curve.jpoint(h,f,d)},c.prototype._threeDbl=function(){var h,f,d;if(this.zOne){var l=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(l).redISub(m);w=w.redIAdd(w);var E=l.redAdd(l).redIAdd(l).redIAdd(this.curve.a),x=E.redSqr().redISub(w).redISub(w);h=x;var P=m.redIAdd(m);P=P.redIAdd(P),P=P.redIAdd(P),f=E.redMul(w.redISub(x)).redISub(P),d=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),U=this.y.redSqr(),z=this.x.redMul(U),W=this.x.redSub(L).redMul(this.x.redAdd(L));W=W.redAdd(W).redIAdd(W);var re=z.redIAdd(z);re=re.redIAdd(re);var ie=re.redAdd(re);h=W.redSqr().redISub(ie),d=this.y.redAdd(this.z).redSqr().redISub(U).redISub(L);var se=U.redSqr();se=se.redIAdd(se),se=se.redIAdd(se),se=se.redIAdd(se),f=W.redMul(re.redISub(h)).redISub(se)}return this.curve.jpoint(h,f,d)},c.prototype._dbl=function(){var h=this.curve.a,f=this.x,d=this.y,l=this.z,y=l.redSqr().redSqr(),m=f.redSqr(),w=d.redSqr(),E=m.redAdd(m).redIAdd(m).redIAdd(h.redMul(y)),x=f.redAdd(f);x=x.redIAdd(x);var P=x.redMul(w),L=E.redSqr().redISub(P.redAdd(P)),U=P.redISub(L),z=w.redSqr();z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z);var W=E.redMul(U).redISub(z),re=d.redAdd(d).redMul(l);return this.curve.jpoint(L,W,re)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),f=this.y.redSqr(),d=this.z.redSqr(),l=f.redSqr(),y=h.redAdd(h).redIAdd(h),m=y.redSqr(),w=this.x.redAdd(f).redSqr().redISub(h).redISub(l);w=w.redIAdd(w),w=w.redAdd(w).redIAdd(w),w=w.redISub(m);var E=w.redSqr(),x=l.redIAdd(l);x=x.redIAdd(x),x=x.redIAdd(x),x=x.redIAdd(x);var P=y.redIAdd(w).redSqr().redISub(m).redISub(E).redISub(x),L=f.redMul(P);L=L.redIAdd(L),L=L.redIAdd(L);var U=this.x.redMul(E).redISub(L);U=U.redIAdd(U),U=U.redIAdd(U);var z=this.y.redMul(P.redMul(x.redISub(P)).redISub(w.redMul(E)));z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z);var W=this.z.redAdd(w).redSqr().redISub(d).redISub(E);return this.curve.jpoint(U,z,W)},c.prototype.mul=function(h,f){return h=new e(h,f),this.curve._wnafMul(this,h)},c.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var f=this.z.redSqr(),d=h.z.redSqr();if(this.x.redMul(d).redISub(h.x.redMul(f)).cmpn(0)!==0)return!1;var l=f.redMul(this.z),y=d.redMul(h.z);return this.y.redMul(y).redISub(h.y.redMul(l)).cmpn(0)===0},c.prototype.eqXToP=function(h){var f=this.z.redSqr(),d=h.toRed(this.curve.red).redMul(f);if(this.x.cmp(d)===0)return!0;for(var l=h.clone(),y=this.curve.redN.redMul(f);;){if(l.iadd(this.curve.n),l.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(y),this.x.cmp(d)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},fu}var uu,rp;function gg(){if(rp)return uu;rp=1;var r=Er(),e=Ft(),t=eo(),n=Kr();function a(o){t.call(this,"mont",o),this.a=new r(o.a,16).toRed(this.red),this.b=new r(o.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(a,t),uu=a,a.prototype.validate=function(c){var u=c.normalize().x,h=u.redSqr(),f=h.redMul(u).redAdd(h.redMul(this.a)).redAdd(u),d=f.redSqrt();return d.redSqr().cmp(f)===0};function i(o,c,u){t.BasePoint.call(this,o,"projective"),c===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(c,16),this.z=new r(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(i,t.BasePoint),a.prototype.decodePoint=function(c,u){return this.point(n.toArray(c,u),1)},a.prototype.point=function(c,u){return new i(this,c,u)},a.prototype.pointFromJSON=function(c){return i.fromJSON(this,c)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(c,u){return new i(c,u[0],u[1]||c.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.z.cmpn(0)===0},i.prototype.dbl=function(){var c=this.x.redAdd(this.z),u=c.redSqr(),h=this.x.redSub(this.z),f=h.redSqr(),d=u.redSub(f),l=u.redMul(f),y=d.redMul(f.redAdd(this.curve.a24.redMul(d)));return this.curve.point(l,y)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(c,u){var h=this.x.redAdd(this.z),f=this.x.redSub(this.z),d=c.x.redAdd(c.z),l=c.x.redSub(c.z),y=l.redMul(h),m=d.redMul(f),w=u.z.redMul(y.redAdd(m).redSqr()),E=u.x.redMul(y.redISub(m).redSqr());return this.curve.point(w,E)},i.prototype.mul=function(c){for(var u=c.clone(),h=this,f=this.curve.point(null,null),d=this,l=[];u.cmpn(0)!==0;u.iushrn(1))l.push(u.andln(1));for(var y=l.length-1;y>=0;y--)l[y]===0?(h=h.diffAdd(f,d),f=f.dbl()):(f=h.diffAdd(f,d),h=h.dbl());return f},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},uu}var cu,np;function wg(){if(np)return cu;np=1;var r=Kr(),e=Er(),t=Ft(),n=eo(),a=r.assert;function i(c){this.twisted=(c.a|0)!==1,this.mOneA=this.twisted&&(c.a|0)===-1,this.extended=this.mOneA,n.call(this,"edwards",c),this.a=new e(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(c.c|0)===1}t(i,n),cu=i,i.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},i.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},i.prototype.jpoint=function(u,h,f,d){return this.point(u,h,f,d)},i.prototype.pointFromX=function(u,h){u=new e(u,16),u.red||(u=u.toRed(this.red));var f=u.redSqr(),d=this.c2.redSub(this.a.redMul(f)),l=this.one.redSub(this.c2.redMul(this.d).redMul(f)),y=d.redMul(l.redInvm()),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var w=m.fromRed().isOdd();return(h&&!w||!h&&w)&&(m=m.redNeg()),this.point(u,m)},i.prototype.pointFromY=function(u,h){u=new e(u,16),u.red||(u=u.toRed(this.red));var f=u.redSqr(),d=f.redSub(this.c2),l=f.redMul(this.d).redMul(this.c2).redSub(this.a),y=d.redMul(l.redInvm());if(y.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,u)}var m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return m.fromRed().isOdd()!==h&&(m=m.redNeg()),this.point(m,u)},i.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var h=u.x.redSqr(),f=u.y.redSqr(),d=h.redMul(this.a).redAdd(f),l=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(f)));return d.cmp(l)===0};function o(c,u,h,f,d){n.BasePoint.call(this,c,"projective"),u===null&&h===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(u,16),this.y=new e(h,16),this.z=f?new e(f,16):this.curve.one,this.t=d&&new e(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return t(o,n.BasePoint),i.prototype.pointFromJSON=function(u){return o.fromJSON(this,u)},i.prototype.point=function(u,h,f,d){return new o(this,u,h,f,d)},o.fromJSON=function(u,h){return new o(u,h[0],h[1],h[2])},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},o.prototype._extDbl=function(){var u=this.x.redSqr(),h=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var d=this.curve._mulA(u),l=this.x.redAdd(this.y).redSqr().redISub(u).redISub(h),y=d.redAdd(h),m=y.redSub(f),w=d.redSub(h),E=l.redMul(m),x=y.redMul(w),P=l.redMul(w),L=m.redMul(y);return this.curve.point(E,x,L,P)},o.prototype._projDbl=function(){var u=this.x.redAdd(this.y).redSqr(),h=this.x.redSqr(),f=this.y.redSqr(),d,l,y,m,w,E;if(this.curve.twisted){m=this.curve._mulA(h);var x=m.redAdd(f);this.zOne?(d=u.redSub(h).redSub(f).redMul(x.redSub(this.curve.two)),l=x.redMul(m.redSub(f)),y=x.redSqr().redSub(x).redSub(x)):(w=this.z.redSqr(),E=x.redSub(w).redISub(w),d=u.redSub(h).redISub(f).redMul(E),l=x.redMul(m.redSub(f)),y=x.redMul(E))}else m=h.redAdd(f),w=this.curve._mulC(this.z).redSqr(),E=m.redSub(w).redSub(w),d=this.curve._mulC(u.redISub(m)).redMul(E),l=this.curve._mulC(m).redMul(h.redISub(f)),y=m.redMul(E);return this.curve.point(d,l,y)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},o.prototype._extAdd=function(u){var h=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),f=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),d=this.t.redMul(this.curve.dd).redMul(u.t),l=this.z.redMul(u.z.redAdd(u.z)),y=f.redSub(h),m=l.redSub(d),w=l.redAdd(d),E=f.redAdd(h),x=y.redMul(m),P=w.redMul(E),L=y.redMul(E),U=m.redMul(w);return this.curve.point(x,P,U,L)},o.prototype._projAdd=function(u){var h=this.z.redMul(u.z),f=h.redSqr(),d=this.x.redMul(u.x),l=this.y.redMul(u.y),y=this.curve.d.redMul(d).redMul(l),m=f.redSub(y),w=f.redAdd(y),E=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(d).redISub(l),x=h.redMul(m).redMul(E),P,L;return this.curve.twisted?(P=h.redMul(w).redMul(l.redSub(this.curve._mulA(d))),L=m.redMul(w)):(P=h.redMul(w).redMul(l.redSub(d)),L=this.curve._mulC(m).redMul(w)),this.curve.point(x,P,L)},o.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},o.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},o.prototype.mulAdd=function(u,h,f){return this.curve._wnafMulAdd(1,[this,h],[u,f],2,!1)},o.prototype.jmulAdd=function(u,h,f){return this.curve._wnafMulAdd(1,[this,h],[u,f],2,!0)},o.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},o.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},o.prototype.getY=function(){return this.normalize(),this.y.fromRed()},o.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},o.prototype.eqXToP=function(u){var h=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var f=u.clone(),d=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(d),this.x.cmp(h)===0)return!0}},o.prototype.toP=o.prototype.normalize,o.prototype.mixedAdd=o.prototype.add,cu}var ip;function ap(){return ip||(ip=1,function(r){var e=r;e.base=eo(),e.short=mg(),e.mont=gg(),e.edwards=wg()}(ou)),ou}var hu={},lu={},nr={},op;function un(){if(op)return nr;op=1;var r=Vr(),e=Ft();nr.inherits=e;function t(M,b){return(M.charCodeAt(b)&64512)!==55296||b<0||b+1>=M.length?!1:(M.charCodeAt(b+1)&64512)===56320}function n(M,b){if(Array.isArray(M))return M.slice();if(!M)return[];var s=[];if(typeof M=="string")if(b){if(b==="hex")for(M=M.replace(/[^a-z0-9]+/ig,""),M.length%2!==0&&(M="0"+M),g=0;g<M.length;g+=2)s.push(parseInt(M[g]+M[g+1],16))}else for(var v=0,g=0;g<M.length;g++){var A=M.charCodeAt(g);A<128?s[v++]=A:A<2048?(s[v++]=A>>6|192,s[v++]=A&63|128):t(M,g)?(A=65536+((A&1023)<<10)+(M.charCodeAt(++g)&1023),s[v++]=A>>18|240,s[v++]=A>>12&63|128,s[v++]=A>>6&63|128,s[v++]=A&63|128):(s[v++]=A>>12|224,s[v++]=A>>6&63|128,s[v++]=A&63|128)}else for(g=0;g<M.length;g++)s[g]=M[g]|0;return s}nr.toArray=n;function a(M){for(var b="",s=0;s<M.length;s++)b+=c(M[s].toString(16));return b}nr.toHex=a;function i(M){var b=M>>>24|M>>>8&65280|M<<8&16711680|(M&255)<<24;return b>>>0}nr.htonl=i;function o(M,b){for(var s="",v=0;v<M.length;v++){var g=M[v];b==="little"&&(g=i(g)),s+=u(g.toString(16))}return s}nr.toHex32=o;function c(M){return M.length===1?"0"+M:M}nr.zero2=c;function u(M){return M.length===7?"0"+M:M.length===6?"00"+M:M.length===5?"000"+M:M.length===4?"0000"+M:M.length===3?"00000"+M:M.length===2?"000000"+M:M.length===1?"0000000"+M:M}nr.zero8=u;function h(M,b,s,v){var g=s-b;r(g%4===0);for(var A=new Array(g/4),I=0,R=b;I<A.length;I++,R+=4){var S;v==="big"?S=M[R]<<24|M[R+1]<<16|M[R+2]<<8|M[R+3]:S=M[R+3]<<24|M[R+2]<<16|M[R+1]<<8|M[R],A[I]=S>>>0}return A}nr.join32=h;function f(M,b){for(var s=new Array(M.length*4),v=0,g=0;v<M.length;v++,g+=4){var A=M[v];b==="big"?(s[g]=A>>>24,s[g+1]=A>>>16&255,s[g+2]=A>>>8&255,s[g+3]=A&255):(s[g+3]=A>>>24,s[g+2]=A>>>16&255,s[g+1]=A>>>8&255,s[g]=A&255)}return s}nr.split32=f;function d(M,b){return M>>>b|M<<32-b}nr.rotr32=d;function l(M,b){return M<<b|M>>>32-b}nr.rotl32=l;function y(M,b){return M+b>>>0}nr.sum32=y;function m(M,b,s){return M+b+s>>>0}nr.sum32_3=m;function w(M,b,s,v){return M+b+s+v>>>0}nr.sum32_4=w;function E(M,b,s,v,g){return M+b+s+v+g>>>0}nr.sum32_5=E;function x(M,b,s,v){var g=M[b],A=M[b+1],I=v+A>>>0,R=(I<v?1:0)+s+g;M[b]=R>>>0,M[b+1]=I}nr.sum64=x;function P(M,b,s,v){var g=b+v>>>0,A=(g<b?1:0)+M+s;return A>>>0}nr.sum64_hi=P;function L(M,b,s,v){var g=b+v;return g>>>0}nr.sum64_lo=L;function U(M,b,s,v,g,A,I,R){var S=0,T=b;T=T+v>>>0,S+=T<b?1:0,T=T+A>>>0,S+=T<A?1:0,T=T+R>>>0,S+=T<R?1:0;var p=M+s+g+I+S;return p>>>0}nr.sum64_4_hi=U;function z(M,b,s,v,g,A,I,R){var S=b+v+A+R;return S>>>0}nr.sum64_4_lo=z;function W(M,b,s,v,g,A,I,R,S,T){var p=0,B=b;B=B+v>>>0,p+=B<b?1:0,B=B+A>>>0,p+=B<A?1:0,B=B+R>>>0,p+=B<R?1:0,B=B+T>>>0,p+=B<T?1:0;var ee=M+s+g+I+S+p;return ee>>>0}nr.sum64_5_hi=W;function re(M,b,s,v,g,A,I,R,S,T){var p=b+v+A+R+T;return p>>>0}nr.sum64_5_lo=re;function ie(M,b,s){var v=b<<32-s|M>>>s;return v>>>0}nr.rotr64_hi=ie;function se(M,b,s){var v=M<<32-s|b>>>s;return v>>>0}nr.rotr64_lo=se;function ve(M,b,s){return M>>>s}nr.shr64_hi=ve;function Q(M,b,s){var v=M<<32-s|b>>>s;return v>>>0}return nr.shr64_lo=Q,nr}var du={},sp;function Vi(){if(sp)return du;sp=1;var r=un(),e=Vr();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return du.BlockHash=t,t.prototype.update=function(a,i){if(a=r.toArray(a,i),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var o=a.length%this._delta8;this.pending=a.slice(a.length-o,a.length),this.pending.length===0&&(this.pending=null),a=r.join32(a,0,a.length-o,this.endian);for(var c=0;c<a.length;c+=this._delta32)this._update(a,c,c+this._delta32)}return this},t.prototype.digest=function(a){return this.update(this._pad()),e(this.pending===null),this._digest(a)},t.prototype._pad=function(){var a=this.pendingTotal,i=this._delta8,o=i-(a+this.padLength)%i,c=new Array(o+this.padLength);c[0]=128;for(var u=1;u<o;u++)c[u]=0;if(a<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)c[u++]=0;c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=a>>>24&255,c[u++]=a>>>16&255,c[u++]=a>>>8&255,c[u++]=a&255}else for(c[u++]=a&255,c[u++]=a>>>8&255,c[u++]=a>>>16&255,c[u++]=a>>>24&255,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,h=8;h<this.padLength;h++)c[u++]=0;return c},du}var Gn={},cn={},fp;function up(){if(fp)return cn;fp=1;var r=un(),e=r.rotr32;function t(f,d,l,y){if(f===0)return n(d,l,y);if(f===1||f===3)return i(d,l,y);if(f===2)return a(d,l,y)}cn.ft_1=t;function n(f,d,l){return f&d^~f&l}cn.ch32=n;function a(f,d,l){return f&d^f&l^d&l}cn.maj32=a;function i(f,d,l){return f^d^l}cn.p32=i;function o(f){return e(f,2)^e(f,13)^e(f,22)}cn.s0_256=o;function c(f){return e(f,6)^e(f,11)^e(f,25)}cn.s1_256=c;function u(f){return e(f,7)^e(f,18)^f>>>3}cn.g0_256=u;function h(f){return e(f,17)^e(f,19)^f>>>10}return cn.g1_256=h,cn}var pu,cp;function _g(){if(cp)return pu;cp=1;var r=un(),e=Vi(),t=up(),n=r.rotl32,a=r.sum32,i=r.sum32_5,o=t.ft_1,c=e.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(h,c),pu=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(d,l){for(var y=this.W,m=0;m<16;m++)y[m]=d[l+m];for(;m<y.length;m++)y[m]=n(y[m-3]^y[m-8]^y[m-14]^y[m-16],1);var w=this.h[0],E=this.h[1],x=this.h[2],P=this.h[3],L=this.h[4];for(m=0;m<y.length;m++){var U=~~(m/20),z=i(n(w,5),o(U,E,x,P),L,y[m],u[U]);L=P,P=x,x=n(E,30),E=w,w=z}this.h[0]=a(this.h[0],w),this.h[1]=a(this.h[1],E),this.h[2]=a(this.h[2],x),this.h[3]=a(this.h[3],P),this.h[4]=a(this.h[4],L)},h.prototype._digest=function(d){return d==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},pu}var vu,hp;function lp(){if(hp)return vu;hp=1;var r=un(),e=Vi(),t=up(),n=Vr(),a=r.sum32,i=r.sum32_4,o=r.sum32_5,c=t.ch32,u=t.maj32,h=t.s0_256,f=t.s1_256,d=t.g0_256,l=t.g1_256,y=e.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}return r.inherits(w,y),vu=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(x,P){for(var L=this.W,U=0;U<16;U++)L[U]=x[P+U];for(;U<L.length;U++)L[U]=i(l(L[U-2]),L[U-7],d(L[U-15]),L[U-16]);var z=this.h[0],W=this.h[1],re=this.h[2],ie=this.h[3],se=this.h[4],ve=this.h[5],Q=this.h[6],M=this.h[7];for(n(this.k.length===L.length),U=0;U<L.length;U++){var b=o(M,f(se),c(se,ve,Q),this.k[U],L[U]),s=a(h(z),u(z,W,re));M=Q,Q=ve,ve=se,se=a(ie,b),ie=re,re=W,W=z,z=a(b,s)}this.h[0]=a(this.h[0],z),this.h[1]=a(this.h[1],W),this.h[2]=a(this.h[2],re),this.h[3]=a(this.h[3],ie),this.h[4]=a(this.h[4],se),this.h[5]=a(this.h[5],ve),this.h[6]=a(this.h[6],Q),this.h[7]=a(this.h[7],M)},w.prototype._digest=function(x){return x==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},vu}var yu,dp;function xg(){if(dp)return yu;dp=1;var r=un(),e=lp();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),yu=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(a){return a==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},yu}var bu,pp;function vp(){if(pp)return bu;pp=1;var r=un(),e=Vi(),t=Vr(),n=r.rotr64_hi,a=r.rotr64_lo,i=r.shr64_hi,o=r.shr64_lo,c=r.sum64,u=r.sum64_hi,h=r.sum64_lo,f=r.sum64_4_hi,d=r.sum64_4_lo,l=r.sum64_5_hi,y=r.sum64_5_lo,m=e.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}r.inherits(E,m),bu=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(s,v){for(var g=this.W,A=0;A<32;A++)g[A]=s[v+A];for(;A<g.length;A+=2){var I=Q(g[A-4],g[A-3]),R=M(g[A-4],g[A-3]),S=g[A-14],T=g[A-13],p=se(g[A-30],g[A-29]),B=ve(g[A-30],g[A-29]),ee=g[A-32],oe=g[A-31];g[A]=f(I,R,S,T,p,B,ee,oe),g[A+1]=d(I,R,S,T,p,B,ee,oe)}},E.prototype._update=function(s,v){this._prepareBlock(s,v);var g=this.W,A=this.h[0],I=this.h[1],R=this.h[2],S=this.h[3],T=this.h[4],p=this.h[5],B=this.h[6],ee=this.h[7],oe=this.h[8],Z=this.h[9],ne=this.h[10],fe=this.h[11],le=this.h[12],ke=this.h[13],X=this.h[14],G=this.h[15];t(this.k.length===g.length);for(var _e=0;_e<g.length;_e+=2){var Ae=X,Oe=G,qe=re(oe,Z),Ue=ie(oe,Z),ze=x(oe,Z,ne,fe,le),ge=P(oe,Z,ne,fe,le,ke),lt=this.k[_e],je=this.k[_e+1],Et=g[_e],ot=g[_e+1],Ve=l(Ae,Oe,qe,Ue,ze,ge,lt,je,Et,ot),Mt=y(Ae,Oe,qe,Ue,ze,ge,lt,je,Et,ot);Ae=z(A,I),Oe=W(A,I),qe=L(A,I,R,S,T),Ue=U(A,I,R,S,T,p);var dt=u(Ae,Oe,qe,Ue),Xe=h(Ae,Oe,qe,Ue);X=le,G=ke,le=ne,ke=fe,ne=oe,fe=Z,oe=u(B,ee,Ve,Mt),Z=h(ee,ee,Ve,Mt),B=T,ee=p,T=R,p=S,R=A,S=I,A=u(Ve,Mt,dt,Xe),I=h(Ve,Mt,dt,Xe)}c(this.h,0,A,I),c(this.h,2,R,S),c(this.h,4,T,p),c(this.h,6,B,ee),c(this.h,8,oe,Z),c(this.h,10,ne,fe),c(this.h,12,le,ke),c(this.h,14,X,G)},E.prototype._digest=function(s){return s==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function x(b,s,v,g,A){var I=b&v^~b&A;return I<0&&(I+=4294967296),I}function P(b,s,v,g,A,I){var R=s&g^~s&I;return R<0&&(R+=4294967296),R}function L(b,s,v,g,A){var I=b&v^b&A^v&A;return I<0&&(I+=4294967296),I}function U(b,s,v,g,A,I){var R=s&g^s&I^g&I;return R<0&&(R+=4294967296),R}function z(b,s){var v=n(b,s,28),g=n(s,b,2),A=n(s,b,7),I=v^g^A;return I<0&&(I+=4294967296),I}function W(b,s){var v=a(b,s,28),g=a(s,b,2),A=a(s,b,7),I=v^g^A;return I<0&&(I+=4294967296),I}function re(b,s){var v=n(b,s,14),g=n(b,s,18),A=n(s,b,9),I=v^g^A;return I<0&&(I+=4294967296),I}function ie(b,s){var v=a(b,s,14),g=a(b,s,18),A=a(s,b,9),I=v^g^A;return I<0&&(I+=4294967296),I}function se(b,s){var v=n(b,s,1),g=n(b,s,8),A=i(b,s,7),I=v^g^A;return I<0&&(I+=4294967296),I}function ve(b,s){var v=a(b,s,1),g=a(b,s,8),A=o(b,s,7),I=v^g^A;return I<0&&(I+=4294967296),I}function Q(b,s){var v=n(b,s,19),g=n(s,b,29),A=i(b,s,6),I=v^g^A;return I<0&&(I+=4294967296),I}function M(b,s){var v=a(b,s,19),g=a(s,b,29),A=o(b,s,6),I=v^g^A;return I<0&&(I+=4294967296),I}return bu}var mu,yp;function Sg(){if(yp)return mu;yp=1;var r=un(),e=vp();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),mu=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(a){return a==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},mu}var bp;function Eg(){return bp||(bp=1,Gn.sha1=_g(),Gn.sha224=xg(),Gn.sha256=lp(),Gn.sha384=Sg(),Gn.sha512=vp()),Gn}var gu={},mp;function Mg(){if(mp)return gu;mp=1;var r=un(),e=Vi(),t=r.rotl32,n=r.sum32,a=r.sum32_3,i=r.sum32_4,o=e.BlockHash;function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(c,o),gu.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(E,x){for(var P=this.h[0],L=this.h[1],U=this.h[2],z=this.h[3],W=this.h[4],re=P,ie=L,se=U,ve=z,Q=W,M=0;M<80;M++){var b=n(t(i(P,u(M,L,U,z),E[d[M]+x],h(M)),y[M]),W);P=W,W=z,z=t(U,10),U=L,L=b,b=n(t(i(re,u(79-M,ie,se,ve),E[l[M]+x],f(M)),m[M]),Q),re=Q,Q=ve,ve=t(se,10),se=ie,ie=b}b=a(this.h[1],U,ve),this.h[1]=a(this.h[2],z,Q),this.h[2]=a(this.h[3],W,re),this.h[3]=a(this.h[4],P,ie),this.h[4]=a(this.h[0],L,se),this.h[0]=b},c.prototype._digest=function(E){return E==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function u(w,E,x,P){return w<=15?E^x^P:w<=31?E&x|~E&P:w<=47?(E|~x)^P:w<=63?E&P|x&~P:E^(x|~P)}function h(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function f(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return gu}var wu,gp;function Ag(){if(gp)return wu;gp=1;var r=un(),e=Vr();function t(n,a,i){if(!(this instanceof t))return new t(n,a,i);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(a,i))}return wu=t,t.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),e(a.length<=this.blockSize);for(var i=a.length;i<this.blockSize;i++)a.push(0);for(i=0;i<a.length;i++)a[i]^=54;for(this.inner=new this.Hash().update(a),i=0;i<a.length;i++)a[i]^=106;this.outer=new this.Hash().update(a)},t.prototype.update=function(a,i){return this.inner.update(a,i),this},t.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},wu}var wp;function _u(){return wp||(wp=1,function(r){var e=r;e.utils=un(),e.common=Vi(),e.sha=Eg(),e.ripemd=Mg(),e.hmac=Ag(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(lu)),lu}var xu,_p;function Tg(){return _p||(_p=1,xu={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),xu}var xp;function Su(){return xp||(xp=1,function(r){var e=r,t=_u(),n=ap(),a=Kr(),i=a.assert;function o(h){h.type==="short"?this.curve=new n.short(h):h.type==="edwards"?this.curve=new n.edwards(h):this.curve=new n.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function c(h,f){Object.defineProperty(e,h,{configurable:!0,enumerable:!0,get:function(){var d=new o(f);return Object.defineProperty(e,h,{configurable:!0,enumerable:!0,value:d}),d}})}c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=Tg()}catch(h){u=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})}(hu)),hu}var Eu,Sp;function kg(){if(Sp)return Eu;Sp=1;var r=_u(),e=Xd(),t=Vr();function n(a){if(!(this instanceof n))return new n(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var i=e.toArray(a.entropy,a.entropyEnc||"hex"),o=e.toArray(a.nonce,a.nonceEnc||"hex"),c=e.toArray(a.pers,a.persEnc||"hex");t(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(i,o,c)}return Eu=n,n.prototype._init=function(i,o,c){var u=i.concat(o).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},n.prototype._update=function(i){var o=this._hmac().update(this.V).update([0]);i&&(o=o.update(i)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),i&&(this.K=this._hmac().update(this.V).update([1]).update(i).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(i,o,c,u){typeof o!="string"&&(u=c,c=o,o=null),i=e.toArray(i,o),c=e.toArray(c,u),t(i.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(i.concat(c||[])),this._reseed=1},n.prototype.generate=function(i,o,c,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&(u=c,c=o,o=null),c&&(c=e.toArray(c,u||"hex"),this._update(c));for(var h=[];h.length<i;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var f=h.slice(0,i);return this._update(c),this._reseed++,e.encode(f,o)},Eu}var Mu,Ep;function Ig(){if(Ep)return Mu;Ep=1;var r=Er(),e=Kr(),t=e.assert;function n(a,i){this.ec=a,this.priv=null,this.pub=null,i.priv&&this._importPrivate(i.priv,i.privEnc),i.pub&&this._importPublic(i.pub,i.pubEnc)}return Mu=n,n.fromPublic=function(i,o,c){return o instanceof n?o:new n(i,{pub:o,pubEnc:c})},n.fromPrivate=function(i,o,c){return o instanceof n?o:new n(i,{priv:o,privEnc:c})},n.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(i,o){return typeof i=="string"&&(o=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,i):this.pub},n.prototype.getPrivate=function(i){return i==="hex"?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(i,o){this.priv=new r(i,o||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(i,o){if(i.x||i.y){this.ec.curve.type==="mont"?t(i.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&t(i.x&&i.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(i.x,i.y);return}this.pub=this.ec.curve.decodePoint(i,o)},n.prototype.derive=function(i){return i.validate()||t(i.validate(),"public point not validated"),i.mul(this.priv).getX()},n.prototype.sign=function(i,o,c){return this.ec.sign(i,this,o,c)},n.prototype.verify=function(i,o){return this.ec.verify(i,o,this)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},Mu}var Au,Mp;function Rg(){if(Mp)return Au;Mp=1;var r=Er(),e=Kr(),t=e.assert;function n(u,h){if(u instanceof n)return u;this._importDER(u,h)||(t(u.r&&u.s,"Signature without r or s"),this.r=new r(u.r,16),this.s=new r(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}Au=n;function a(){this.place=0}function i(u,h){var f=u[h.place++];if(!(f&128))return f;var d=f&15;if(d===0||d>4)return!1;for(var l=0,y=0,m=h.place;y<d;y++,m++)l<<=8,l|=u[m],l>>>=0;return l<=127?!1:(h.place=m,l)}function o(u){for(var h=0,f=u.length-1;!u[h]&&!(u[h+1]&128)&&h<f;)h++;return h===0?u:u.slice(h)}n.prototype._importDER=function(h,f){h=e.toArray(h,f);var d=new a;if(h[d.place++]!==48)return!1;var l=i(h,d);if(l===!1||l+d.place!==h.length||h[d.place++]!==2)return!1;var y=i(h,d);if(y===!1)return!1;var m=h.slice(d.place,y+d.place);if(d.place+=y,h[d.place++]!==2)return!1;var w=i(h,d);if(w===!1||h.length!==w+d.place)return!1;var E=h.slice(d.place,w+d.place);if(m[0]===0)if(m[1]&128)m=m.slice(1);else return!1;if(E[0]===0)if(E[1]&128)E=E.slice(1);else return!1;return this.r=new r(m),this.s=new r(E),this.recoveryParam=null,!0};function c(u,h){if(h<128){u.push(h);return}var f=1+(Math.log(h)/Math.LN2>>>3);for(u.push(f|128);--f;)u.push(h>>>(f<<3)&255);u.push(h)}return n.prototype.toDER=function(h){var f=this.r.toArray(),d=this.s.toArray();for(f[0]&128&&(f=[0].concat(f)),d[0]&128&&(d=[0].concat(d)),f=o(f),d=o(d);!d[0]&&!(d[1]&128);)d=d.slice(1);var l=[2];c(l,f.length),l=l.concat(f),l.push(2),c(l,d.length);var y=l.concat(d),m=[48];return c(m,y.length),m=m.concat(y),e.encode(m,h)},Au}var Tu,Ap;function Cg(){if(Ap)return Tu;Ap=1;var r=Er(),e=kg(),t=Kr(),n=Su(),a=Yf(),i=t.assert,o=Ig(),c=Rg();function u(h){if(!(this instanceof u))return new u(h);typeof h=="string"&&(i(Object.prototype.hasOwnProperty.call(n,h),"Unknown curve "+h),h=n[h]),h instanceof n.PresetCurve&&(h={curve:h}),this.curve=h.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=h.curve.g,this.g.precompute(h.curve.n.bitLength()+1),this.hash=h.hash||h.curve.hash}return Tu=u,u.prototype.keyPair=function(f){return new o(this,f)},u.prototype.keyFromPrivate=function(f,d){return o.fromPrivate(this,f,d)},u.prototype.keyFromPublic=function(f,d){return o.fromPublic(this,f,d)},u.prototype.genKeyPair=function(f){f||(f={});for(var d=new e({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||a(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),l=this.n.byteLength(),y=this.n.sub(new r(2));;){var m=new r(d.generate(l));if(!(m.cmp(y)>0))return m.iaddn(1),this.keyFromPrivate(m)}},u.prototype._truncateToN=function(f,d){var l=f.byteLength()*8-this.n.bitLength();return l>0&&(f=f.ushrn(l)),!d&&f.cmp(this.n)>=0?f.sub(this.n):f},u.prototype.sign=function(f,d,l,y){typeof l=="object"&&(y=l,l=null),y||(y={}),d=this.keyFromPrivate(d,l),f=this._truncateToN(new r(f,16));for(var m=this.n.byteLength(),w=d.getPrivate().toArray("be",m),E=f.toArray("be",m),x=new e({hash:this.hash,entropy:w,nonce:E,pers:y.pers,persEnc:y.persEnc||"utf8"}),P=this.n.sub(new r(1)),L=0;;L++){var U=y.k?y.k(L):new r(x.generate(this.n.byteLength()));if(U=this._truncateToN(U,!0),!(U.cmpn(1)<=0||U.cmp(P)>=0)){var z=this.g.mul(U);if(!z.isInfinity()){var W=z.getX(),re=W.umod(this.n);if(re.cmpn(0)!==0){var ie=U.invm(this.n).mul(re.mul(d.getPrivate()).iadd(f));if(ie=ie.umod(this.n),ie.cmpn(0)!==0){var se=(z.getY().isOdd()?1:0)|(W.cmp(re)!==0?2:0);return y.canonical&&ie.cmp(this.nh)>0&&(ie=this.n.sub(ie),se^=1),new c({r:re,s:ie,recoveryParam:se})}}}}}},u.prototype.verify=function(f,d,l,y){f=this._truncateToN(new r(f,16)),l=this.keyFromPublic(l,y),d=new c(d,"hex");var m=d.r,w=d.s;if(m.cmpn(1)<0||m.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var E=w.invm(this.n),x=E.mul(f).umod(this.n),P=E.mul(m).umod(this.n),L;return this.curve._maxwellTrick?(L=this.g.jmulAdd(x,l.getPublic(),P),L.isInfinity()?!1:L.eqXToP(m)):(L=this.g.mulAdd(x,l.getPublic(),P),L.isInfinity()?!1:L.getX().umod(this.n).cmp(m)===0)},u.prototype.recoverPubKey=function(h,f,d,l){i((3&d)===d,"The recovery param is more than two bits"),f=new c(f,l);var y=this.n,m=new r(h),w=f.r,E=f.s,x=d&1,P=d>>1;if(w.cmp(this.curve.p.umod(this.curve.n))>=0&&P)throw new Error("Unable to find sencond key candinate");P?w=this.curve.pointFromX(w.add(this.curve.n),x):w=this.curve.pointFromX(w,x);var L=f.r.invm(y),U=y.sub(m).mul(L).umod(y),z=E.mul(L).umod(y);return this.g.mulAdd(U,w,z)},u.prototype.getKeyRecoveryParam=function(h,f,d,l){if(f=new c(f,l),f.recoveryParam!==null)return f.recoveryParam;for(var y=0;y<4;y++){var m;try{m=this.recoverPubKey(h,f,y)}catch(w){continue}if(m.eq(d))return y}throw new Error("Unable to find valid recovery factor")},Tu}var ku,Tp;function Og(){if(Tp)return ku;Tp=1;var r=Kr(),e=r.assert,t=r.parseBytes,n=r.cachedProperty;function a(i,o){this.eddsa=i,this._secret=t(o.secret),i.isPoint(o.pub)?this._pub=o.pub:this._pubBytes=t(o.pub)}return a.fromPublic=function(o,c){return c instanceof a?c:new a(o,{pub:c})},a.fromSecret=function(o,c){return c instanceof a?c:new a(o,{secret:c})},a.prototype.secret=function(){return this._secret},n(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(a,"privBytes",function(){var o=this.eddsa,c=this.hash(),u=o.encodingLength-1,h=c.slice(0,o.encodingLength);return h[0]&=248,h[u]&=127,h[u]|=64,h}),n(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(o){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(o,this)},a.prototype.verify=function(o,c){return this.eddsa.verify(o,c,this)},a.prototype.getSecret=function(o){return e(this._secret,"KeyPair is public only"),r.encode(this.secret(),o)},a.prototype.getPublic=function(o){return r.encode(this.pubBytes(),o)},ku=a,ku}var Iu,kp;function Bg(){if(kp)return Iu;kp=1;var r=Er(),e=Kr(),t=e.assert,n=e.cachedProperty,a=e.parseBytes;function i(o,c){this.eddsa=o,typeof c!="object"&&(c=a(c)),Array.isArray(c)&&(c={R:c.slice(0,o.encodingLength),S:c.slice(o.encodingLength)}),t(c.R&&c.S,"Signature without R or S"),o.isPoint(c.R)&&(this._R=c.R),c.S instanceof r&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}return n(i,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(i,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(i,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(i,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),i.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},i.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},Iu=i,Iu}var Ru,Ip;function Pg(){if(Ip)return Ru;Ip=1;var r=_u(),e=Su(),t=Kr(),n=t.assert,a=t.parseBytes,i=Og(),o=Bg();function c(u){if(n(u==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(u);u=e[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=r.sha512}return Ru=c,c.prototype.sign=function(h,f){h=a(h);var d=this.keyFromSecret(f),l=this.hashInt(d.messagePrefix(),h),y=this.g.mul(l),m=this.encodePoint(y),w=this.hashInt(m,d.pubBytes(),h).mul(d.priv()),E=l.add(w).umod(this.curve.n);return this.makeSignature({R:y,S:E,Rencoded:m})},c.prototype.verify=function(h,f,d){h=a(h),f=this.makeSignature(f);var l=this.keyFromPublic(d),y=this.hashInt(f.Rencoded(),l.pubBytes(),h),m=this.g.mul(f.S()),w=f.R().add(l.pub().mul(y));return w.eq(m)},c.prototype.hashInt=function(){for(var h=this.hash(),f=0;f<arguments.length;f++)h.update(arguments[f]);return t.intFromLE(h.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(h){return i.fromPublic(this,h)},c.prototype.keyFromSecret=function(h){return i.fromSecret(this,h)},c.prototype.makeSignature=function(h){return h instanceof o?h:new o(this,h)},c.prototype.encodePoint=function(h){var f=h.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=h.getX().isOdd()?128:0,f},c.prototype.decodePoint=function(h){h=t.parseBytes(h);var f=h.length-1,d=h.slice(0,f).concat(h[f]&-129),l=(h[f]&128)!==0,y=t.intFromLE(d);return this.curve.pointFromY(y,l)},c.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(h){return t.intFromLE(h)},c.prototype.isPoint=function(h){return h instanceof this.pointClass},Ru}var Rp;function Cu(){return Rp||(Rp=1,function(r){var e=r;e.version=bg.version,e.utils=Kr(),e.rand=Yf(),e.curve=ap(),e.curves=Su(),e.ec=Cg(),e.eddsa=Pg()}(nu)),nu}var to={exports:{}};to.exports;var Cp;function Op(){return Cp||(Cp=1,function(r){(function(e,t){function n(b,s){if(!b)throw new Error(s||"Assertion failed")}function a(b,s){b.super_=s;var v=function(){};v.prototype=s.prototype,b.prototype=new v,b.prototype.constructor=b}function i(b,s,v){if(i.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((s==="le"||s==="be")&&(v=s,s=10),this._init(b||0,s||10,v||"be"))}typeof e=="object"?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?o=window.Buffer:o=wn.Buffer}catch(b){}i.isBN=function(s){return s instanceof i?!0:s!==null&&typeof s=="object"&&s.constructor.wordSize===i.wordSize&&Array.isArray(s.words)},i.max=function(s,v){return s.cmp(v)>0?s:v},i.min=function(s,v){return s.cmp(v)<0?s:v},i.prototype._init=function(s,v,g){if(typeof s=="number")return this._initNumber(s,v,g);if(typeof s=="object")return this._initArray(s,v,g);v==="hex"&&(v=16),n(v===(v|0)&&v>=2&&v<=36),s=s.toString().replace(/\s+/g,"");var A=0;s[0]==="-"&&(A++,this.negative=1),A<s.length&&(v===16?this._parseHex(s,A,g):(this._parseBase(s,v,A),g==="le"&&this._initArray(this.toArray(),v,g)))},i.prototype._initNumber=function(s,v,g){s<0&&(this.negative=1,s=-s),s<67108864?(this.words=[s&67108863],this.length=1):s<4503599627370496?(this.words=[s&67108863,s/67108864&67108863],this.length=2):(n(s<9007199254740992),this.words=[s&67108863,s/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),v,g)},i.prototype._initArray=function(s,v,g){if(n(typeof s.length=="number"),s.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(s.length/3),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var I,R,S=0;if(g==="be")for(A=s.length-1,I=0;A>=0;A-=3)R=s[A]|s[A-1]<<8|s[A-2]<<16,this.words[I]|=R<<S&67108863,this.words[I+1]=R>>>26-S&67108863,S+=24,S>=26&&(S-=26,I++);else if(g==="le")for(A=0,I=0;A<s.length;A+=3)R=s[A]|s[A+1]<<8|s[A+2]<<16,this.words[I]|=R<<S&67108863,this.words[I+1]=R>>>26-S&67108863,S+=24,S>=26&&(S-=26,I++);return this._strip()};function c(b,s){var v=b.charCodeAt(s);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;n(!1,"Invalid character in "+b)}function u(b,s,v){var g=c(b,v);return v-1>=s&&(g|=c(b,v-1)<<4),g}i.prototype._parseHex=function(s,v,g){this.length=Math.ceil((s.length-v)/6),this.words=new Array(this.length);for(var A=0;A<this.length;A++)this.words[A]=0;var I=0,R=0,S;if(g==="be")for(A=s.length-1;A>=v;A-=2)S=u(s,v,A)<<I,this.words[R]|=S&67108863,I>=18?(I-=18,R+=1,this.words[R]|=S>>>26):I+=8;else{var T=s.length-v;for(A=T%2===0?v+1:v;A<s.length;A+=2)S=u(s,v,A)<<I,this.words[R]|=S&67108863,I>=18?(I-=18,R+=1,this.words[R]|=S>>>26):I+=8}this._strip()};function h(b,s,v,g){for(var A=0,I=0,R=Math.min(b.length,v),S=s;S<R;S++){var T=b.charCodeAt(S)-48;A*=g,T>=49?I=T-49+10:T>=17?I=T-17+10:I=T,n(T>=0&&I<g,"Invalid character"),A+=I}return A}i.prototype._parseBase=function(s,v,g){this.words=[0],this.length=1;for(var A=0,I=1;I<=67108863;I*=v)A++;A--,I=I/v|0;for(var R=s.length-g,S=R%A,T=Math.min(R,R-S)+g,p=0,B=g;B<T;B+=A)p=h(s,B,B+A,v),this.imuln(I),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p);if(S!==0){var ee=1;for(p=h(s,B,s.length,v),B=0;B<S;B++)ee*=v;this.imuln(ee),this.words[0]+p<67108864?this.words[0]+=p:this._iaddn(p)}this._strip()},i.prototype.copy=function(s){s.words=new Array(this.length);for(var v=0;v<this.length;v++)s.words[v]=this.words[v];s.length=this.length,s.negative=this.negative,s.red=this.red};function f(b,s){b.words=s.words,b.length=s.length,b.negative=s.negative,b.red=s.red}if(i.prototype._move=function(s){f(s,this)},i.prototype.clone=function(){var s=new i(null);return this.copy(s),s},i.prototype._expand=function(s){for(;this.length<s;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol!="undefined"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(b){i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(s,v){s=s||10,v=v|0||1;var g;if(s===16||s==="hex"){g="";for(var A=0,I=0,R=0;R<this.length;R++){var S=this.words[R],T=((S<<A|I)&16777215).toString(16);I=S>>>24-A&16777215,A+=2,A>=26&&(A-=26,R--),I!==0||R!==this.length-1?g=l[6-T.length]+T+g:g=T+g}for(I!==0&&(g=I.toString(16)+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(s===(s|0)&&s>=2&&s<=36){var p=y[s],B=m[s];g="";var ee=this.clone();for(ee.negative=0;!ee.isZero();){var oe=ee.modrn(B).toString(s);ee=ee.idivn(B),ee.isZero()?g=oe+g:g=l[p-oe.length]+oe+g}for(this.isZero()&&(g="0"+g);g.length%v!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var s=this.words[0];return this.length===2?s+=this.words[1]*67108864:this.length===3&&this.words[2]===1?s+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-s:s},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(s,v){return this.toArrayLike(o,s,v)}),i.prototype.toArray=function(s,v){return this.toArrayLike(Array,s,v)};var w=function(s,v){return s.allocUnsafe?s.allocUnsafe(v):new s(v)};i.prototype.toArrayLike=function(s,v,g){this._strip();var A=this.byteLength(),I=g||Math.max(1,A);n(A<=I,"byte array longer than desired length"),n(I>0,"Requested array length <= 0");var R=w(s,I),S=v==="le"?"LE":"BE";return this["_toArrayLike"+S](R,A),R},i.prototype._toArrayLikeLE=function(s,v){for(var g=0,A=0,I=0,R=0;I<this.length;I++){var S=this.words[I]<<R|A;s[g++]=S&255,g<s.length&&(s[g++]=S>>8&255),g<s.length&&(s[g++]=S>>16&255),R===6?(g<s.length&&(s[g++]=S>>24&255),A=0,R=0):(A=S>>>24,R+=2)}if(g<s.length)for(s[g++]=A;g<s.length;)s[g++]=0},i.prototype._toArrayLikeBE=function(s,v){for(var g=s.length-1,A=0,I=0,R=0;I<this.length;I++){var S=this.words[I]<<R|A;s[g--]=S&255,g>=0&&(s[g--]=S>>8&255),g>=0&&(s[g--]=S>>16&255),R===6?(g>=0&&(s[g--]=S>>24&255),A=0,R=0):(A=S>>>24,R+=2)}if(g>=0)for(s[g--]=A;g>=0;)s[g--]=0},Math.clz32?i.prototype._countBits=function(s){return 32-Math.clz32(s)}:i.prototype._countBits=function(s){var v=s,g=0;return v>=4096&&(g+=13,v>>>=13),v>=64&&(g+=7,v>>>=7),v>=8&&(g+=4,v>>>=4),v>=2&&(g+=2,v>>>=2),g+v},i.prototype._zeroBits=function(s){if(s===0)return 26;var v=s,g=0;return v&8191||(g+=13,v>>>=13),v&127||(g+=7,v>>>=7),v&15||(g+=4,v>>>=4),v&3||(g+=2,v>>>=2),v&1||g++,g},i.prototype.bitLength=function(){var s=this.words[this.length-1],v=this._countBits(s);return(this.length-1)*26+v};function E(b){for(var s=new Array(b.bitLength()),v=0;v<s.length;v++){var g=v/26|0,A=v%26;s[v]=b.words[g]>>>A&1}return s}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var s=0,v=0;v<this.length;v++){var g=this._zeroBits(this.words[v]);if(s+=g,g!==26)break}return s},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(s){return this.negative!==0?this.abs().inotn(s).iaddn(1):this.clone()},i.prototype.fromTwos=function(s){return this.testn(s-1)?this.notn(s).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(s){for(;this.length<s.length;)this.words[this.length++]=0;for(var v=0;v<s.length;v++)this.words[v]=this.words[v]|s.words[v];return this._strip()},i.prototype.ior=function(s){return n((this.negative|s.negative)===0),this.iuor(s)},i.prototype.or=function(s){return this.length>s.length?this.clone().ior(s):s.clone().ior(this)},i.prototype.uor=function(s){return this.length>s.length?this.clone().iuor(s):s.clone().iuor(this)},i.prototype.iuand=function(s){var v;this.length>s.length?v=s:v=this;for(var g=0;g<v.length;g++)this.words[g]=this.words[g]&s.words[g];return this.length=v.length,this._strip()},i.prototype.iand=function(s){return n((this.negative|s.negative)===0),this.iuand(s)},i.prototype.and=function(s){return this.length>s.length?this.clone().iand(s):s.clone().iand(this)},i.prototype.uand=function(s){return this.length>s.length?this.clone().iuand(s):s.clone().iuand(this)},i.prototype.iuxor=function(s){var v,g;this.length>s.length?(v=this,g=s):(v=s,g=this);for(var A=0;A<g.length;A++)this.words[A]=v.words[A]^g.words[A];if(this!==v)for(;A<v.length;A++)this.words[A]=v.words[A];return this.length=v.length,this._strip()},i.prototype.ixor=function(s){return n((this.negative|s.negative)===0),this.iuxor(s)},i.prototype.xor=function(s){return this.length>s.length?this.clone().ixor(s):s.clone().ixor(this)},i.prototype.uxor=function(s){return this.length>s.length?this.clone().iuxor(s):s.clone().iuxor(this)},i.prototype.inotn=function(s){n(typeof s=="number"&&s>=0);var v=Math.ceil(s/26)|0,g=s%26;this._expand(v),g>0&&v--;for(var A=0;A<v;A++)this.words[A]=~this.words[A]&67108863;return g>0&&(this.words[A]=~this.words[A]&67108863>>26-g),this._strip()},i.prototype.notn=function(s){return this.clone().inotn(s)},i.prototype.setn=function(s,v){n(typeof s=="number"&&s>=0);var g=s/26|0,A=s%26;return this._expand(g+1),v?this.words[g]=this.words[g]|1<<A:this.words[g]=this.words[g]&~(1<<A),this._strip()},i.prototype.iadd=function(s){var v;if(this.negative!==0&&s.negative===0)return this.negative=0,v=this.isub(s),this.negative^=1,this._normSign();if(this.negative===0&&s.negative!==0)return s.negative=0,v=this.isub(s),s.negative=1,v._normSign();var g,A;this.length>s.length?(g=this,A=s):(g=s,A=this);for(var I=0,R=0;R<A.length;R++)v=(g.words[R]|0)+(A.words[R]|0)+I,this.words[R]=v&67108863,I=v>>>26;for(;I!==0&&R<g.length;R++)v=(g.words[R]|0)+I,this.words[R]=v&67108863,I=v>>>26;if(this.length=g.length,I!==0)this.words[this.length]=I,this.length++;else if(g!==this)for(;R<g.length;R++)this.words[R]=g.words[R];return this},i.prototype.add=function(s){var v;return s.negative!==0&&this.negative===0?(s.negative=0,v=this.sub(s),s.negative^=1,v):s.negative===0&&this.negative!==0?(this.negative=0,v=s.sub(this),this.negative=1,v):this.length>s.length?this.clone().iadd(s):s.clone().iadd(this)},i.prototype.isub=function(s){if(s.negative!==0){s.negative=0;var v=this.iadd(s);return s.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(s),this.negative=1,this._normSign();var g=this.cmp(s);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var A,I;g>0?(A=this,I=s):(A=s,I=this);for(var R=0,S=0;S<I.length;S++)v=(A.words[S]|0)-(I.words[S]|0)+R,R=v>>26,this.words[S]=v&67108863;for(;R!==0&&S<A.length;S++)v=(A.words[S]|0)+R,R=v>>26,this.words[S]=v&67108863;if(R===0&&S<A.length&&A!==this)for(;S<A.length;S++)this.words[S]=A.words[S];return this.length=Math.max(this.length,S),A!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(s){return this.clone().isub(s)};function x(b,s,v){v.negative=s.negative^b.negative;var g=b.length+s.length|0;v.length=g,g=g-1|0;var A=b.words[0]|0,I=s.words[0]|0,R=A*I,S=R&67108863,T=R/67108864|0;v.words[0]=S;for(var p=1;p<g;p++){for(var B=T>>>26,ee=T&67108863,oe=Math.min(p,s.length-1),Z=Math.max(0,p-b.length+1);Z<=oe;Z++){var ne=p-Z|0;A=b.words[ne]|0,I=s.words[Z]|0,R=A*I+ee,B+=R/67108864|0,ee=R&67108863}v.words[p]=ee|0,T=B|0}return T!==0?v.words[p]=T|0:v.length--,v._strip()}var P=function(s,v,g){var A=s.words,I=v.words,R=g.words,S=0,T,p,B,ee=A[0]|0,oe=ee&8191,Z=ee>>>13,ne=A[1]|0,fe=ne&8191,le=ne>>>13,ke=A[2]|0,X=ke&8191,G=ke>>>13,_e=A[3]|0,Ae=_e&8191,Oe=_e>>>13,qe=A[4]|0,Ue=qe&8191,ze=qe>>>13,ge=A[5]|0,lt=ge&8191,je=ge>>>13,Et=A[6]|0,ot=Et&8191,Ve=Et>>>13,Mt=A[7]|0,dt=Mt&8191,Xe=Mt>>>13,st=A[8]|0,gt=st&8191,K=st>>>13,q=A[9]|0,F=q&8191,J=q>>>13,he=I[0]|0,de=he&8191,pe=he>>>13,Je=I[1]|0,tt=Je&8191,Ne=Je>>>13,St=I[2]|0,rt=St&8191,pt=St>>>13,er=I[3]|0,mt=er&8191,at=er>>>13,jt=I[4]|0,_t=jt&8191,ft=jt>>>13,Yt=I[5]|0,Tt=Yt&8191,Ze=Yt>>>13,$t=I[6]|0,$=$t&8191,N=$t>>>13,D=I[7]|0,_=D&8191,j=D>>>13,Y=I[8]|0,ae=Y&8191,ce=Y>>>13,me=I[9]|0,Me=me&8191,Se=me>>>13;g.negative=s.negative^v.negative,g.length=19,T=Math.imul(oe,de),p=Math.imul(oe,pe),p=p+Math.imul(Z,de)|0,B=Math.imul(Z,pe);var Ge=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,T=Math.imul(fe,de),p=Math.imul(fe,pe),p=p+Math.imul(le,de)|0,B=Math.imul(le,pe),T=T+Math.imul(oe,tt)|0,p=p+Math.imul(oe,Ne)|0,p=p+Math.imul(Z,tt)|0,B=B+Math.imul(Z,Ne)|0;var Be=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Be>>>26)|0,Be&=67108863,T=Math.imul(X,de),p=Math.imul(X,pe),p=p+Math.imul(G,de)|0,B=Math.imul(G,pe),T=T+Math.imul(fe,tt)|0,p=p+Math.imul(fe,Ne)|0,p=p+Math.imul(le,tt)|0,B=B+Math.imul(le,Ne)|0,T=T+Math.imul(oe,rt)|0,p=p+Math.imul(oe,pt)|0,p=p+Math.imul(Z,rt)|0,B=B+Math.imul(Z,pt)|0;var Ye=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,T=Math.imul(Ae,de),p=Math.imul(Ae,pe),p=p+Math.imul(Oe,de)|0,B=Math.imul(Oe,pe),T=T+Math.imul(X,tt)|0,p=p+Math.imul(X,Ne)|0,p=p+Math.imul(G,tt)|0,B=B+Math.imul(G,Ne)|0,T=T+Math.imul(fe,rt)|0,p=p+Math.imul(fe,pt)|0,p=p+Math.imul(le,rt)|0,B=B+Math.imul(le,pt)|0,T=T+Math.imul(oe,mt)|0,p=p+Math.imul(oe,at)|0,p=p+Math.imul(Z,mt)|0,B=B+Math.imul(Z,at)|0;var Pe=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,T=Math.imul(Ue,de),p=Math.imul(Ue,pe),p=p+Math.imul(ze,de)|0,B=Math.imul(ze,pe),T=T+Math.imul(Ae,tt)|0,p=p+Math.imul(Ae,Ne)|0,p=p+Math.imul(Oe,tt)|0,B=B+Math.imul(Oe,Ne)|0,T=T+Math.imul(X,rt)|0,p=p+Math.imul(X,pt)|0,p=p+Math.imul(G,rt)|0,B=B+Math.imul(G,pt)|0,T=T+Math.imul(fe,mt)|0,p=p+Math.imul(fe,at)|0,p=p+Math.imul(le,mt)|0,B=B+Math.imul(le,at)|0,T=T+Math.imul(oe,_t)|0,p=p+Math.imul(oe,ft)|0,p=p+Math.imul(Z,_t)|0,B=B+Math.imul(Z,ft)|0;var et=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(et>>>26)|0,et&=67108863,T=Math.imul(lt,de),p=Math.imul(lt,pe),p=p+Math.imul(je,de)|0,B=Math.imul(je,pe),T=T+Math.imul(Ue,tt)|0,p=p+Math.imul(Ue,Ne)|0,p=p+Math.imul(ze,tt)|0,B=B+Math.imul(ze,Ne)|0,T=T+Math.imul(Ae,rt)|0,p=p+Math.imul(Ae,pt)|0,p=p+Math.imul(Oe,rt)|0,B=B+Math.imul(Oe,pt)|0,T=T+Math.imul(X,mt)|0,p=p+Math.imul(X,at)|0,p=p+Math.imul(G,mt)|0,B=B+Math.imul(G,at)|0,T=T+Math.imul(fe,_t)|0,p=p+Math.imul(fe,ft)|0,p=p+Math.imul(le,_t)|0,B=B+Math.imul(le,ft)|0,T=T+Math.imul(oe,Tt)|0,p=p+Math.imul(oe,Ze)|0,p=p+Math.imul(Z,Tt)|0,B=B+Math.imul(Z,Ze)|0;var nt=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(nt>>>26)|0,nt&=67108863,T=Math.imul(ot,de),p=Math.imul(ot,pe),p=p+Math.imul(Ve,de)|0,B=Math.imul(Ve,pe),T=T+Math.imul(lt,tt)|0,p=p+Math.imul(lt,Ne)|0,p=p+Math.imul(je,tt)|0,B=B+Math.imul(je,Ne)|0,T=T+Math.imul(Ue,rt)|0,p=p+Math.imul(Ue,pt)|0,p=p+Math.imul(ze,rt)|0,B=B+Math.imul(ze,pt)|0,T=T+Math.imul(Ae,mt)|0,p=p+Math.imul(Ae,at)|0,p=p+Math.imul(Oe,mt)|0,B=B+Math.imul(Oe,at)|0,T=T+Math.imul(X,_t)|0,p=p+Math.imul(X,ft)|0,p=p+Math.imul(G,_t)|0,B=B+Math.imul(G,ft)|0,T=T+Math.imul(fe,Tt)|0,p=p+Math.imul(fe,Ze)|0,p=p+Math.imul(le,Tt)|0,B=B+Math.imul(le,Ze)|0,T=T+Math.imul(oe,$)|0,p=p+Math.imul(oe,N)|0,p=p+Math.imul(Z,$)|0,B=B+Math.imul(Z,N)|0;var Qe=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,T=Math.imul(dt,de),p=Math.imul(dt,pe),p=p+Math.imul(Xe,de)|0,B=Math.imul(Xe,pe),T=T+Math.imul(ot,tt)|0,p=p+Math.imul(ot,Ne)|0,p=p+Math.imul(Ve,tt)|0,B=B+Math.imul(Ve,Ne)|0,T=T+Math.imul(lt,rt)|0,p=p+Math.imul(lt,pt)|0,p=p+Math.imul(je,rt)|0,B=B+Math.imul(je,pt)|0,T=T+Math.imul(Ue,mt)|0,p=p+Math.imul(Ue,at)|0,p=p+Math.imul(ze,mt)|0,B=B+Math.imul(ze,at)|0,T=T+Math.imul(Ae,_t)|0,p=p+Math.imul(Ae,ft)|0,p=p+Math.imul(Oe,_t)|0,B=B+Math.imul(Oe,ft)|0,T=T+Math.imul(X,Tt)|0,p=p+Math.imul(X,Ze)|0,p=p+Math.imul(G,Tt)|0,B=B+Math.imul(G,Ze)|0,T=T+Math.imul(fe,$)|0,p=p+Math.imul(fe,N)|0,p=p+Math.imul(le,$)|0,B=B+Math.imul(le,N)|0,T=T+Math.imul(oe,_)|0,p=p+Math.imul(oe,j)|0,p=p+Math.imul(Z,_)|0,B=B+Math.imul(Z,j)|0;var vt=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(vt>>>26)|0,vt&=67108863,T=Math.imul(gt,de),p=Math.imul(gt,pe),p=p+Math.imul(K,de)|0,B=Math.imul(K,pe),T=T+Math.imul(dt,tt)|0,p=p+Math.imul(dt,Ne)|0,p=p+Math.imul(Xe,tt)|0,B=B+Math.imul(Xe,Ne)|0,T=T+Math.imul(ot,rt)|0,p=p+Math.imul(ot,pt)|0,p=p+Math.imul(Ve,rt)|0,B=B+Math.imul(Ve,pt)|0,T=T+Math.imul(lt,mt)|0,p=p+Math.imul(lt,at)|0,p=p+Math.imul(je,mt)|0,B=B+Math.imul(je,at)|0,T=T+Math.imul(Ue,_t)|0,p=p+Math.imul(Ue,ft)|0,p=p+Math.imul(ze,_t)|0,B=B+Math.imul(ze,ft)|0,T=T+Math.imul(Ae,Tt)|0,p=p+Math.imul(Ae,Ze)|0,p=p+Math.imul(Oe,Tt)|0,B=B+Math.imul(Oe,Ze)|0,T=T+Math.imul(X,$)|0,p=p+Math.imul(X,N)|0,p=p+Math.imul(G,$)|0,B=B+Math.imul(G,N)|0,T=T+Math.imul(fe,_)|0,p=p+Math.imul(fe,j)|0,p=p+Math.imul(le,_)|0,B=B+Math.imul(le,j)|0,T=T+Math.imul(oe,ae)|0,p=p+Math.imul(oe,ce)|0,p=p+Math.imul(Z,ae)|0,B=B+Math.imul(Z,ce)|0;var ut=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(ut>>>26)|0,ut&=67108863,T=Math.imul(F,de),p=Math.imul(F,pe),p=p+Math.imul(J,de)|0,B=Math.imul(J,pe),T=T+Math.imul(gt,tt)|0,p=p+Math.imul(gt,Ne)|0,p=p+Math.imul(K,tt)|0,B=B+Math.imul(K,Ne)|0,T=T+Math.imul(dt,rt)|0,p=p+Math.imul(dt,pt)|0,p=p+Math.imul(Xe,rt)|0,B=B+Math.imul(Xe,pt)|0,T=T+Math.imul(ot,mt)|0,p=p+Math.imul(ot,at)|0,p=p+Math.imul(Ve,mt)|0,B=B+Math.imul(Ve,at)|0,T=T+Math.imul(lt,_t)|0,p=p+Math.imul(lt,ft)|0,p=p+Math.imul(je,_t)|0,B=B+Math.imul(je,ft)|0,T=T+Math.imul(Ue,Tt)|0,p=p+Math.imul(Ue,Ze)|0,p=p+Math.imul(ze,Tt)|0,B=B+Math.imul(ze,Ze)|0,T=T+Math.imul(Ae,$)|0,p=p+Math.imul(Ae,N)|0,p=p+Math.imul(Oe,$)|0,B=B+Math.imul(Oe,N)|0,T=T+Math.imul(X,_)|0,p=p+Math.imul(X,j)|0,p=p+Math.imul(G,_)|0,B=B+Math.imul(G,j)|0,T=T+Math.imul(fe,ae)|0,p=p+Math.imul(fe,ce)|0,p=p+Math.imul(le,ae)|0,B=B+Math.imul(le,ce)|0,T=T+Math.imul(oe,Me)|0,p=p+Math.imul(oe,Se)|0,p=p+Math.imul(Z,Me)|0,B=B+Math.imul(Z,Se)|0;var Le=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Le>>>26)|0,Le&=67108863,T=Math.imul(F,tt),p=Math.imul(F,Ne),p=p+Math.imul(J,tt)|0,B=Math.imul(J,Ne),T=T+Math.imul(gt,rt)|0,p=p+Math.imul(gt,pt)|0,p=p+Math.imul(K,rt)|0,B=B+Math.imul(K,pt)|0,T=T+Math.imul(dt,mt)|0,p=p+Math.imul(dt,at)|0,p=p+Math.imul(Xe,mt)|0,B=B+Math.imul(Xe,at)|0,T=T+Math.imul(ot,_t)|0,p=p+Math.imul(ot,ft)|0,p=p+Math.imul(Ve,_t)|0,B=B+Math.imul(Ve,ft)|0,T=T+Math.imul(lt,Tt)|0,p=p+Math.imul(lt,Ze)|0,p=p+Math.imul(je,Tt)|0,B=B+Math.imul(je,Ze)|0,T=T+Math.imul(Ue,$)|0,p=p+Math.imul(Ue,N)|0,p=p+Math.imul(ze,$)|0,B=B+Math.imul(ze,N)|0,T=T+Math.imul(Ae,_)|0,p=p+Math.imul(Ae,j)|0,p=p+Math.imul(Oe,_)|0,B=B+Math.imul(Oe,j)|0,T=T+Math.imul(X,ae)|0,p=p+Math.imul(X,ce)|0,p=p+Math.imul(G,ae)|0,B=B+Math.imul(G,ce)|0,T=T+Math.imul(fe,Me)|0,p=p+Math.imul(fe,Se)|0,p=p+Math.imul(le,Me)|0,B=B+Math.imul(le,Se)|0;var it=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(it>>>26)|0,it&=67108863,T=Math.imul(F,rt),p=Math.imul(F,pt),p=p+Math.imul(J,rt)|0,B=Math.imul(J,pt),T=T+Math.imul(gt,mt)|0,p=p+Math.imul(gt,at)|0,p=p+Math.imul(K,mt)|0,B=B+Math.imul(K,at)|0,T=T+Math.imul(dt,_t)|0,p=p+Math.imul(dt,ft)|0,p=p+Math.imul(Xe,_t)|0,B=B+Math.imul(Xe,ft)|0,T=T+Math.imul(ot,Tt)|0,p=p+Math.imul(ot,Ze)|0,p=p+Math.imul(Ve,Tt)|0,B=B+Math.imul(Ve,Ze)|0,T=T+Math.imul(lt,$)|0,p=p+Math.imul(lt,N)|0,p=p+Math.imul(je,$)|0,B=B+Math.imul(je,N)|0,T=T+Math.imul(Ue,_)|0,p=p+Math.imul(Ue,j)|0,p=p+Math.imul(ze,_)|0,B=B+Math.imul(ze,j)|0,T=T+Math.imul(Ae,ae)|0,p=p+Math.imul(Ae,ce)|0,p=p+Math.imul(Oe,ae)|0,B=B+Math.imul(Oe,ce)|0,T=T+Math.imul(X,Me)|0,p=p+Math.imul(X,Se)|0,p=p+Math.imul(G,Me)|0,B=B+Math.imul(G,Se)|0;var $e=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+($e>>>26)|0,$e&=67108863,T=Math.imul(F,mt),p=Math.imul(F,at),p=p+Math.imul(J,mt)|0,B=Math.imul(J,at),T=T+Math.imul(gt,_t)|0,p=p+Math.imul(gt,ft)|0,p=p+Math.imul(K,_t)|0,B=B+Math.imul(K,ft)|0,T=T+Math.imul(dt,Tt)|0,p=p+Math.imul(dt,Ze)|0,p=p+Math.imul(Xe,Tt)|0,B=B+Math.imul(Xe,Ze)|0,T=T+Math.imul(ot,$)|0,p=p+Math.imul(ot,N)|0,p=p+Math.imul(Ve,$)|0,B=B+Math.imul(Ve,N)|0,T=T+Math.imul(lt,_)|0,p=p+Math.imul(lt,j)|0,p=p+Math.imul(je,_)|0,B=B+Math.imul(je,j)|0,T=T+Math.imul(Ue,ae)|0,p=p+Math.imul(Ue,ce)|0,p=p+Math.imul(ze,ae)|0,B=B+Math.imul(ze,ce)|0,T=T+Math.imul(Ae,Me)|0,p=p+Math.imul(Ae,Se)|0,p=p+Math.imul(Oe,Me)|0,B=B+Math.imul(Oe,Se)|0;var He=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(He>>>26)|0,He&=67108863,T=Math.imul(F,_t),p=Math.imul(F,ft),p=p+Math.imul(J,_t)|0,B=Math.imul(J,ft),T=T+Math.imul(gt,Tt)|0,p=p+Math.imul(gt,Ze)|0,p=p+Math.imul(K,Tt)|0,B=B+Math.imul(K,Ze)|0,T=T+Math.imul(dt,$)|0,p=p+Math.imul(dt,N)|0,p=p+Math.imul(Xe,$)|0,B=B+Math.imul(Xe,N)|0,T=T+Math.imul(ot,_)|0,p=p+Math.imul(ot,j)|0,p=p+Math.imul(Ve,_)|0,B=B+Math.imul(Ve,j)|0,T=T+Math.imul(lt,ae)|0,p=p+Math.imul(lt,ce)|0,p=p+Math.imul(je,ae)|0,B=B+Math.imul(je,ce)|0,T=T+Math.imul(Ue,Me)|0,p=p+Math.imul(Ue,Se)|0,p=p+Math.imul(ze,Me)|0,B=B+Math.imul(ze,Se)|0;var We=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(We>>>26)|0,We&=67108863,T=Math.imul(F,Tt),p=Math.imul(F,Ze),p=p+Math.imul(J,Tt)|0,B=Math.imul(J,Ze),T=T+Math.imul(gt,$)|0,p=p+Math.imul(gt,N)|0,p=p+Math.imul(K,$)|0,B=B+Math.imul(K,N)|0,T=T+Math.imul(dt,_)|0,p=p+Math.imul(dt,j)|0,p=p+Math.imul(Xe,_)|0,B=B+Math.imul(Xe,j)|0,T=T+Math.imul(ot,ae)|0,p=p+Math.imul(ot,ce)|0,p=p+Math.imul(Ve,ae)|0,B=B+Math.imul(Ve,ce)|0,T=T+Math.imul(lt,Me)|0,p=p+Math.imul(lt,Se)|0,p=p+Math.imul(je,Me)|0,B=B+Math.imul(je,Se)|0;var Fe=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,T=Math.imul(F,$),p=Math.imul(F,N),p=p+Math.imul(J,$)|0,B=Math.imul(J,N),T=T+Math.imul(gt,_)|0,p=p+Math.imul(gt,j)|0,p=p+Math.imul(K,_)|0,B=B+Math.imul(K,j)|0,T=T+Math.imul(dt,ae)|0,p=p+Math.imul(dt,ce)|0,p=p+Math.imul(Xe,ae)|0,B=B+Math.imul(Xe,ce)|0,T=T+Math.imul(ot,Me)|0,p=p+Math.imul(ot,Se)|0,p=p+Math.imul(Ve,Me)|0,B=B+Math.imul(Ve,Se)|0;var ye=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(ye>>>26)|0,ye&=67108863,T=Math.imul(F,_),p=Math.imul(F,j),p=p+Math.imul(J,_)|0,B=Math.imul(J,j),T=T+Math.imul(gt,ae)|0,p=p+Math.imul(gt,ce)|0,p=p+Math.imul(K,ae)|0,B=B+Math.imul(K,ce)|0,T=T+Math.imul(dt,Me)|0,p=p+Math.imul(dt,Se)|0,p=p+Math.imul(Xe,Me)|0,B=B+Math.imul(Xe,Se)|0;var be=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(be>>>26)|0,be&=67108863,T=Math.imul(F,ae),p=Math.imul(F,ce),p=p+Math.imul(J,ae)|0,B=Math.imul(J,ce),T=T+Math.imul(gt,Me)|0,p=p+Math.imul(gt,Se)|0,p=p+Math.imul(K,Me)|0,B=B+Math.imul(K,Se)|0;var Re=(S+T|0)+((p&8191)<<13)|0;S=(B+(p>>>13)|0)+(Re>>>26)|0,Re&=67108863,T=Math.imul(F,Me),p=Math.imul(F,Se),p=p+Math.imul(J,Me)|0,B=Math.imul(J,Se);var Te=(S+T|0)+((p&8191)<<13)|0;return S=(B+(p>>>13)|0)+(Te>>>26)|0,Te&=67108863,R[0]=Ge,R[1]=Be,R[2]=Ye,R[3]=Pe,R[4]=et,R[5]=nt,R[6]=Qe,R[7]=vt,R[8]=ut,R[9]=Le,R[10]=it,R[11]=$e,R[12]=He,R[13]=We,R[14]=Fe,R[15]=ye,R[16]=be,R[17]=Re,R[18]=Te,S!==0&&(R[19]=S,g.length++),g};Math.imul||(P=x);function L(b,s,v){v.negative=s.negative^b.negative,v.length=b.length+s.length;for(var g=0,A=0,I=0;I<v.length-1;I++){var R=A;A=0;for(var S=g&67108863,T=Math.min(I,s.length-1),p=Math.max(0,I-b.length+1);p<=T;p++){var B=I-p,ee=b.words[B]|0,oe=s.words[p]|0,Z=ee*oe,ne=Z&67108863;R=R+(Z/67108864|0)|0,ne=ne+S|0,S=ne&67108863,R=R+(ne>>>26)|0,A+=R>>>26,R&=67108863}v.words[I]=S,g=R,R=A}return g!==0?v.words[I]=g:v.length--,v._strip()}function U(b,s,v){return L(b,s,v)}i.prototype.mulTo=function(s,v){var g,A=this.length+s.length;return this.length===10&&s.length===10?g=P(this,s,v):A<63?g=x(this,s,v):A<1024?g=L(this,s,v):g=U(this,s,v),g},i.prototype.mul=function(s){var v=new i(null);return v.words=new Array(this.length+s.length),this.mulTo(s,v)},i.prototype.mulf=function(s){var v=new i(null);return v.words=new Array(this.length+s.length),U(this,s,v)},i.prototype.imul=function(s){return this.clone().mulTo(s,this)},i.prototype.imuln=function(s){var v=s<0;v&&(s=-s),n(typeof s=="number"),n(s<67108864);for(var g=0,A=0;A<this.length;A++){var I=(this.words[A]|0)*s,R=(I&67108863)+(g&67108863);g>>=26,g+=I/67108864|0,g+=R>>>26,this.words[A]=R&67108863}return g!==0&&(this.words[A]=g,this.length++),v?this.ineg():this},i.prototype.muln=function(s){return this.clone().imuln(s)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(s){var v=E(s);if(v.length===0)return new i(1);for(var g=this,A=0;A<v.length&&v[A]===0;A++,g=g.sqr());if(++A<v.length)for(var I=g.sqr();A<v.length;A++,I=I.sqr())v[A]!==0&&(g=g.mul(I));return g},i.prototype.iushln=function(s){n(typeof s=="number"&&s>=0);var v=s%26,g=(s-v)/26,A=67108863>>>26-v<<26-v,I;if(v!==0){var R=0;for(I=0;I<this.length;I++){var S=this.words[I]&A,T=(this.words[I]|0)-S<<v;this.words[I]=T|R,R=S>>>26-v}R&&(this.words[I]=R,this.length++)}if(g!==0){for(I=this.length-1;I>=0;I--)this.words[I+g]=this.words[I];for(I=0;I<g;I++)this.words[I]=0;this.length+=g}return this._strip()},i.prototype.ishln=function(s){return n(this.negative===0),this.iushln(s)},i.prototype.iushrn=function(s,v,g){n(typeof s=="number"&&s>=0);var A;v?A=(v-v%26)/26:A=0;var I=s%26,R=Math.min((s-I)/26,this.length),S=67108863^67108863>>>I<<I,T=g;if(A-=R,A=Math.max(0,A),T){for(var p=0;p<R;p++)T.words[p]=this.words[p];T.length=R}if(R!==0)if(this.length>R)for(this.length-=R,p=0;p<this.length;p++)this.words[p]=this.words[p+R];else this.words[0]=0,this.length=1;var B=0;for(p=this.length-1;p>=0&&(B!==0||p>=A);p--){var ee=this.words[p]|0;this.words[p]=B<<26-I|ee>>>I,B=ee&S}return T&&B!==0&&(T.words[T.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(s,v,g){return n(this.negative===0),this.iushrn(s,v,g)},i.prototype.shln=function(s){return this.clone().ishln(s)},i.prototype.ushln=function(s){return this.clone().iushln(s)},i.prototype.shrn=function(s){return this.clone().ishrn(s)},i.prototype.ushrn=function(s){return this.clone().iushrn(s)},i.prototype.testn=function(s){n(typeof s=="number"&&s>=0);var v=s%26,g=(s-v)/26,A=1<<v;if(this.length<=g)return!1;var I=this.words[g];return!!(I&A)},i.prototype.imaskn=function(s){n(typeof s=="number"&&s>=0);var v=s%26,g=(s-v)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(v!==0&&g++,this.length=Math.min(g,this.length),v!==0){var A=67108863^67108863>>>v<<v;this.words[this.length-1]&=A}return this._strip()},i.prototype.maskn=function(s){return this.clone().imaskn(s)},i.prototype.iaddn=function(s){return n(typeof s=="number"),n(s<67108864),s<0?this.isubn(-s):this.negative!==0?this.length===1&&(this.words[0]|0)<=s?(this.words[0]=s-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(s),this.negative=1,this):this._iaddn(s)},i.prototype._iaddn=function(s){this.words[0]+=s;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},i.prototype.isubn=function(s){if(n(typeof s=="number"),n(s<67108864),s<0)return this.iaddn(-s);if(this.negative!==0)return this.negative=0,this.iaddn(s),this.negative=1,this;if(this.words[0]-=s,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},i.prototype.addn=function(s){return this.clone().iaddn(s)},i.prototype.subn=function(s){return this.clone().isubn(s)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(s,v,g){var A=s.length+g,I;this._expand(A);var R,S=0;for(I=0;I<s.length;I++){R=(this.words[I+g]|0)+S;var T=(s.words[I]|0)*v;R-=T&67108863,S=(R>>26)-(T/67108864|0),this.words[I+g]=R&67108863}for(;I<this.length-g;I++)R=(this.words[I+g]|0)+S,S=R>>26,this.words[I+g]=R&67108863;if(S===0)return this._strip();for(n(S===-1),S=0,I=0;I<this.length;I++)R=-(this.words[I]|0)+S,S=R>>26,this.words[I]=R&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(s,v){var g=this.length-s.length,A=this.clone(),I=s,R=I.words[I.length-1]|0,S=this._countBits(R);g=26-S,g!==0&&(I=I.ushln(g),A.iushln(g),R=I.words[I.length-1]|0);var T=A.length-I.length,p;if(v!=="mod"){p=new i(null),p.length=T+1,p.words=new Array(p.length);for(var B=0;B<p.length;B++)p.words[B]=0}var ee=A.clone()._ishlnsubmul(I,1,T);ee.negative===0&&(A=ee,p&&(p.words[T]=1));for(var oe=T-1;oe>=0;oe--){var Z=(A.words[I.length+oe]|0)*67108864+(A.words[I.length+oe-1]|0);for(Z=Math.min(Z/R|0,67108863),A._ishlnsubmul(I,Z,oe);A.negative!==0;)Z--,A.negative=0,A._ishlnsubmul(I,1,oe),A.isZero()||(A.negative^=1);p&&(p.words[oe]=Z)}return p&&p._strip(),A._strip(),v!=="div"&&g!==0&&A.iushrn(g),{div:p||null,mod:A}},i.prototype.divmod=function(s,v,g){if(n(!s.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var A,I,R;return this.negative!==0&&s.negative===0?(R=this.neg().divmod(s,v),v!=="mod"&&(A=R.div.neg()),v!=="div"&&(I=R.mod.neg(),g&&I.negative!==0&&I.iadd(s)),{div:A,mod:I}):this.negative===0&&s.negative!==0?(R=this.divmod(s.neg(),v),v!=="mod"&&(A=R.div.neg()),{div:A,mod:R.mod}):this.negative&s.negative?(R=this.neg().divmod(s.neg(),v),v!=="div"&&(I=R.mod.neg(),g&&I.negative!==0&&I.isub(s)),{div:R.div,mod:I}):s.length>this.length||this.cmp(s)<0?{div:new i(0),mod:this}:s.length===1?v==="div"?{div:this.divn(s.words[0]),mod:null}:v==="mod"?{div:null,mod:new i(this.modrn(s.words[0]))}:{div:this.divn(s.words[0]),mod:new i(this.modrn(s.words[0]))}:this._wordDiv(s,v)},i.prototype.div=function(s){return this.divmod(s,"div",!1).div},i.prototype.mod=function(s){return this.divmod(s,"mod",!1).mod},i.prototype.umod=function(s){return this.divmod(s,"mod",!0).mod},i.prototype.divRound=function(s){var v=this.divmod(s);if(v.mod.isZero())return v.div;var g=v.div.negative!==0?v.mod.isub(s):v.mod,A=s.ushrn(1),I=s.andln(1),R=g.cmp(A);return R<0||I===1&&R===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},i.prototype.modrn=function(s){var v=s<0;v&&(s=-s),n(s<=67108863);for(var g=(1<<26)%s,A=0,I=this.length-1;I>=0;I--)A=(g*A+(this.words[I]|0))%s;return v?-A:A},i.prototype.modn=function(s){return this.modrn(s)},i.prototype.idivn=function(s){var v=s<0;v&&(s=-s),n(s<=67108863);for(var g=0,A=this.length-1;A>=0;A--){var I=(this.words[A]|0)+g*67108864;this.words[A]=I/s|0,g=I%s}return this._strip(),v?this.ineg():this},i.prototype.divn=function(s){return this.clone().idivn(s)},i.prototype.egcd=function(s){n(s.negative===0),n(!s.isZero());var v=this,g=s.clone();v.negative!==0?v=v.umod(s):v=v.clone();for(var A=new i(1),I=new i(0),R=new i(0),S=new i(1),T=0;v.isEven()&&g.isEven();)v.iushrn(1),g.iushrn(1),++T;for(var p=g.clone(),B=v.clone();!v.isZero();){for(var ee=0,oe=1;!(v.words[0]&oe)&&ee<26;++ee,oe<<=1);if(ee>0)for(v.iushrn(ee);ee-- >0;)(A.isOdd()||I.isOdd())&&(A.iadd(p),I.isub(B)),A.iushrn(1),I.iushrn(1);for(var Z=0,ne=1;!(g.words[0]&ne)&&Z<26;++Z,ne<<=1);if(Z>0)for(g.iushrn(Z);Z-- >0;)(R.isOdd()||S.isOdd())&&(R.iadd(p),S.isub(B)),R.iushrn(1),S.iushrn(1);v.cmp(g)>=0?(v.isub(g),A.isub(R),I.isub(S)):(g.isub(v),R.isub(A),S.isub(I))}return{a:R,b:S,gcd:g.iushln(T)}},i.prototype._invmp=function(s){n(s.negative===0),n(!s.isZero());var v=this,g=s.clone();v.negative!==0?v=v.umod(s):v=v.clone();for(var A=new i(1),I=new i(0),R=g.clone();v.cmpn(1)>0&&g.cmpn(1)>0;){for(var S=0,T=1;!(v.words[0]&T)&&S<26;++S,T<<=1);if(S>0)for(v.iushrn(S);S-- >0;)A.isOdd()&&A.iadd(R),A.iushrn(1);for(var p=0,B=1;!(g.words[0]&B)&&p<26;++p,B<<=1);if(p>0)for(g.iushrn(p);p-- >0;)I.isOdd()&&I.iadd(R),I.iushrn(1);v.cmp(g)>=0?(v.isub(g),A.isub(I)):(g.isub(v),I.isub(A))}var ee;return v.cmpn(1)===0?ee=A:ee=I,ee.cmpn(0)<0&&ee.iadd(s),ee},i.prototype.gcd=function(s){if(this.isZero())return s.abs();if(s.isZero())return this.abs();var v=this.clone(),g=s.clone();v.negative=0,g.negative=0;for(var A=0;v.isEven()&&g.isEven();A++)v.iushrn(1),g.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;g.isEven();)g.iushrn(1);var I=v.cmp(g);if(I<0){var R=v;v=g,g=R}else if(I===0||g.cmpn(1)===0)break;v.isub(g)}while(!0);return g.iushln(A)},i.prototype.invm=function(s){return this.egcd(s).a.umod(s)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(s){return this.words[0]&s},i.prototype.bincn=function(s){n(typeof s=="number");var v=s%26,g=(s-v)/26,A=1<<v;if(this.length<=g)return this._expand(g+1),this.words[g]|=A,this;for(var I=A,R=g;I!==0&&R<this.length;R++){var S=this.words[R]|0;S+=I,I=S>>>26,S&=67108863,this.words[R]=S}return I!==0&&(this.words[R]=I,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(s){var v=s<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var g;if(this.length>1)g=1;else{v&&(s=-s),n(s<=67108863,"Number is too big");var A=this.words[0]|0;g=A===s?0:A<s?-1:1}return this.negative!==0?-g|0:g},i.prototype.cmp=function(s){if(this.negative!==0&&s.negative===0)return-1;if(this.negative===0&&s.negative!==0)return 1;var v=this.ucmp(s);return this.negative!==0?-v|0:v},i.prototype.ucmp=function(s){if(this.length>s.length)return 1;if(this.length<s.length)return-1;for(var v=0,g=this.length-1;g>=0;g--){var A=this.words[g]|0,I=s.words[g]|0;if(A!==I){A<I?v=-1:A>I&&(v=1);break}}return v},i.prototype.gtn=function(s){return this.cmpn(s)===1},i.prototype.gt=function(s){return this.cmp(s)===1},i.prototype.gten=function(s){return this.cmpn(s)>=0},i.prototype.gte=function(s){return this.cmp(s)>=0},i.prototype.ltn=function(s){return this.cmpn(s)===-1},i.prototype.lt=function(s){return this.cmp(s)===-1},i.prototype.lten=function(s){return this.cmpn(s)<=0},i.prototype.lte=function(s){return this.cmp(s)<=0},i.prototype.eqn=function(s){return this.cmpn(s)===0},i.prototype.eq=function(s){return this.cmp(s)===0},i.red=function(s){return new Q(s)},i.prototype.toRed=function(s){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),s.convertTo(this)._forceRed(s)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(s){return this.red=s,this},i.prototype.forceRed=function(s){return n(!this.red,"Already a number in reduction context"),this._forceRed(s)},i.prototype.redAdd=function(s){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,s)},i.prototype.redIAdd=function(s){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,s)},i.prototype.redSub=function(s){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,s)},i.prototype.redISub=function(s){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,s)},i.prototype.redShl=function(s){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,s)},i.prototype.redMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.mul(this,s)},i.prototype.redIMul=function(s){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,s),this.red.imul(this,s)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(s){return n(this.red&&!s.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,s)};var z={k256:null,p224:null,p192:null,p25519:null};function W(b,s){this.name=b,this.p=new i(s,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var s=new i(null);return s.words=new Array(Math.ceil(this.n/13)),s},W.prototype.ireduce=function(s){var v=s,g;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),g=v.bitLength();while(g>this.n);var A=g<this.n?-1:v.ucmp(this.p);return A===0?(v.words[0]=0,v.length=1):A>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},W.prototype.split=function(s,v){s.iushrn(this.n,0,v)},W.prototype.imulK=function(s){return s.imul(this.k)};function re(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(re,W),re.prototype.split=function(s,v){for(var g=4194303,A=Math.min(s.length,9),I=0;I<A;I++)v.words[I]=s.words[I];if(v.length=A,s.length<=9){s.words[0]=0,s.length=1;return}var R=s.words[9];for(v.words[v.length++]=R&g,I=10;I<s.length;I++){var S=s.words[I]|0;s.words[I-10]=(S&g)<<4|R>>>22,R=S}R>>>=22,s.words[I-10]=R,R===0&&s.length>10?s.length-=10:s.length-=9},re.prototype.imulK=function(s){s.words[s.length]=0,s.words[s.length+1]=0,s.length+=2;for(var v=0,g=0;g<s.length;g++){var A=s.words[g]|0;v+=A*977,s.words[g]=v&67108863,v=A*64+(v/67108864|0)}return s.words[s.length-1]===0&&(s.length--,s.words[s.length-1]===0&&s.length--),s};function ie(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(ie,W);function se(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(se,W);function ve(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(ve,W),ve.prototype.imulK=function(s){for(var v=0,g=0;g<s.length;g++){var A=(s.words[g]|0)*19+v,I=A&67108863;A>>>=26,s.words[g]=I,v=A}return v!==0&&(s.words[s.length++]=v),s},i._prime=function(s){if(z[s])return z[s];var v;if(s==="k256")v=new re;else if(s==="p224")v=new ie;else if(s==="p192")v=new se;else if(s==="p25519")v=new ve;else throw new Error("Unknown prime "+s);return z[s]=v,v};function Q(b){if(typeof b=="string"){var s=i._prime(b);this.m=s.p,this.prime=s}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}Q.prototype._verify1=function(s){n(s.negative===0,"red works only with positives"),n(s.red,"red works only with red numbers")},Q.prototype._verify2=function(s,v){n((s.negative|v.negative)===0,"red works only with positives"),n(s.red&&s.red===v.red,"red works only with red numbers")},Q.prototype.imod=function(s){return this.prime?this.prime.ireduce(s)._forceRed(this):(f(s,s.umod(this.m)._forceRed(this)),s)},Q.prototype.neg=function(s){return s.isZero()?s.clone():this.m.sub(s)._forceRed(this)},Q.prototype.add=function(s,v){this._verify2(s,v);var g=s.add(v);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Q.prototype.iadd=function(s,v){this._verify2(s,v);var g=s.iadd(v);return g.cmp(this.m)>=0&&g.isub(this.m),g},Q.prototype.sub=function(s,v){this._verify2(s,v);var g=s.sub(v);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Q.prototype.isub=function(s,v){this._verify2(s,v);var g=s.isub(v);return g.cmpn(0)<0&&g.iadd(this.m),g},Q.prototype.shl=function(s,v){return this._verify1(s),this.imod(s.ushln(v))},Q.prototype.imul=function(s,v){return this._verify2(s,v),this.imod(s.imul(v))},Q.prototype.mul=function(s,v){return this._verify2(s,v),this.imod(s.mul(v))},Q.prototype.isqr=function(s){return this.imul(s,s.clone())},Q.prototype.sqr=function(s){return this.mul(s,s)},Q.prototype.sqrt=function(s){if(s.isZero())return s.clone();var v=this.m.andln(3);if(n(v%2===1),v===3){var g=this.m.add(new i(1)).iushrn(2);return this.pow(s,g)}for(var A=this.m.subn(1),I=0;!A.isZero()&&A.andln(1)===0;)I++,A.iushrn(1);n(!A.isZero());var R=new i(1).toRed(this),S=R.redNeg(),T=this.m.subn(1).iushrn(1),p=this.m.bitLength();for(p=new i(2*p*p).toRed(this);this.pow(p,T).cmp(S)!==0;)p.redIAdd(S);for(var B=this.pow(p,A),ee=this.pow(s,A.addn(1).iushrn(1)),oe=this.pow(s,A),Z=I;oe.cmp(R)!==0;){for(var ne=oe,fe=0;ne.cmp(R)!==0;fe++)ne=ne.redSqr();n(fe<Z);var le=this.pow(B,new i(1).iushln(Z-fe-1));ee=ee.redMul(le),B=le.redSqr(),oe=oe.redMul(B),Z=fe}return ee},Q.prototype.invm=function(s){var v=s._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},Q.prototype.pow=function(s,v){if(v.isZero())return new i(1).toRed(this);if(v.cmpn(1)===0)return s.clone();var g=4,A=new Array(1<<g);A[0]=new i(1).toRed(this),A[1]=s;for(var I=2;I<A.length;I++)A[I]=this.mul(A[I-1],s);var R=A[0],S=0,T=0,p=v.bitLength()%26;for(p===0&&(p=26),I=v.length-1;I>=0;I--){for(var B=v.words[I],ee=p-1;ee>=0;ee--){var oe=B>>ee&1;if(R!==A[0]&&(R=this.sqr(R)),oe===0&&S===0){T=0;continue}S<<=1,S|=oe,T++,!(T!==g&&(I!==0||ee!==0))&&(R=this.mul(R,A[S]),T=0,S=0)}p=26}return R},Q.prototype.convertTo=function(s){var v=s.umod(this.m);return v===s?v.clone():v},Q.prototype.convertFrom=function(s){var v=s.clone();return v.red=null,v},i.mont=function(s){return new M(s)};function M(b){Q.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(M,Q),M.prototype.convertTo=function(s){return this.imod(s.ushln(this.shift))},M.prototype.convertFrom=function(s){var v=this.imod(s.mul(this.rinv));return v.red=null,v},M.prototype.imul=function(s,v){if(s.isZero()||v.isZero())return s.words[0]=0,s.length=1,s;var g=s.imul(v),A=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=g.isub(A).iushrn(this.shift),R=I;return I.cmp(this.m)>=0?R=I.isub(this.m):I.cmpn(0)<0&&(R=I.iadd(this.m)),R._forceRed(this)},M.prototype.mul=function(s,v){if(s.isZero()||v.isZero())return new i(0)._forceRed(this);var g=s.mul(v),A=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=g.isub(A).iushrn(this.shift),R=I;return I.cmp(this.m)>=0?R=I.isub(this.m):I.cmpn(0)<0&&(R=I.iadd(this.m)),R._forceRed(this)},M.prototype.invm=function(s){var v=this.imod(s._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(r,Kt)}(to)),to.exports}var Qr={},Ou={},Bu={},Pu={},Du,Bp;function Nu(){if(Bp)return Du;Bp=1;var r=wn,e=r.Buffer,t={},n;for(n in r)r.hasOwnProperty(n)&&(n==="SlowBuffer"||n==="Buffer"||(t[n]=r[n]));var a=t.Buffer={};for(n in e)e.hasOwnProperty(n)&&(n==="allocUnsafe"||n==="allocUnsafeSlow"||(a[n]=e[n]));if(t.Buffer.prototype=e.prototype,(!a.from||a.from===Uint8Array.from)&&(a.from=function(i,o,c){if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof i);if(i&&typeof i.length=="undefined")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);return e(i,o,c)}),a.alloc||(a.alloc=function(i,o,c){if(typeof i!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof i);if(i<0||i>=2147483648)throw new RangeError('The value "'+i+'" is invalid for option "size"');var u=e(i);return!o||o.length===0?u.fill(0):typeof c=="string"?u.fill(o,c):u.fill(o),u}),!t.kStringMaxLength)try{t.kStringMaxLength=Ot.binding("buffer").kStringMaxLength}catch(i){}return t.constants||(t.constants={MAX_LENGTH:t.kMaxLength},t.kStringMaxLength&&(t.constants.MAX_STRING_LENGTH=t.kStringMaxLength)),Du=t,Du}var qu={},Pp;function Lu(){if(Pp)return qu;Pp=1;const r=Ft();function e(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}qu.Reporter=e,e.prototype.isError=function(a){return a instanceof t},e.prototype.save=function(){const a=this._reporterState;return{obj:a.obj,pathLen:a.path.length}},e.prototype.restore=function(a){const i=this._reporterState;i.obj=a.obj,i.path=i.path.slice(0,a.pathLen)},e.prototype.enterKey=function(a){return this._reporterState.path.push(a)},e.prototype.exitKey=function(a){const i=this._reporterState;i.path=i.path.slice(0,a-1)},e.prototype.leaveKey=function(a,i,o){const c=this._reporterState;this.exitKey(a),c.obj!==null&&(c.obj[i]=o)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){const a=this._reporterState,i=a.obj;return a.obj={},i},e.prototype.leaveObject=function(a){const i=this._reporterState,o=i.obj;return i.obj=a,o},e.prototype.error=function(a){let i;const o=this._reporterState,c=a instanceof t;if(c?i=a:i=new t(o.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),a.message||a,a.stack),!o.options.partial)throw i;return c||o.errors.push(i),i},e.prototype.wrapResult=function(a){const i=this._reporterState;return i.options.partial?{result:this.isError(a)?null:a,errors:i.errors}:a};function t(n,a){this.path=n,this.rethrow(a)}return r(t,Error),t.prototype.rethrow=function(a){if(this.message=a+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,t),!this.stack)try{throw new Error(this.message)}catch(i){this.stack=i.stack}return this},qu}var ro={},Dp;function Wi(){if(Dp)return ro;Dp=1;const r=Ft(),e=Lu().Reporter,t=Nu().Buffer;function n(i,o){if(e.call(this,o),!t.isBuffer(i)){this.error("Input not Buffer");return}this.base=i,this.offset=0,this.length=i.length}r(n,e),ro.DecoderBuffer=n,n.isDecoderBuffer=function(o){return o instanceof n?!0:typeof o=="object"&&t.isBuffer(o.base)&&o.constructor.name==="DecoderBuffer"&&typeof o.offset=="number"&&typeof o.length=="number"&&typeof o.save=="function"&&typeof o.restore=="function"&&typeof o.isEmpty=="function"&&typeof o.readUInt8=="function"&&typeof o.skip=="function"&&typeof o.raw=="function"},n.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},n.prototype.restore=function(o){const c=new n(this.base);return c.offset=o.offset,c.length=this.offset,this.offset=o.offset,e.prototype.restore.call(this,o.reporter),c},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},n.prototype.skip=function(o,c){if(!(this.offset+o<=this.length))return this.error(c||"DecoderBuffer overrun");const u=new n(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+o,this.offset+=o,u},n.prototype.raw=function(o){return this.base.slice(o?o.offset:this.offset,this.length)};function a(i,o){if(Array.isArray(i))this.length=0,this.value=i.map(function(c){return a.isEncoderBuffer(c)||(c=new a(c,o)),this.length+=c.length,c},this);else if(typeof i=="number"){if(!(0<=i&&i<=255))return o.error("non-byte EncoderBuffer value");this.value=i,this.length=1}else if(typeof i=="string")this.value=i,this.length=t.byteLength(i);else if(t.isBuffer(i))this.value=i,this.length=i.length;else return o.error("Unsupported type: "+typeof i)}return ro.EncoderBuffer=a,a.isEncoderBuffer=function(o){return o instanceof a?!0:typeof o=="object"&&o.constructor.name==="EncoderBuffer"&&typeof o.length=="number"&&typeof o.join=="function"},a.prototype.join=function(o,c){return o||(o=t.alloc(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(o,c),c+=u.length}):(typeof this.value=="number"?o[c]=this.value:typeof this.value=="string"?o.write(this.value,c):t.isBuffer(this.value)&&this.value.copy(o,c),c+=this.length)),o},ro}var Fu,Np;function Uu(){if(Np)return Fu;Np=1;const r=Lu().Reporter,e=Wi().EncoderBuffer,t=Wi().DecoderBuffer,n=Vr(),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],i=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a),o=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(h,f,d){const l={};this._baseState=l,l.name=d,l.enc=h,l.parent=f||null,l.children=null,l.tag=null,l.args=null,l.reverseArgs=null,l.choice=null,l.optional=!1,l.any=!1,l.obj=!1,l.use=null,l.useDecoder=null,l.key=null,l.default=null,l.explicit=null,l.implicit=null,l.contains=null,l.parent||(l.children=[],this._wrap())}Fu=c;const u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return c.prototype.clone=function(){const f=this._baseState,d={};u.forEach(function(y){d[y]=f[y]});const l=new this.constructor(d.parent);return l._baseState=d,l},c.prototype._wrap=function(){const f=this._baseState;i.forEach(function(d){this[d]=function(){const y=new this.constructor(this);return f.children.push(y),y[d].apply(y,arguments)}},this)},c.prototype._init=function(f){const d=this._baseState;n(d.parent===null),f.call(this),d.children=d.children.filter(function(l){return l._baseState.parent===this},this),n.equal(d.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(f){const d=this._baseState,l=f.filter(function(y){return y instanceof this.constructor},this);f=f.filter(function(y){return!(y instanceof this.constructor)},this),l.length!==0&&(n(d.children===null),d.children=l,l.forEach(function(y){y._baseState.parent=this},this)),f.length!==0&&(n(d.args===null),d.args=f,d.reverseArgs=f.map(function(y){if(typeof y!="object"||y.constructor!==Object)return y;const m={};return Object.keys(y).forEach(function(w){w==(w|0)&&(w|=0);const E=y[w];m[E]=w}),m}))},o.forEach(function(h){c.prototype[h]=function(){const d=this._baseState;throw new Error(h+" not implemented for encoding: "+d.enc)}}),a.forEach(function(h){c.prototype[h]=function(){const d=this._baseState,l=Array.prototype.slice.call(arguments);return n(d.tag===null),d.tag=h,this._useArgs(l),this}}),c.prototype.use=function(f){n(f);const d=this._baseState;return n(d.use===null),d.use=f,this},c.prototype.optional=function(){const f=this._baseState;return f.optional=!0,this},c.prototype.def=function(f){const d=this._baseState;return n(d.default===null),d.default=f,d.optional=!0,this},c.prototype.explicit=function(f){const d=this._baseState;return n(d.explicit===null&&d.implicit===null),d.explicit=f,this},c.prototype.implicit=function(f){const d=this._baseState;return n(d.explicit===null&&d.implicit===null),d.implicit=f,this},c.prototype.obj=function(){const f=this._baseState,d=Array.prototype.slice.call(arguments);return f.obj=!0,d.length!==0&&this._useArgs(d),this},c.prototype.key=function(f){const d=this._baseState;return n(d.key===null),d.key=f,this},c.prototype.any=function(){const f=this._baseState;return f.any=!0,this},c.prototype.choice=function(f){const d=this._baseState;return n(d.choice===null),d.choice=f,this._useArgs(Object.keys(f).map(function(l){return f[l]})),this},c.prototype.contains=function(f){const d=this._baseState;return n(d.use===null),d.contains=f,this},c.prototype._decode=function(f,d){const l=this._baseState;if(l.parent===null)return f.wrapResult(l.children[0]._decode(f,d));let y=l.default,m=!0,w=null;if(l.key!==null&&(w=f.enterKey(l.key)),l.optional){let x=null;if(l.explicit!==null?x=l.explicit:l.implicit!==null?x=l.implicit:l.tag!==null&&(x=l.tag),x===null&&!l.any){const P=f.save();try{l.choice===null?this._decodeGeneric(l.tag,f,d):this._decodeChoice(f,d),m=!0}catch(L){m=!1}f.restore(P)}else if(m=this._peekTag(f,x,l.any),f.isError(m))return m}let E;if(l.obj&&m&&(E=f.enterObject()),m){if(l.explicit!==null){const P=this._decodeTag(f,l.explicit);if(f.isError(P))return P;f=P}const x=f.offset;if(l.use===null&&l.choice===null){let P;l.any&&(P=f.save());const L=this._decodeTag(f,l.implicit!==null?l.implicit:l.tag,l.any);if(f.isError(L))return L;l.any?y=f.raw(P):f=L}if(d&&d.track&&l.tag!==null&&d.track(f.path(),x,f.length,"tagged"),d&&d.track&&l.tag!==null&&d.track(f.path(),f.offset,f.length,"content"),l.any||(l.choice===null?y=this._decodeGeneric(l.tag,f,d):y=this._decodeChoice(f,d)),f.isError(y))return y;if(!l.any&&l.choice===null&&l.children!==null&&l.children.forEach(function(L){L._decode(f,d)}),l.contains&&(l.tag==="octstr"||l.tag==="bitstr")){const P=new t(y);y=this._getUse(l.contains,f._reporterState.obj)._decode(P,d)}}return l.obj&&m&&(y=f.leaveObject(E)),l.key!==null&&(y!==null||m===!0)?f.leaveKey(w,l.key,y):w!==null&&f.exitKey(w),y},c.prototype._decodeGeneric=function(f,d,l){const y=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(d,f,y.args[0],l):/str$/.test(f)?this._decodeStr(d,f,l):f==="objid"&&y.args?this._decodeObjid(d,y.args[0],y.args[1],l):f==="objid"?this._decodeObjid(d,null,null,l):f==="gentime"||f==="utctime"?this._decodeTime(d,f,l):f==="null_"?this._decodeNull(d,l):f==="bool"?this._decodeBool(d,l):f==="objDesc"?this._decodeStr(d,f,l):f==="int"||f==="enum"?this._decodeInt(d,y.args&&y.args[0],l):y.use!==null?this._getUse(y.use,d._reporterState.obj)._decode(d,l):d.error("unknown tag: "+f)},c.prototype._getUse=function(f,d){const l=this._baseState;return l.useDecoder=this._use(f,d),n(l.useDecoder._baseState.parent===null),l.useDecoder=l.useDecoder._baseState.children[0],l.implicit!==l.useDecoder._baseState.implicit&&(l.useDecoder=l.useDecoder.clone(),l.useDecoder._baseState.implicit=l.implicit),l.useDecoder},c.prototype._decodeChoice=function(f,d){const l=this._baseState;let y=null,m=!1;return Object.keys(l.choice).some(function(w){const E=f.save(),x=l.choice[w];try{const P=x._decode(f,d);if(f.isError(P))return!1;y={type:w,value:P},m=!0}catch(P){return f.restore(E),!1}return!0},this),m?y:f.error("Choice not matched")},c.prototype._createEncoderBuffer=function(f){return new e(f,this.reporter)},c.prototype._encode=function(f,d,l){const y=this._baseState;if(y.default!==null&&y.default===f)return;const m=this._encodeValue(f,d,l);if(m!==void 0&&!this._skipDefault(m,d,l))return m},c.prototype._encodeValue=function(f,d,l){const y=this._baseState;if(y.parent===null)return y.children[0]._encode(f,d||new r);let m=null;if(this.reporter=d,y.optional&&f===void 0)if(y.default!==null)f=y.default;else return;let w=null,E=!1;if(y.any)m=this._createEncoderBuffer(f);else if(y.choice)m=this._encodeChoice(f,d);else if(y.contains)w=this._getUse(y.contains,l)._encode(f,d),E=!0;else if(y.children)w=y.children.map(function(x){if(x._baseState.tag==="null_")return x._encode(null,d,f);if(x._baseState.key===null)return d.error("Child should have a key");const P=d.enterKey(x._baseState.key);if(typeof f!="object")return d.error("Child expected, but input is not object");const L=x._encode(f[x._baseState.key],d,f);return d.leaveKey(P),L},this).filter(function(x){return x}),w=this._createEncoderBuffer(w);else if(y.tag==="seqof"||y.tag==="setof"){if(!(y.args&&y.args.length===1))return d.error("Too many args for : "+y.tag);if(!Array.isArray(f))return d.error("seqof/setof, but data is not Array");const x=this.clone();x._baseState.implicit=null,w=this._createEncoderBuffer(f.map(function(P){const L=this._baseState;return this._getUse(L.args[0],f)._encode(P,d)},x))}else y.use!==null?m=this._getUse(y.use,l)._encode(f,d):(w=this._encodePrimitive(y.tag,f),E=!0);if(!y.any&&y.choice===null){const x=y.implicit!==null?y.implicit:y.tag,P=y.implicit===null?"universal":"context";x===null?y.use===null&&d.error("Tag could be omitted only for .use()"):y.use===null&&(m=this._encodeComposite(x,E,P,w))}return y.explicit!==null&&(m=this._encodeComposite(y.explicit,!1,"context",m)),m},c.prototype._encodeChoice=function(f,d){const l=this._baseState,y=l.choice[f.type];return y||n(!1,f.type+" not found in "+JSON.stringify(Object.keys(l.choice))),y._encode(f.value,d)},c.prototype._encodePrimitive=function(f,d){const l=this._baseState;if(/str$/.test(f))return this._encodeStr(d,f);if(f==="objid"&&l.args)return this._encodeObjid(d,l.reverseArgs[0],l.args[1]);if(f==="objid")return this._encodeObjid(d,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(d,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(d,l.args&&l.reverseArgs[0]);if(f==="bool")return this._encodeBool(d);if(f==="objDesc")return this._encodeStr(d,f);throw new Error("Unsupported tag: "+f)},c.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},c.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(f)},Fu}var ju={},qp;function $u(){return qp||(qp=1,function(r){function e(t){const n={};return Object.keys(t).forEach(function(a){(a|0)==a&&(a=a|0);const i=t[a];n[i]=a}),n}r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=e(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=e(r.tag)}(ju)),ju}var Hu,Lp;function Fp(){if(Lp)return Hu;Lp=1;const r=Ft(),e=Nu().Buffer,t=Uu(),n=$u();function a(u){this.enc="der",this.name=u.name,this.entity=u,this.tree=new i,this.tree._init(u.body)}Hu=a,a.prototype.encode=function(h,f){return this.tree._encode(h,f).join()};function i(u){t.call(this,"der",u)}r(i,t),i.prototype._encodeComposite=function(h,f,d,l){const y=c(h,f,d,this.reporter);if(l.length<128){const E=e.alloc(2);return E[0]=y,E[1]=l.length,this._createEncoderBuffer([E,l])}let m=1;for(let E=l.length;E>=256;E>>=8)m++;const w=e.alloc(2+m);w[0]=y,w[1]=128|m;for(let E=1+m,x=l.length;x>0;E--,x>>=8)w[E]=x&255;return this._createEncoderBuffer([w,l])},i.prototype._encodeStr=function(h,f){if(f==="bitstr")return this._createEncoderBuffer([h.unused|0,h.data]);if(f==="bmpstr"){const d=e.alloc(h.length*2);for(let l=0;l<h.length;l++)d.writeUInt16BE(h.charCodeAt(l),l*2);return this._createEncoderBuffer(d)}else return f==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):f==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(f)?this._createEncoderBuffer(h):f==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+f+" unsupported")},i.prototype._encodeObjid=function(h,f,d){if(typeof h=="string"){if(!f)return this.reporter.error("string objid given, but no values map found");if(!f.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=f[h].split(/[\s.]+/g);for(let w=0;w<h.length;w++)h[w]|=0}else if(Array.isArray(h)){h=h.slice();for(let w=0;w<h.length;w++)h[w]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!d){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,h[0]*40+h[1])}let l=0;for(let w=0;w<h.length;w++){let E=h[w];for(l++;E>=128;E>>=7)l++}const y=e.alloc(l);let m=y.length-1;for(let w=h.length-1;w>=0;w--){let E=h[w];for(y[m--]=E&127;(E>>=7)>0;)y[m--]=128|E&127}return this._createEncoderBuffer(y)};function o(u){return u<10?"0"+u:u}i.prototype._encodeTime=function(h,f){let d;const l=new Date(h);return f==="gentime"?d=[o(l.getUTCFullYear()),o(l.getUTCMonth()+1),o(l.getUTCDate()),o(l.getUTCHours()),o(l.getUTCMinutes()),o(l.getUTCSeconds()),"Z"].join(""):f==="utctime"?d=[o(l.getUTCFullYear()%100),o(l.getUTCMonth()+1),o(l.getUTCDate()),o(l.getUTCHours()),o(l.getUTCMinutes()),o(l.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+f+" time is not supported yet"),this._encodeStr(d,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(h,f){if(typeof h=="string"){if(!f)return this.reporter.error("String int or enum given, but no values map");if(!f.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=f[h]}if(typeof h!="number"&&!e.isBuffer(h)){const y=h.toArray();!h.sign&&y[0]&128&&y.unshift(0),h=e.from(y)}if(e.isBuffer(h)){let y=h.length;h.length===0&&y++;const m=e.alloc(y);return h.copy(m),h.length===0&&(m[0]=0),this._createEncoderBuffer(m)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let d=1;for(let y=h;y>=256;y>>=8)d++;const l=new Array(d);for(let y=l.length-1;y>=0;y--)l[y]=h&255,h>>=8;return l[0]&128&&l.unshift(0),this._createEncoderBuffer(e.from(l))},i.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},i.prototype._use=function(h,f){return typeof h=="function"&&(h=h(f)),h._getEncoder("der").tree},i.prototype._skipDefault=function(h,f,d){const l=this._baseState;let y;if(l.default===null)return!1;const m=h.join();if(l.defaultBuffer===void 0&&(l.defaultBuffer=this._encodeValue(l.default,f,d).join()),m.length!==l.defaultBuffer.length)return!1;for(y=0;y<m.length;y++)if(m[y]!==l.defaultBuffer[y])return!1;return!0};function c(u,h,f,d){let l;if(u==="seqof"?u="seq":u==="setof"&&(u="set"),n.tagByName.hasOwnProperty(u))l=n.tagByName[u];else if(typeof u=="number"&&(u|0)===u)l=u;else return d.error("Unknown tag: "+u);return l>=31?d.error("Multi-octet tag encoding unsupported"):(h||(l|=32),l|=n.tagClassByName[f||"universal"]<<6,l)}return Hu}var zu,Up;function Dg(){if(Up)return zu;Up=1;const r=Ft(),e=Fp();function t(n){e.call(this,n),this.enc="pem"}return r(t,e),zu=t,t.prototype.encode=function(a,i){const c=e.prototype.encode.call(this,a).toString("base64"),u=["-----BEGIN "+i.label+"-----"];for(let h=0;h<c.length;h+=64)u.push(c.slice(h,h+64));return u.push("-----END "+i.label+"-----"),u.join(`
`)},zu}var jp;function $p(){return jp||(jp=1,function(r){const e=r;e.der=Fp(),e.pem=Dg()}(Pu)),Pu}var Vu={},Wu,Hp;function zp(){if(Hp)return Wu;Hp=1;const r=Ft(),e=Er(),t=Wi().DecoderBuffer,n=Uu(),a=$u();function i(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new o,this.tree._init(h.body)}Wu=i,i.prototype.decode=function(f,d){return t.isDecoderBuffer(f)||(f=new t(f,d)),this.tree._decode(f,d)};function o(h){n.call(this,"der",h)}r(o,n),o.prototype._peekTag=function(f,d,l){if(f.isEmpty())return!1;const y=f.save(),m=c(f,'Failed to peek tag: "'+d+'"');return f.isError(m)?m:(f.restore(y),m.tag===d||m.tagStr===d||m.tagStr+"of"===d||l)},o.prototype._decodeTag=function(f,d,l){const y=c(f,'Failed to decode tag of "'+d+'"');if(f.isError(y))return y;let m=u(f,y.primitive,'Failed to get length of "'+d+'"');if(f.isError(m))return m;if(!l&&y.tag!==d&&y.tagStr!==d&&y.tagStr+"of"!==d)return f.error('Failed to match tag: "'+d+'"');if(y.primitive||m!==null)return f.skip(m,'Failed to match body of: "'+d+'"');const w=f.save(),E=this._skipUntilEnd(f,'Failed to skip indefinite length body: "'+this.tag+'"');return f.isError(E)?E:(m=f.offset-w.offset,f.restore(w),f.skip(m,'Failed to match body of: "'+d+'"'))},o.prototype._skipUntilEnd=function(f,d){for(;;){const l=c(f,d);if(f.isError(l))return l;const y=u(f,l.primitive,d);if(f.isError(y))return y;let m;if(l.primitive||y!==null?m=f.skip(y):m=this._skipUntilEnd(f,d),f.isError(m))return m;if(l.tagStr==="end")break}},o.prototype._decodeList=function(f,d,l,y){const m=[];for(;!f.isEmpty();){const w=this._peekTag(f,"end");if(f.isError(w))return w;const E=l.decode(f,"der",y);if(f.isError(E)&&w)break;m.push(E)}return m},o.prototype._decodeStr=function(f,d){if(d==="bitstr"){const l=f.readUInt8();return f.isError(l)?l:{unused:l,data:f.raw()}}else if(d==="bmpstr"){const l=f.raw();if(l.length%2===1)return f.error("Decoding of string type: bmpstr length mismatch");let y="";for(let m=0;m<l.length/2;m++)y+=String.fromCharCode(l.readUInt16BE(m*2));return y}else if(d==="numstr"){const l=f.raw().toString("ascii");return this._isNumstr(l)?l:f.error("Decoding of string type: numstr unsupported characters")}else{if(d==="octstr")return f.raw();if(d==="objDesc")return f.raw();if(d==="printstr"){const l=f.raw().toString("ascii");return this._isPrintstr(l)?l:f.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(d)?f.raw().toString():f.error("Decoding of string type: "+d+" unsupported")}},o.prototype._decodeObjid=function(f,d,l){let y;const m=[];let w=0,E=0;for(;!f.isEmpty();)E=f.readUInt8(),w<<=7,w|=E&127,E&128||(m.push(w),w=0);E&128&&m.push(w);const x=m[0]/40|0,P=m[0]%40;if(l?y=m:y=[x,P].concat(m.slice(1)),d){let L=d[y.join(" ")];L===void 0&&(L=d[y.join(".")]),L!==void 0&&(y=L)}return y},o.prototype._decodeTime=function(f,d){const l=f.raw().toString();let y,m,w,E,x,P;if(d==="gentime")y=l.slice(0,4)|0,m=l.slice(4,6)|0,w=l.slice(6,8)|0,E=l.slice(8,10)|0,x=l.slice(10,12)|0,P=l.slice(12,14)|0;else if(d==="utctime")y=l.slice(0,2)|0,m=l.slice(2,4)|0,w=l.slice(4,6)|0,E=l.slice(6,8)|0,x=l.slice(8,10)|0,P=l.slice(10,12)|0,y<70?y=2e3+y:y=1900+y;else return f.error("Decoding "+d+" time is not supported yet");return Date.UTC(y,m-1,w,E,x,P,0)},o.prototype._decodeNull=function(){return null},o.prototype._decodeBool=function(f){const d=f.readUInt8();return f.isError(d)?d:d!==0},o.prototype._decodeInt=function(f,d){const l=f.raw();let y=new e(l);return d&&(y=d[y.toString(10)]||y),y},o.prototype._use=function(f,d){return typeof f=="function"&&(f=f(d)),f._getDecoder("der").tree};function c(h,f){let d=h.readUInt8(f);if(h.isError(d))return d;const l=a.tagClass[d>>6],y=(d&32)===0;if((d&31)===31){let w=d;for(d=0;(w&128)===128;){if(w=h.readUInt8(f),h.isError(w))return w;d<<=7,d|=w&127}}else d&=31;const m=a.tag[d];return{cls:l,primitive:y,tag:d,tagStr:m}}function u(h,f,d){let l=h.readUInt8(d);if(h.isError(l))return l;if(!f&&l===128)return null;if(!(l&128))return l;const y=l&127;if(y>4)return h.error("length octect is too long");l=0;for(let m=0;m<y;m++){l<<=8;const w=h.readUInt8(d);if(h.isError(w))return w;l|=w}return l}return Wu}var Ku,Vp;function Ng(){if(Vp)return Ku;Vp=1;const r=Ft(),e=Nu().Buffer,t=zp();function n(a){t.call(this,a),this.enc="pem"}return r(n,t),Ku=n,n.prototype.decode=function(i,o){const c=i.toString().split(/[\r\n]+/g),u=o.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/;let f=-1,d=-1;for(let m=0;m<c.length;m++){const w=c[m].match(h);if(w!==null&&w[2]===u)if(f===-1){if(w[1]!=="BEGIN")break;f=m}else{if(w[1]!=="END")break;d=m;break}}if(f===-1||d===-1)throw new Error("PEM section not found for: "+u);const l=c.slice(f+1,d).join("");l.replace(/[^a-z0-9+/=]+/gi,"");const y=e.from(l,"base64");return t.prototype.decode.call(this,y,o)},Ku}var Wp;function Kp(){return Wp||(Wp=1,function(r){const e=r;e.der=zp(),e.pem=Ng()}(Vu)),Vu}var Qp;function qg(){return Qp||(Qp=1,function(r){const e=$p(),t=Kp(),n=Ft(),a=r;a.define=function(c,u){return new i(c,u)};function i(o,c){this.name=o,this.body=c,this.decoders={},this.encoders={}}i.prototype._createNamed=function(c){const u=this.name;function h(f){this._initNamed(f,u)}return n(h,c),h.prototype._initNamed=function(d,l){c.call(this,d,l)},new h(this)},i.prototype._getDecoder=function(c){return c=c||"der",this.decoders.hasOwnProperty(c)||(this.decoders[c]=this._createNamed(t[c])),this.decoders[c]},i.prototype.decode=function(c,u,h){return this._getDecoder(u).decode(c,h)},i.prototype._getEncoder=function(c){return c=c||"der",this.encoders.hasOwnProperty(c)||(this.encoders[c]=this._createNamed(e[c])),this.encoders[c]},i.prototype.encode=function(c,u,h){return this._getEncoder(u).encode(c,h)}}(Bu)),Bu}var Qu={},Gp;function Lg(){return Gp||(Gp=1,function(r){const e=r;e.Reporter=Lu().Reporter,e.DecoderBuffer=Wi().DecoderBuffer,e.EncoderBuffer=Wi().EncoderBuffer,e.Node=Uu()}(Qu)),Qu}var Gu={},Jp;function Fg(){return Jp||(Jp=1,function(r){const e=r;e._reverse=function(n){const a={};return Object.keys(n).forEach(function(i){(i|0)==i&&(i=i|0);const o=n[i];a[o]=i}),a},e.der=$u()}(Gu)),Gu}var Yp;function Xp(){return Yp||(Yp=1,function(r){const e=r;e.bignum=Er(),e.define=qg().define,e.base=Lg(),e.constants=Fg(),e.decoders=Kp(),e.encoders=$p()}(Ou)),Ou}var Ju,Zp;function Ug(){if(Zp)return Ju;Zp=1;var r=Xp(),e=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),t=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),n=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}),i=r.define("RelativeDistinguishedName",function(){this.setof(t)}),o=r.define("RDNSequence",function(){this.seqof(i)}),c=r.define("Name",function(){this.choice({rdnSequence:this.use(o)})}),u=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),h=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(n),this.key("issuer").use(c),this.key("validity").use(u),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),d=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(n),this.key("signatureValue").bitstr())});return Ju=d,Ju}var ev;function jg(){if(ev)return Qr;ev=1;var r=Xp();Qr.certificate=Ug();var e=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Qr.RSAPrivateKey=e;var t=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Qr.RSAPublicKey=t;var n=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});Qr.PublicKey=n;var a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),i=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});Qr.PrivateKey=i;var o=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Qr.EncryptedPrivateKey=o;var c=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Qr.DSAPrivateKey=c,Qr.DSAparam=r.define("DSAparam",function(){this.int()});var u=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});Qr.ECPrivateKey=u;var h=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});return Qr.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),Qr}const $g={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var Yu,tv;function Hg(){if(tv)return Yu;tv=1;var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,n=Ga(),a=Gf(),i=Ut().Buffer;return Yu=function(o,c){var u=o.toString(),h=u.match(r),f;if(h){var l="aes"+h[1],y=i.from(h[2],"hex"),m=i.from(h[3].replace(/[\r\n]/g,""),"base64"),w=n(c,y.slice(0,8),parseInt(h[1],10)).key,E=[],x=a.createDecipheriv(l,w,y);E.push(x.update(m)),E.push(x.final()),f=i.concat(E)}else{var d=u.match(t);f=i.from(d[2].replace(/[\r\n]/g,""),"base64")}var P=u.match(e)[1];return{tag:P,data:f}},Yu}var Xu,rv;function no(){if(rv)return Xu;rv=1;var r=jg(),e=$g,t=Hg(),n=Gf(),a=ad(),i=Ut().Buffer;Xu=o;function o(u){var h;typeof u=="object"&&!i.isBuffer(u)&&(h=u.passphrase,u=u.key),typeof u=="string"&&(u=i.from(u));var f=t(u,h),d=f.tag,l=f.data,y,m;switch(d){case"CERTIFICATE":m=r.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(m||(m=r.PublicKey.decode(l,"der")),y=m.algorithm.algorithm.join("."),y){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(m.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return m.subjectPrivateKey=m.subjectPublicKey,{type:"ec",data:m};case"1.2.840.10040.4.1":return m.algorithm.params.pub_key=r.DSAparam.decode(m.subjectPublicKey.data,"der"),{type:"dsa",data:m.algorithm.params};default:throw new Error("unknown key id "+y)}case"ENCRYPTED PRIVATE KEY":l=r.EncryptedPrivateKey.decode(l,"der"),l=c(l,h);case"PRIVATE KEY":switch(m=r.PrivateKey.decode(l,"der"),y=m.algorithm.algorithm.join("."),y){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(m.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:m.algorithm.curve,privateKey:r.ECPrivateKey.decode(m.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return m.algorithm.params.priv_key=r.DSAparam.decode(m.subjectPrivateKey,"der"),{type:"dsa",params:m.algorithm.params};default:throw new Error("unknown key id "+y)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return l=r.ECPrivateKey.decode(l,"der"),{curve:l.parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+d)}}o.signature=r.signature;function c(u,h){var f=u.algorithm.decrypt.kde.kdeparams.salt,d=parseInt(u.algorithm.decrypt.kde.kdeparams.iters.toString(),10),l=e[u.algorithm.decrypt.cipher.algo.join(".")],y=u.algorithm.decrypt.cipher.iv,m=u.subjectPrivateKey,w=parseInt(l.split("-")[1],10)/8,E=a.pbkdf2Sync(h,f,d,w,"sha1"),x=n.createDecipheriv(l,E,y),P=[];return P.push(x.update(m)),P.push(x.final()),i.concat(P)}return Xu}const nv={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var iv;function zg(){if(iv)return zi.exports;iv=1;var r=Ut().Buffer,e=W0(),t=ru(),n=Cu().ec,a=Op(),i=no(),o=nv,c=1;function u(x,P,L,U,z){var W=i(P);if(W.curve){if(U!=="ecdsa"&&U!=="ecdsa/rsa")throw new Error("wrong private key type");return h(x,W)}else if(W.type==="dsa"){if(U!=="dsa")throw new Error("wrong private key type");return f(x,W,L)}if(U!=="rsa"&&U!=="ecdsa/rsa")throw new Error("wrong private key type");if(P.padding!==void 0&&P.padding!==c)throw new Error("illegal or unsupported padding mode");x=r.concat([z,x]);for(var re=W.modulus.byteLength(),ie=[0,1];x.length+ie.length+1<re;)ie.push(255);ie.push(0);for(var se=-1;++se<x.length;)ie.push(x[se]);var ve=t(ie,W);return ve}function h(x,P){var L=o[P.curve.join(".")];if(!L)throw new Error("unknown curve "+P.curve.join("."));var U=new n(L),z=U.keyFromPrivate(P.privateKey),W=z.sign(x);return r.from(W.toDER())}function f(x,P,L){for(var U=P.params.priv_key,z=P.params.p,W=P.params.q,re=P.params.g,ie=new a(0),se,ve=y(x,W).mod(W),Q=!1,M=l(U,W,x,L);Q===!1;)se=w(W,M,L),ie=E(re,se,z,W),Q=se.invm(W).imul(ve.add(U.mul(ie))).mod(W),Q.cmpn(0)===0&&(Q=!1,ie=new a(0));return d(ie,Q)}function d(x,P){x=x.toArray(),P=P.toArray(),x[0]&128&&(x=[0].concat(x)),P[0]&128&&(P=[0].concat(P));var L=x.length+P.length+4,U=[48,L,2,x.length];return U=U.concat(x,[2,P.length],P),r.from(U)}function l(x,P,L,U){if(x=r.from(x.toArray()),x.length<P.byteLength()){var z=r.alloc(P.byteLength()-x.length);x=r.concat([z,x])}var W=L.length,re=m(L,P),ie=r.alloc(W);ie.fill(1);var se=r.alloc(W);return se=e(U,se).update(ie).update(r.from([0])).update(x).update(re).digest(),ie=e(U,se).update(ie).digest(),se=e(U,se).update(ie).update(r.from([1])).update(x).update(re).digest(),ie=e(U,se).update(ie).digest(),{k:se,v:ie}}function y(x,P){var L=new a(x),U=(x.length<<3)-P.bitLength();return U>0&&L.ishrn(U),L}function m(x,P){x=y(x,P),x=x.mod(P);var L=r.from(x.toArray());if(L.length<P.byteLength()){var U=r.alloc(P.byteLength()-L.length);L=r.concat([U,L])}return L}function w(x,P,L){var U,z;do{for(U=r.alloc(0);U.length*8<x.bitLength();)P.v=e(L,P.k).update(P.v).digest(),U=r.concat([U,P.v]);z=y(U,x),P.k=e(L,P.k).update(P.v).update(r.from([0])).digest(),P.v=e(L,P.k).update(P.v).digest()}while(z.cmp(x)!==-1);return z}function E(x,P,L,U){return x.toRed(a.mont(L)).redPow(P).fromRed().mod(U)}return zi.exports=u,zi.exports.getKey=l,zi.exports.makeKey=w,zi.exports}var Zu,av;function Vg(){if(av)return Zu;av=1;var r=Ut().Buffer,e=Op(),t=Cu().ec,n=no(),a=nv;function i(h,f,d,l,y){var m=n(d);if(m.type==="ec"){if(l!=="ecdsa"&&l!=="ecdsa/rsa")throw new Error("wrong public key type");return o(h,f,m)}else if(m.type==="dsa"){if(l!=="dsa")throw new Error("wrong public key type");return c(h,f,m)}if(l!=="rsa"&&l!=="ecdsa/rsa")throw new Error("wrong public key type");f=r.concat([y,f]);for(var w=m.modulus.byteLength(),E=[1],x=0;f.length+E.length+2<w;)E.push(255),x+=1;E.push(0);for(var P=-1;++P<f.length;)E.push(f[P]);E=r.from(E);var L=e.mont(m.modulus);h=new e(h).toRed(L),h=h.redPow(new e(m.publicExponent)),h=r.from(h.fromRed().toArray());var U=x<8?1:0;for(w=Math.min(h.length,E.length),h.length!==E.length&&(U=1),P=-1;++P<w;)U|=h[P]^E[P];return U===0}function o(h,f,d){var l=a[d.data.algorithm.curve.join(".")];if(!l)throw new Error("unknown curve "+d.data.algorithm.curve.join("."));var y=new t(l),m=d.data.subjectPrivateKey.data;return y.verify(f,h,m)}function c(h,f,d){var l=d.data.p,y=d.data.q,m=d.data.g,w=d.data.pub_key,E=n.signature.decode(h,"der"),x=E.s,P=E.r;u(x,y),u(P,y);var L=e.mont(l),U=x.invm(y),z=m.toRed(L).redPow(new e(f).mul(U).mod(y)).fromRed().mul(w.toRed(L).redPow(P.mul(U).mod(y)).fromRed()).mod(l).mod(y);return z.cmp(P)===0}function u(h,f){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(f)>=0)throw new Error("invalid sig")}return Zu=i,Zu}var ec,ov;function Wg(){if(ov)return ec;ov=1;var r=Ut().Buffer,e=$i(),t=E0(),n=Ft(),a=zg(),i=Vg(),o=K0;Object.keys(o).forEach(function(d){o[d].id=r.from(o[d].id,"hex"),o[d.toLowerCase()]=o[d]});function c(d){t.Writable.call(this);var l=o[d];if(!l)throw new Error("Unknown message digest");this._hashType=l.hash,this._hash=e(l.hash),this._tag=l.id,this._signType=l.sign}n(c,t.Writable),c.prototype._write=function(l,y,m){this._hash.update(l),m()},c.prototype.update=function(l,y){return this._hash.update(typeof l=="string"?r.from(l,y):l),this},c.prototype.sign=function(l,y){this.end();var m=this._hash.digest(),w=a(m,l,this._hashType,this._signType,this._tag);return y?w.toString(y):w};function u(d){t.Writable.call(this);var l=o[d];if(!l)throw new Error("Unknown message digest");this._hash=e(l.hash),this._tag=l.id,this._signType=l.sign}n(u,t.Writable),u.prototype._write=function(l,y,m){this._hash.update(l),m()},u.prototype.update=function(l,y){return this._hash.update(typeof l=="string"?r.from(l,y):l),this},u.prototype.verify=function(l,y,m){var w=typeof y=="string"?r.from(y,m):y;this.end();var E=this._hash.digest();return i(w,E,l,this._signType,this._tag)};function h(d){return new c(d)}function f(d){return new u(d)}return ec={Sign:h,Verify:f,createSign:h,createVerify:f},ec}var tc,sv;function Kg(){if(sv)return tc;sv=1;var r=Cu(),e=Er();tc=function(o){return new n(o)};var t={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};t.p224=t.secp224r1,t.p256=t.secp256r1=t.prime256v1,t.p192=t.secp192r1=t.prime192v1,t.p384=t.secp384r1,t.p521=t.secp521r1;function n(i){this.curveType=t[i],this.curveType||(this.curveType={name:i}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(i,o){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,o)},n.prototype.computeSecret=function(i,o,c){o=o||"utf8",Jt.isBuffer(i)||(i=new Jt(i,o));var u=this.curve.keyFromPublic(i).getPublic(),h=u.mul(this.keys.getPrivate()).getX();return a(h,c,this.curveType.byteLength)},n.prototype.getPublicKey=function(i,o){var c=this.keys.getPublic(o==="compressed",!0);return o==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),a(c,i)},n.prototype.getPrivateKey=function(i){return a(this.keys.getPrivate(),i)},n.prototype.setPublicKey=function(i,o){return o=o||"utf8",Jt.isBuffer(i)||(i=new Jt(i,o)),this.keys._importPublic(i),this},n.prototype.setPrivateKey=function(i,o){o=o||"utf8",Jt.isBuffer(i)||(i=new Jt(i,o));var c=new e(i);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function a(i,o,c){Array.isArray(i)||(i=i.toArray());var u=new Jt(i);if(c&&u.length<c){var h=new Jt(c-u.length);h.fill(0),u=Jt.concat([h,u])}return o?u.toString(o):u}return tc}var rc={},nc,fv;function uv(){if(fv)return nc;fv=1;var r=$i(),e=Ut().Buffer;nc=function(n,a){for(var i=e.alloc(0),o=0,c;i.length<a;)c=t(o++),i=e.concat([i,r("sha1").update(n).update(c).digest()]);return i.slice(0,a)};function t(n){var a=e.allocUnsafe(4);return a.writeUInt32BE(n,0),a}return nc}var ic,cv;function hv(){return cv||(cv=1,ic=function(e,t){for(var n=e.length,a=-1;++a<n;)e[a]^=t[a];return e}),ic}var ac,lv;function dv(){if(lv)return ac;lv=1;var r=Er(),e=Ut().Buffer;function t(n,a){return e.from(n.toRed(r.mont(a.modulus)).redPow(new r(a.publicExponent)).fromRed().toArray())}return ac=t,ac}var oc,pv;function Qg(){if(pv)return oc;pv=1;var r=no(),e=hi(),t=$i(),n=uv(),a=hv(),i=Er(),o=dv(),c=ru(),u=Ut().Buffer;oc=function(y,m,w){var E;y.padding?E=y.padding:w?E=1:E=4;var x=r(y),P;if(E===4)P=h(x,m);else if(E===1)P=f(x,m,w);else if(E===3){if(P=new i(m),P.cmp(x.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return w?c(P,x):o(P,x)};function h(l,y){var m=l.modulus.byteLength(),w=y.length,E=t("sha1").update(u.alloc(0)).digest(),x=E.length,P=2*x;if(w>m-P-2)throw new Error("message too long");var L=u.alloc(m-w-P-2),U=m-x-1,z=e(x),W=a(u.concat([E,L,u.alloc(1,1),y],U),n(z,U)),re=a(z,n(W,x));return new i(u.concat([u.alloc(1),re,W],m))}function f(l,y,m){var w=y.length,E=l.modulus.byteLength();if(w>E-11)throw new Error("message too long");var x;return m?x=u.alloc(E-w-3,255):x=d(E-w-3),new i(u.concat([u.from([0,m?1:2]),x,u.alloc(1),y],E))}function d(l){for(var y=u.allocUnsafe(l),m=0,w=e(l*2),E=0,x;m<l;)E===w.length&&(w=e(l*2),E=0),x=w[E++],x&&(y[m++]=x);return y}return oc}var sc,vv;function Gg(){if(vv)return sc;vv=1;var r=no(),e=uv(),t=hv(),n=Er(),a=ru(),i=$i(),o=dv(),c=Ut().Buffer;sc=function(l,y,m){var w;l.padding?w=l.padding:m?w=1:w=4;var E=r(l),x=E.modulus.byteLength();if(y.length>x||new n(y).cmp(E.modulus)>=0)throw new Error("decryption error");var P;m?P=o(new n(y),E):P=a(y,E);var L=c.alloc(x-P.length);if(P=c.concat([L,P],x),w===4)return u(E,P);if(w===1)return h(E,P,m);if(w===3)return P;throw new Error("unknown padding")};function u(d,l){var y=d.modulus.byteLength(),m=i("sha1").update(c.alloc(0)).digest(),w=m.length;if(l[0]!==0)throw new Error("decryption error");var E=l.slice(1,w+1),x=l.slice(w+1),P=t(E,e(x,w)),L=t(x,e(P,y-w-1));if(f(m,L.slice(0,w)))throw new Error("decryption error");for(var U=w;L[U]===0;)U++;if(L[U++]!==1)throw new Error("decryption error");return L.slice(U)}function h(d,l,y){for(var m=l.slice(0,2),w=2,E=0;l[w++]!==0;)if(w>=l.length){E++;break}var x=l.slice(2,w-1);if((m.toString("hex")!=="0002"&&!y||m.toString("hex")!=="0001"&&y)&&E++,x.length<8&&E++,E)throw new Error("decryption error");return l.slice(w)}function f(d,l){d=c.from(d),l=c.from(l);var y=0,m=d.length;d.length!==l.length&&(y++,m=Math.min(d.length,l.length));for(var w=-1;++w<m;)y+=d[w]^l[w];return y}return sc}var yv;function Jg(){return yv||(yv=1,function(r){r.publicEncrypt=Qg(),r.privateDecrypt=Gg(),r.privateEncrypt=function(t,n){return r.publicEncrypt(t,n,!0)},r.publicDecrypt=function(t,n){return r.privateDecrypt(t,n,!0)}}(rc)),rc}var pi={},bv;function Yg(){if(bv)return pi;bv=1;function r(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=Ut(),t=hi(),n=e.Buffer,a=e.kMaxLength,i=Kt.crypto||Kt.msCrypto,o=Math.pow(2,32)-1;function c(l,y){if(typeof l!="number"||l!==l)throw new TypeError("offset must be a number");if(l>o||l<0)throw new TypeError("offset must be a uint32");if(l>a||l>y)throw new RangeError("offset out of range")}function u(l,y,m){if(typeof l!="number"||l!==l)throw new TypeError("size must be a number");if(l>o||l<0)throw new TypeError("size must be a uint32");if(l+y>m||l>a)throw new RangeError("buffer too small")}i&&i.getRandomValues||!Ot.browser?(pi.randomFill=h,pi.randomFillSync=d):(pi.randomFill=r,pi.randomFillSync=r);function h(l,y,m,w){if(!n.isBuffer(l)&&!(l instanceof Kt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof y=="function")w=y,y=0,m=l.length;else if(typeof m=="function")w=m,m=l.length-y;else if(typeof w!="function")throw new TypeError('"cb" argument must be a function');return c(y,l.length),u(m,y,l.length),f(l,y,m,w)}function f(l,y,m,w){if(Ot.browser){var E=l.buffer,x=new Uint8Array(E,y,m);if(i.getRandomValues(x),w){Ot.nextTick(function(){w(null,l)});return}return l}if(w){t(m,function(L,U){if(L)return w(L);U.copy(l,y),w(null,l)});return}var P=t(m);return P.copy(l,y),l}function d(l,y,m){if(typeof y=="undefined"&&(y=0),!n.isBuffer(l)&&!(l instanceof Kt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return c(y,l.length),m===void 0&&(m=l.length-y),u(m,y,l.length),f(l,y,m)}return pi}var mv;function gv(){if(mv)return Nt;mv=1,Nt.randomBytes=Nt.rng=Nt.pseudoRandomBytes=Nt.prng=hi(),Nt.createHash=Nt.Hash=$i(),Nt.createHmac=Nt.Hmac=W0();var r=Jm(),e=Object.keys(r),t=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);Nt.getHashes=function(){return t};var n=ad();Nt.pbkdf2=n.pbkdf2,Nt.pbkdf2Sync=n.pbkdf2Sync;var a=lg();Nt.Cipher=a.Cipher,Nt.createCipher=a.createCipher,Nt.Cipheriv=a.Cipheriv,Nt.createCipheriv=a.createCipheriv,Nt.Decipher=a.Decipher,Nt.createDecipher=a.createDecipher,Nt.Decipheriv=a.Decipheriv,Nt.createDecipheriv=a.createDecipheriv,Nt.getCiphers=a.getCiphers,Nt.listCiphers=a.listCiphers;var i=vg();Nt.DiffieHellmanGroup=i.DiffieHellmanGroup,Nt.createDiffieHellmanGroup=i.createDiffieHellmanGroup,Nt.getDiffieHellman=i.getDiffieHellman,Nt.createDiffieHellman=i.createDiffieHellman,Nt.DiffieHellman=i.DiffieHellman;var o=Wg();Nt.createSign=o.createSign,Nt.Sign=o.Sign,Nt.createVerify=o.createVerify,Nt.Verify=o.Verify,Nt.createECDH=Kg();var c=Jg();Nt.publicEncrypt=c.publicEncrypt,Nt.privateEncrypt=c.privateEncrypt,Nt.publicDecrypt=c.publicDecrypt,Nt.privateDecrypt=c.privateDecrypt;var u=Yg();return Nt.randomFill=u.randomFill,Nt.randomFillSync=u.randomFillSync,Nt.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},Nt.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},Nt}(function(r){(function(e){var t=function($){var N,D=new Float64Array(16);if($)for(N=0;N<$.length;N++)D[N]=$[N];return D},n=function(){throw new Error("no PRNG")},a=new Uint8Array(16),i=new Uint8Array(32);i[0]=9;var o=t(),c=t([1]),u=t([56129,1]),h=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m($,N,D,_){$[N]=D>>24&255,$[N+1]=D>>16&255,$[N+2]=D>>8&255,$[N+3]=D&255,$[N+4]=_>>24&255,$[N+5]=_>>16&255,$[N+6]=_>>8&255,$[N+7]=_&255}function w($,N,D,_,j){var Y,ae=0;for(Y=0;Y<j;Y++)ae|=$[N+Y]^D[_+Y];return(1&ae-1>>>8)-1}function E($,N,D,_){return w($,N,D,_,16)}function x($,N,D,_){return w($,N,D,_,32)}function P($,N,D,_){for(var j=_[0]&255|(_[1]&255)<<8|(_[2]&255)<<16|(_[3]&255)<<24,Y=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,ae=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,ce=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,me=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,Me=_[4]&255|(_[5]&255)<<8|(_[6]&255)<<16|(_[7]&255)<<24,Se=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,Ge=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,Be=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,Ye=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,Pe=_[8]&255|(_[9]&255)<<8|(_[10]&255)<<16|(_[11]&255)<<24,et=D[16]&255|(D[17]&255)<<8|(D[18]&255)<<16|(D[19]&255)<<24,nt=D[20]&255|(D[21]&255)<<8|(D[22]&255)<<16|(D[23]&255)<<24,Qe=D[24]&255|(D[25]&255)<<8|(D[26]&255)<<16|(D[27]&255)<<24,vt=D[28]&255|(D[29]&255)<<8|(D[30]&255)<<16|(D[31]&255)<<24,ut=_[12]&255|(_[13]&255)<<8|(_[14]&255)<<16|(_[15]&255)<<24,Le=j,it=Y,$e=ae,He=ce,We=me,Fe=Me,ye=Se,be=Ge,Re=Be,Te=Ye,Ie=Pe,De=et,xt=nt,It=Qe,Ct=vt,kt=ut,ue,qt=0;qt<20;qt+=2)ue=Le+xt|0,We^=ue<<7|ue>>>25,ue=We+Le|0,Re^=ue<<9|ue>>>23,ue=Re+We|0,xt^=ue<<13|ue>>>19,ue=xt+Re|0,Le^=ue<<18|ue>>>14,ue=Fe+it|0,Te^=ue<<7|ue>>>25,ue=Te+Fe|0,It^=ue<<9|ue>>>23,ue=It+Te|0,it^=ue<<13|ue>>>19,ue=it+It|0,Fe^=ue<<18|ue>>>14,ue=Ie+ye|0,Ct^=ue<<7|ue>>>25,ue=Ct+Ie|0,$e^=ue<<9|ue>>>23,ue=$e+Ct|0,ye^=ue<<13|ue>>>19,ue=ye+$e|0,Ie^=ue<<18|ue>>>14,ue=kt+De|0,He^=ue<<7|ue>>>25,ue=He+kt|0,be^=ue<<9|ue>>>23,ue=be+He|0,De^=ue<<13|ue>>>19,ue=De+be|0,kt^=ue<<18|ue>>>14,ue=Le+He|0,it^=ue<<7|ue>>>25,ue=it+Le|0,$e^=ue<<9|ue>>>23,ue=$e+it|0,He^=ue<<13|ue>>>19,ue=He+$e|0,Le^=ue<<18|ue>>>14,ue=Fe+We|0,ye^=ue<<7|ue>>>25,ue=ye+Fe|0,be^=ue<<9|ue>>>23,ue=be+ye|0,We^=ue<<13|ue>>>19,ue=We+be|0,Fe^=ue<<18|ue>>>14,ue=Ie+Te|0,De^=ue<<7|ue>>>25,ue=De+Ie|0,Re^=ue<<9|ue>>>23,ue=Re+De|0,Te^=ue<<13|ue>>>19,ue=Te+Re|0,Ie^=ue<<18|ue>>>14,ue=kt+Ct|0,xt^=ue<<7|ue>>>25,ue=xt+kt|0,It^=ue<<9|ue>>>23,ue=It+xt|0,Ct^=ue<<13|ue>>>19,ue=Ct+It|0,kt^=ue<<18|ue>>>14;Le=Le+j|0,it=it+Y|0,$e=$e+ae|0,He=He+ce|0,We=We+me|0,Fe=Fe+Me|0,ye=ye+Se|0,be=be+Ge|0,Re=Re+Be|0,Te=Te+Ye|0,Ie=Ie+Pe|0,De=De+et|0,xt=xt+nt|0,It=It+Qe|0,Ct=Ct+vt|0,kt=kt+ut|0,$[0]=Le>>>0&255,$[1]=Le>>>8&255,$[2]=Le>>>16&255,$[3]=Le>>>24&255,$[4]=it>>>0&255,$[5]=it>>>8&255,$[6]=it>>>16&255,$[7]=it>>>24&255,$[8]=$e>>>0&255,$[9]=$e>>>8&255,$[10]=$e>>>16&255,$[11]=$e>>>24&255,$[12]=He>>>0&255,$[13]=He>>>8&255,$[14]=He>>>16&255,$[15]=He>>>24&255,$[16]=We>>>0&255,$[17]=We>>>8&255,$[18]=We>>>16&255,$[19]=We>>>24&255,$[20]=Fe>>>0&255,$[21]=Fe>>>8&255,$[22]=Fe>>>16&255,$[23]=Fe>>>24&255,$[24]=ye>>>0&255,$[25]=ye>>>8&255,$[26]=ye>>>16&255,$[27]=ye>>>24&255,$[28]=be>>>0&255,$[29]=be>>>8&255,$[30]=be>>>16&255,$[31]=be>>>24&255,$[32]=Re>>>0&255,$[33]=Re>>>8&255,$[34]=Re>>>16&255,$[35]=Re>>>24&255,$[36]=Te>>>0&255,$[37]=Te>>>8&255,$[38]=Te>>>16&255,$[39]=Te>>>24&255,$[40]=Ie>>>0&255,$[41]=Ie>>>8&255,$[42]=Ie>>>16&255,$[43]=Ie>>>24&255,$[44]=De>>>0&255,$[45]=De>>>8&255,$[46]=De>>>16&255,$[47]=De>>>24&255,$[48]=xt>>>0&255,$[49]=xt>>>8&255,$[50]=xt>>>16&255,$[51]=xt>>>24&255,$[52]=It>>>0&255,$[53]=It>>>8&255,$[54]=It>>>16&255,$[55]=It>>>24&255,$[56]=Ct>>>0&255,$[57]=Ct>>>8&255,$[58]=Ct>>>16&255,$[59]=Ct>>>24&255,$[60]=kt>>>0&255,$[61]=kt>>>8&255,$[62]=kt>>>16&255,$[63]=kt>>>24&255}function L($,N,D,_){for(var j=_[0]&255|(_[1]&255)<<8|(_[2]&255)<<16|(_[3]&255)<<24,Y=D[0]&255|(D[1]&255)<<8|(D[2]&255)<<16|(D[3]&255)<<24,ae=D[4]&255|(D[5]&255)<<8|(D[6]&255)<<16|(D[7]&255)<<24,ce=D[8]&255|(D[9]&255)<<8|(D[10]&255)<<16|(D[11]&255)<<24,me=D[12]&255|(D[13]&255)<<8|(D[14]&255)<<16|(D[15]&255)<<24,Me=_[4]&255|(_[5]&255)<<8|(_[6]&255)<<16|(_[7]&255)<<24,Se=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,Ge=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,Be=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,Ye=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,Pe=_[8]&255|(_[9]&255)<<8|(_[10]&255)<<16|(_[11]&255)<<24,et=D[16]&255|(D[17]&255)<<8|(D[18]&255)<<16|(D[19]&255)<<24,nt=D[20]&255|(D[21]&255)<<8|(D[22]&255)<<16|(D[23]&255)<<24,Qe=D[24]&255|(D[25]&255)<<8|(D[26]&255)<<16|(D[27]&255)<<24,vt=D[28]&255|(D[29]&255)<<8|(D[30]&255)<<16|(D[31]&255)<<24,ut=_[12]&255|(_[13]&255)<<8|(_[14]&255)<<16|(_[15]&255)<<24,Le=j,it=Y,$e=ae,He=ce,We=me,Fe=Me,ye=Se,be=Ge,Re=Be,Te=Ye,Ie=Pe,De=et,xt=nt,It=Qe,Ct=vt,kt=ut,ue,qt=0;qt<20;qt+=2)ue=Le+xt|0,We^=ue<<7|ue>>>25,ue=We+Le|0,Re^=ue<<9|ue>>>23,ue=Re+We|0,xt^=ue<<13|ue>>>19,ue=xt+Re|0,Le^=ue<<18|ue>>>14,ue=Fe+it|0,Te^=ue<<7|ue>>>25,ue=Te+Fe|0,It^=ue<<9|ue>>>23,ue=It+Te|0,it^=ue<<13|ue>>>19,ue=it+It|0,Fe^=ue<<18|ue>>>14,ue=Ie+ye|0,Ct^=ue<<7|ue>>>25,ue=Ct+Ie|0,$e^=ue<<9|ue>>>23,ue=$e+Ct|0,ye^=ue<<13|ue>>>19,ue=ye+$e|0,Ie^=ue<<18|ue>>>14,ue=kt+De|0,He^=ue<<7|ue>>>25,ue=He+kt|0,be^=ue<<9|ue>>>23,ue=be+He|0,De^=ue<<13|ue>>>19,ue=De+be|0,kt^=ue<<18|ue>>>14,ue=Le+He|0,it^=ue<<7|ue>>>25,ue=it+Le|0,$e^=ue<<9|ue>>>23,ue=$e+it|0,He^=ue<<13|ue>>>19,ue=He+$e|0,Le^=ue<<18|ue>>>14,ue=Fe+We|0,ye^=ue<<7|ue>>>25,ue=ye+Fe|0,be^=ue<<9|ue>>>23,ue=be+ye|0,We^=ue<<13|ue>>>19,ue=We+be|0,Fe^=ue<<18|ue>>>14,ue=Ie+Te|0,De^=ue<<7|ue>>>25,ue=De+Ie|0,Re^=ue<<9|ue>>>23,ue=Re+De|0,Te^=ue<<13|ue>>>19,ue=Te+Re|0,Ie^=ue<<18|ue>>>14,ue=kt+Ct|0,xt^=ue<<7|ue>>>25,ue=xt+kt|0,It^=ue<<9|ue>>>23,ue=It+xt|0,Ct^=ue<<13|ue>>>19,ue=Ct+It|0,kt^=ue<<18|ue>>>14;$[0]=Le>>>0&255,$[1]=Le>>>8&255,$[2]=Le>>>16&255,$[3]=Le>>>24&255,$[4]=Fe>>>0&255,$[5]=Fe>>>8&255,$[6]=Fe>>>16&255,$[7]=Fe>>>24&255,$[8]=Ie>>>0&255,$[9]=Ie>>>8&255,$[10]=Ie>>>16&255,$[11]=Ie>>>24&255,$[12]=kt>>>0&255,$[13]=kt>>>8&255,$[14]=kt>>>16&255,$[15]=kt>>>24&255,$[16]=ye>>>0&255,$[17]=ye>>>8&255,$[18]=ye>>>16&255,$[19]=ye>>>24&255,$[20]=be>>>0&255,$[21]=be>>>8&255,$[22]=be>>>16&255,$[23]=be>>>24&255,$[24]=Re>>>0&255,$[25]=Re>>>8&255,$[26]=Re>>>16&255,$[27]=Re>>>24&255,$[28]=Te>>>0&255,$[29]=Te>>>8&255,$[30]=Te>>>16&255,$[31]=Te>>>24&255}function U($,N,D,_){P($,N,D,_)}function z($,N,D,_){L($,N,D,_)}var W=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function re($,N,D,_,j,Y,ae){var ce=new Uint8Array(16),me=new Uint8Array(64),Me,Se;for(Se=0;Se<16;Se++)ce[Se]=0;for(Se=0;Se<8;Se++)ce[Se]=Y[Se];for(;j>=64;){for(U(me,ce,ae,W),Se=0;Se<64;Se++)$[N+Se]=D[_+Se]^me[Se];for(Me=1,Se=8;Se<16;Se++)Me=Me+(ce[Se]&255)|0,ce[Se]=Me&255,Me>>>=8;j-=64,N+=64,_+=64}if(j>0)for(U(me,ce,ae,W),Se=0;Se<j;Se++)$[N+Se]=D[_+Se]^me[Se];return 0}function ie($,N,D,_,j){var Y=new Uint8Array(16),ae=new Uint8Array(64),ce,me;for(me=0;me<16;me++)Y[me]=0;for(me=0;me<8;me++)Y[me]=_[me];for(;D>=64;){for(U(ae,Y,j,W),me=0;me<64;me++)$[N+me]=ae[me];for(ce=1,me=8;me<16;me++)ce=ce+(Y[me]&255)|0,Y[me]=ce&255,ce>>>=8;D-=64,N+=64}if(D>0)for(U(ae,Y,j,W),me=0;me<D;me++)$[N+me]=ae[me];return 0}function se($,N,D,_,j){var Y=new Uint8Array(32);z(Y,_,j,W);for(var ae=new Uint8Array(8),ce=0;ce<8;ce++)ae[ce]=_[ce+16];return ie($,N,D,ae,Y)}function ve($,N,D,_,j,Y,ae){var ce=new Uint8Array(32);z(ce,Y,ae,W);for(var me=new Uint8Array(8),Me=0;Me<8;Me++)me[Me]=Y[Me+16];return re($,N,D,_,j,me,ce)}var Q=function($){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var N,D,_,j,Y,ae,ce,me;N=$[0]&255|($[1]&255)<<8,this.r[0]=N&8191,D=$[2]&255|($[3]&255)<<8,this.r[1]=(N>>>13|D<<3)&8191,_=$[4]&255|($[5]&255)<<8,this.r[2]=(D>>>10|_<<6)&7939,j=$[6]&255|($[7]&255)<<8,this.r[3]=(_>>>7|j<<9)&8191,Y=$[8]&255|($[9]&255)<<8,this.r[4]=(j>>>4|Y<<12)&255,this.r[5]=Y>>>1&8190,ae=$[10]&255|($[11]&255)<<8,this.r[6]=(Y>>>14|ae<<2)&8191,ce=$[12]&255|($[13]&255)<<8,this.r[7]=(ae>>>11|ce<<5)&8065,me=$[14]&255|($[15]&255)<<8,this.r[8]=(ce>>>8|me<<8)&8191,this.r[9]=me>>>5&127,this.pad[0]=$[16]&255|($[17]&255)<<8,this.pad[1]=$[18]&255|($[19]&255)<<8,this.pad[2]=$[20]&255|($[21]&255)<<8,this.pad[3]=$[22]&255|($[23]&255)<<8,this.pad[4]=$[24]&255|($[25]&255)<<8,this.pad[5]=$[26]&255|($[27]&255)<<8,this.pad[6]=$[28]&255|($[29]&255)<<8,this.pad[7]=$[30]&255|($[31]&255)<<8};Q.prototype.blocks=function($,N,D){for(var _=this.fin?0:2048,j,Y,ae,ce,me,Me,Se,Ge,Be,Ye,Pe,et,nt,Qe,vt,ut,Le,it,$e,He=this.h[0],We=this.h[1],Fe=this.h[2],ye=this.h[3],be=this.h[4],Re=this.h[5],Te=this.h[6],Ie=this.h[7],De=this.h[8],xt=this.h[9],It=this.r[0],Ct=this.r[1],kt=this.r[2],ue=this.r[3],qt=this.r[4],Qt=this.r[5],Gt=this.r[6],Pt=this.r[7],Wt=this.r[8],Ht=this.r[9];D>=16;)j=$[N+0]&255|($[N+1]&255)<<8,He+=j&8191,Y=$[N+2]&255|($[N+3]&255)<<8,We+=(j>>>13|Y<<3)&8191,ae=$[N+4]&255|($[N+5]&255)<<8,Fe+=(Y>>>10|ae<<6)&8191,ce=$[N+6]&255|($[N+7]&255)<<8,ye+=(ae>>>7|ce<<9)&8191,me=$[N+8]&255|($[N+9]&255)<<8,be+=(ce>>>4|me<<12)&8191,Re+=me>>>1&8191,Me=$[N+10]&255|($[N+11]&255)<<8,Te+=(me>>>14|Me<<2)&8191,Se=$[N+12]&255|($[N+13]&255)<<8,Ie+=(Me>>>11|Se<<5)&8191,Ge=$[N+14]&255|($[N+15]&255)<<8,De+=(Se>>>8|Ge<<8)&8191,xt+=Ge>>>5|_,Be=0,Ye=Be,Ye+=He*It,Ye+=We*(5*Ht),Ye+=Fe*(5*Wt),Ye+=ye*(5*Pt),Ye+=be*(5*Gt),Be=Ye>>>13,Ye&=8191,Ye+=Re*(5*Qt),Ye+=Te*(5*qt),Ye+=Ie*(5*ue),Ye+=De*(5*kt),Ye+=xt*(5*Ct),Be+=Ye>>>13,Ye&=8191,Pe=Be,Pe+=He*Ct,Pe+=We*It,Pe+=Fe*(5*Ht),Pe+=ye*(5*Wt),Pe+=be*(5*Pt),Be=Pe>>>13,Pe&=8191,Pe+=Re*(5*Gt),Pe+=Te*(5*Qt),Pe+=Ie*(5*qt),Pe+=De*(5*ue),Pe+=xt*(5*kt),Be+=Pe>>>13,Pe&=8191,et=Be,et+=He*kt,et+=We*Ct,et+=Fe*It,et+=ye*(5*Ht),et+=be*(5*Wt),Be=et>>>13,et&=8191,et+=Re*(5*Pt),et+=Te*(5*Gt),et+=Ie*(5*Qt),et+=De*(5*qt),et+=xt*(5*ue),Be+=et>>>13,et&=8191,nt=Be,nt+=He*ue,nt+=We*kt,nt+=Fe*Ct,nt+=ye*It,nt+=be*(5*Ht),Be=nt>>>13,nt&=8191,nt+=Re*(5*Wt),nt+=Te*(5*Pt),nt+=Ie*(5*Gt),nt+=De*(5*Qt),nt+=xt*(5*qt),Be+=nt>>>13,nt&=8191,Qe=Be,Qe+=He*qt,Qe+=We*ue,Qe+=Fe*kt,Qe+=ye*Ct,Qe+=be*It,Be=Qe>>>13,Qe&=8191,Qe+=Re*(5*Ht),Qe+=Te*(5*Wt),Qe+=Ie*(5*Pt),Qe+=De*(5*Gt),Qe+=xt*(5*Qt),Be+=Qe>>>13,Qe&=8191,vt=Be,vt+=He*Qt,vt+=We*qt,vt+=Fe*ue,vt+=ye*kt,vt+=be*Ct,Be=vt>>>13,vt&=8191,vt+=Re*It,vt+=Te*(5*Ht),vt+=Ie*(5*Wt),vt+=De*(5*Pt),vt+=xt*(5*Gt),Be+=vt>>>13,vt&=8191,ut=Be,ut+=He*Gt,ut+=We*Qt,ut+=Fe*qt,ut+=ye*ue,ut+=be*kt,Be=ut>>>13,ut&=8191,ut+=Re*Ct,ut+=Te*It,ut+=Ie*(5*Ht),ut+=De*(5*Wt),ut+=xt*(5*Pt),Be+=ut>>>13,ut&=8191,Le=Be,Le+=He*Pt,Le+=We*Gt,Le+=Fe*Qt,Le+=ye*qt,Le+=be*ue,Be=Le>>>13,Le&=8191,Le+=Re*kt,Le+=Te*Ct,Le+=Ie*It,Le+=De*(5*Ht),Le+=xt*(5*Wt),Be+=Le>>>13,Le&=8191,it=Be,it+=He*Wt,it+=We*Pt,it+=Fe*Gt,it+=ye*Qt,it+=be*qt,Be=it>>>13,it&=8191,it+=Re*ue,it+=Te*kt,it+=Ie*Ct,it+=De*It,it+=xt*(5*Ht),Be+=it>>>13,it&=8191,$e=Be,$e+=He*Ht,$e+=We*Wt,$e+=Fe*Pt,$e+=ye*Gt,$e+=be*Qt,Be=$e>>>13,$e&=8191,$e+=Re*qt,$e+=Te*ue,$e+=Ie*kt,$e+=De*Ct,$e+=xt*It,Be+=$e>>>13,$e&=8191,Be=(Be<<2)+Be|0,Be=Be+Ye|0,Ye=Be&8191,Be=Be>>>13,Pe+=Be,He=Ye,We=Pe,Fe=et,ye=nt,be=Qe,Re=vt,Te=ut,Ie=Le,De=it,xt=$e,N+=16,D-=16;this.h[0]=He,this.h[1]=We,this.h[2]=Fe,this.h[3]=ye,this.h[4]=be,this.h[5]=Re,this.h[6]=Te,this.h[7]=Ie,this.h[8]=De,this.h[9]=xt},Q.prototype.finish=function($,N){var D=new Uint16Array(10),_,j,Y,ae;if(this.leftover){for(ae=this.leftover,this.buffer[ae++]=1;ae<16;ae++)this.buffer[ae]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(_=this.h[1]>>>13,this.h[1]&=8191,ae=2;ae<10;ae++)this.h[ae]+=_,_=this.h[ae]>>>13,this.h[ae]&=8191;for(this.h[0]+=_*5,_=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=_,_=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=_,D[0]=this.h[0]+5,_=D[0]>>>13,D[0]&=8191,ae=1;ae<10;ae++)D[ae]=this.h[ae]+_,_=D[ae]>>>13,D[ae]&=8191;for(D[9]-=8192,j=(_^1)-1,ae=0;ae<10;ae++)D[ae]&=j;for(j=~j,ae=0;ae<10;ae++)this.h[ae]=this.h[ae]&j|D[ae];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Y=this.h[0]+this.pad[0],this.h[0]=Y&65535,ae=1;ae<8;ae++)Y=(this.h[ae]+this.pad[ae]|0)+(Y>>>16)|0,this.h[ae]=Y&65535;$[N+0]=this.h[0]>>>0&255,$[N+1]=this.h[0]>>>8&255,$[N+2]=this.h[1]>>>0&255,$[N+3]=this.h[1]>>>8&255,$[N+4]=this.h[2]>>>0&255,$[N+5]=this.h[2]>>>8&255,$[N+6]=this.h[3]>>>0&255,$[N+7]=this.h[3]>>>8&255,$[N+8]=this.h[4]>>>0&255,$[N+9]=this.h[4]>>>8&255,$[N+10]=this.h[5]>>>0&255,$[N+11]=this.h[5]>>>8&255,$[N+12]=this.h[6]>>>0&255,$[N+13]=this.h[6]>>>8&255,$[N+14]=this.h[7]>>>0&255,$[N+15]=this.h[7]>>>8&255},Q.prototype.update=function($,N,D){var _,j;if(this.leftover){for(j=16-this.leftover,j>D&&(j=D),_=0;_<j;_++)this.buffer[this.leftover+_]=$[N+_];if(D-=j,N+=j,this.leftover+=j,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(D>=16&&(j=D-D%16,this.blocks($,N,j),N+=j,D-=j),D){for(_=0;_<D;_++)this.buffer[this.leftover+_]=$[N+_];this.leftover+=D}};function M($,N,D,_,j,Y){var ae=new Q(Y);return ae.update(D,_,j),ae.finish($,N),0}function b($,N,D,_,j,Y){var ae=new Uint8Array(16);return M(ae,0,D,_,j,Y),E($,N,ae,0)}function s($,N,D,_,j){var Y;if(D<32)return-1;for(ve($,0,N,0,D,_,j),M($,16,$,32,D-32,$),Y=0;Y<16;Y++)$[Y]=0;return 0}function v($,N,D,_,j){var Y,ae=new Uint8Array(32);if(D<32||(se(ae,0,32,_,j),b(N,16,N,32,D-32,ae)!==0))return-1;for(ve($,0,N,0,D,_,j),Y=0;Y<32;Y++)$[Y]=0;return 0}function g($,N){var D;for(D=0;D<16;D++)$[D]=N[D]|0}function A($){var N,D,_=1;for(N=0;N<16;N++)D=$[N]+_+65535,_=Math.floor(D/65536),$[N]=D-_*65536;$[0]+=_-1+37*(_-1)}function I($,N,D){for(var _,j=~(D-1),Y=0;Y<16;Y++)_=j&($[Y]^N[Y]),$[Y]^=_,N[Y]^=_}function R($,N){var D,_,j,Y=t(),ae=t();for(D=0;D<16;D++)ae[D]=N[D];for(A(ae),A(ae),A(ae),_=0;_<2;_++){for(Y[0]=ae[0]-65517,D=1;D<15;D++)Y[D]=ae[D]-65535-(Y[D-1]>>16&1),Y[D-1]&=65535;Y[15]=ae[15]-32767-(Y[14]>>16&1),j=Y[15]>>16&1,Y[14]&=65535,I(ae,Y,1-j)}for(D=0;D<16;D++)$[2*D]=ae[D]&255,$[2*D+1]=ae[D]>>8}function S($,N){var D=new Uint8Array(32),_=new Uint8Array(32);return R(D,$),R(_,N),x(D,0,_,0)}function T($){var N=new Uint8Array(32);return R(N,$),N[0]&1}function p($,N){var D;for(D=0;D<16;D++)$[D]=N[2*D]+(N[2*D+1]<<8);$[15]&=32767}function B($,N,D){for(var _=0;_<16;_++)$[_]=N[_]+D[_]}function ee($,N,D){for(var _=0;_<16;_++)$[_]=N[_]-D[_]}function oe($,N,D){var _,j,Y=0,ae=0,ce=0,me=0,Me=0,Se=0,Ge=0,Be=0,Ye=0,Pe=0,et=0,nt=0,Qe=0,vt=0,ut=0,Le=0,it=0,$e=0,He=0,We=0,Fe=0,ye=0,be=0,Re=0,Te=0,Ie=0,De=0,xt=0,It=0,Ct=0,kt=0,ue=D[0],qt=D[1],Qt=D[2],Gt=D[3],Pt=D[4],Wt=D[5],Ht=D[6],dr=D[7],tr=D[8],cr=D[9],hr=D[10],lr=D[11],br=D[12],kr=D[13],Ir=D[14],Rr=D[15];_=N[0],Y+=_*ue,ae+=_*qt,ce+=_*Qt,me+=_*Gt,Me+=_*Pt,Se+=_*Wt,Ge+=_*Ht,Be+=_*dr,Ye+=_*tr,Pe+=_*cr,et+=_*hr,nt+=_*lr,Qe+=_*br,vt+=_*kr,ut+=_*Ir,Le+=_*Rr,_=N[1],ae+=_*ue,ce+=_*qt,me+=_*Qt,Me+=_*Gt,Se+=_*Pt,Ge+=_*Wt,Be+=_*Ht,Ye+=_*dr,Pe+=_*tr,et+=_*cr,nt+=_*hr,Qe+=_*lr,vt+=_*br,ut+=_*kr,Le+=_*Ir,it+=_*Rr,_=N[2],ce+=_*ue,me+=_*qt,Me+=_*Qt,Se+=_*Gt,Ge+=_*Pt,Be+=_*Wt,Ye+=_*Ht,Pe+=_*dr,et+=_*tr,nt+=_*cr,Qe+=_*hr,vt+=_*lr,ut+=_*br,Le+=_*kr,it+=_*Ir,$e+=_*Rr,_=N[3],me+=_*ue,Me+=_*qt,Se+=_*Qt,Ge+=_*Gt,Be+=_*Pt,Ye+=_*Wt,Pe+=_*Ht,et+=_*dr,nt+=_*tr,Qe+=_*cr,vt+=_*hr,ut+=_*lr,Le+=_*br,it+=_*kr,$e+=_*Ir,He+=_*Rr,_=N[4],Me+=_*ue,Se+=_*qt,Ge+=_*Qt,Be+=_*Gt,Ye+=_*Pt,Pe+=_*Wt,et+=_*Ht,nt+=_*dr,Qe+=_*tr,vt+=_*cr,ut+=_*hr,Le+=_*lr,it+=_*br,$e+=_*kr,He+=_*Ir,We+=_*Rr,_=N[5],Se+=_*ue,Ge+=_*qt,Be+=_*Qt,Ye+=_*Gt,Pe+=_*Pt,et+=_*Wt,nt+=_*Ht,Qe+=_*dr,vt+=_*tr,ut+=_*cr,Le+=_*hr,it+=_*lr,$e+=_*br,He+=_*kr,We+=_*Ir,Fe+=_*Rr,_=N[6],Ge+=_*ue,Be+=_*qt,Ye+=_*Qt,Pe+=_*Gt,et+=_*Pt,nt+=_*Wt,Qe+=_*Ht,vt+=_*dr,ut+=_*tr,Le+=_*cr,it+=_*hr,$e+=_*lr,He+=_*br,We+=_*kr,Fe+=_*Ir,ye+=_*Rr,_=N[7],Be+=_*ue,Ye+=_*qt,Pe+=_*Qt,et+=_*Gt,nt+=_*Pt,Qe+=_*Wt,vt+=_*Ht,ut+=_*dr,Le+=_*tr,it+=_*cr,$e+=_*hr,He+=_*lr,We+=_*br,Fe+=_*kr,ye+=_*Ir,be+=_*Rr,_=N[8],Ye+=_*ue,Pe+=_*qt,et+=_*Qt,nt+=_*Gt,Qe+=_*Pt,vt+=_*Wt,ut+=_*Ht,Le+=_*dr,it+=_*tr,$e+=_*cr,He+=_*hr,We+=_*lr,Fe+=_*br,ye+=_*kr,be+=_*Ir,Re+=_*Rr,_=N[9],Pe+=_*ue,et+=_*qt,nt+=_*Qt,Qe+=_*Gt,vt+=_*Pt,ut+=_*Wt,Le+=_*Ht,it+=_*dr,$e+=_*tr,He+=_*cr,We+=_*hr,Fe+=_*lr,ye+=_*br,be+=_*kr,Re+=_*Ir,Te+=_*Rr,_=N[10],et+=_*ue,nt+=_*qt,Qe+=_*Qt,vt+=_*Gt,ut+=_*Pt,Le+=_*Wt,it+=_*Ht,$e+=_*dr,He+=_*tr,We+=_*cr,Fe+=_*hr,ye+=_*lr,be+=_*br,Re+=_*kr,Te+=_*Ir,Ie+=_*Rr,_=N[11],nt+=_*ue,Qe+=_*qt,vt+=_*Qt,ut+=_*Gt,Le+=_*Pt,it+=_*Wt,$e+=_*Ht,He+=_*dr,We+=_*tr,Fe+=_*cr,ye+=_*hr,be+=_*lr,Re+=_*br,Te+=_*kr,Ie+=_*Ir,De+=_*Rr,_=N[12],Qe+=_*ue,vt+=_*qt,ut+=_*Qt,Le+=_*Gt,it+=_*Pt,$e+=_*Wt,He+=_*Ht,We+=_*dr,Fe+=_*tr,ye+=_*cr,be+=_*hr,Re+=_*lr,Te+=_*br,Ie+=_*kr,De+=_*Ir,xt+=_*Rr,_=N[13],vt+=_*ue,ut+=_*qt,Le+=_*Qt,it+=_*Gt,$e+=_*Pt,He+=_*Wt,We+=_*Ht,Fe+=_*dr,ye+=_*tr,be+=_*cr,Re+=_*hr,Te+=_*lr,Ie+=_*br,De+=_*kr,xt+=_*Ir,It+=_*Rr,_=N[14],ut+=_*ue,Le+=_*qt,it+=_*Qt,$e+=_*Gt,He+=_*Pt,We+=_*Wt,Fe+=_*Ht,ye+=_*dr,be+=_*tr,Re+=_*cr,Te+=_*hr,Ie+=_*lr,De+=_*br,xt+=_*kr,It+=_*Ir,Ct+=_*Rr,_=N[15],Le+=_*ue,it+=_*qt,$e+=_*Qt,He+=_*Gt,We+=_*Pt,Fe+=_*Wt,ye+=_*Ht,be+=_*dr,Re+=_*tr,Te+=_*cr,Ie+=_*hr,De+=_*lr,xt+=_*br,It+=_*kr,Ct+=_*Ir,kt+=_*Rr,Y+=38*it,ae+=38*$e,ce+=38*He,me+=38*We,Me+=38*Fe,Se+=38*ye,Ge+=38*be,Be+=38*Re,Ye+=38*Te,Pe+=38*Ie,et+=38*De,nt+=38*xt,Qe+=38*It,vt+=38*Ct,ut+=38*kt,j=1,_=Y+j+65535,j=Math.floor(_/65536),Y=_-j*65536,_=ae+j+65535,j=Math.floor(_/65536),ae=_-j*65536,_=ce+j+65535,j=Math.floor(_/65536),ce=_-j*65536,_=me+j+65535,j=Math.floor(_/65536),me=_-j*65536,_=Me+j+65535,j=Math.floor(_/65536),Me=_-j*65536,_=Se+j+65535,j=Math.floor(_/65536),Se=_-j*65536,_=Ge+j+65535,j=Math.floor(_/65536),Ge=_-j*65536,_=Be+j+65535,j=Math.floor(_/65536),Be=_-j*65536,_=Ye+j+65535,j=Math.floor(_/65536),Ye=_-j*65536,_=Pe+j+65535,j=Math.floor(_/65536),Pe=_-j*65536,_=et+j+65535,j=Math.floor(_/65536),et=_-j*65536,_=nt+j+65535,j=Math.floor(_/65536),nt=_-j*65536,_=Qe+j+65535,j=Math.floor(_/65536),Qe=_-j*65536,_=vt+j+65535,j=Math.floor(_/65536),vt=_-j*65536,_=ut+j+65535,j=Math.floor(_/65536),ut=_-j*65536,_=Le+j+65535,j=Math.floor(_/65536),Le=_-j*65536,Y+=j-1+37*(j-1),j=1,_=Y+j+65535,j=Math.floor(_/65536),Y=_-j*65536,_=ae+j+65535,j=Math.floor(_/65536),ae=_-j*65536,_=ce+j+65535,j=Math.floor(_/65536),ce=_-j*65536,_=me+j+65535,j=Math.floor(_/65536),me=_-j*65536,_=Me+j+65535,j=Math.floor(_/65536),Me=_-j*65536,_=Se+j+65535,j=Math.floor(_/65536),Se=_-j*65536,_=Ge+j+65535,j=Math.floor(_/65536),Ge=_-j*65536,_=Be+j+65535,j=Math.floor(_/65536),Be=_-j*65536,_=Ye+j+65535,j=Math.floor(_/65536),Ye=_-j*65536,_=Pe+j+65535,j=Math.floor(_/65536),Pe=_-j*65536,_=et+j+65535,j=Math.floor(_/65536),et=_-j*65536,_=nt+j+65535,j=Math.floor(_/65536),nt=_-j*65536,_=Qe+j+65535,j=Math.floor(_/65536),Qe=_-j*65536,_=vt+j+65535,j=Math.floor(_/65536),vt=_-j*65536,_=ut+j+65535,j=Math.floor(_/65536),ut=_-j*65536,_=Le+j+65535,j=Math.floor(_/65536),Le=_-j*65536,Y+=j-1+37*(j-1),$[0]=Y,$[1]=ae,$[2]=ce,$[3]=me,$[4]=Me,$[5]=Se,$[6]=Ge,$[7]=Be,$[8]=Ye,$[9]=Pe,$[10]=et,$[11]=nt,$[12]=Qe,$[13]=vt,$[14]=ut,$[15]=Le}function Z($,N){oe($,N,N)}function ne($,N){var D=t(),_;for(_=0;_<16;_++)D[_]=N[_];for(_=253;_>=0;_--)Z(D,D),_!==2&&_!==4&&oe(D,D,N);for(_=0;_<16;_++)$[_]=D[_]}function fe($,N){var D=t(),_;for(_=0;_<16;_++)D[_]=N[_];for(_=250;_>=0;_--)Z(D,D),_!==1&&oe(D,D,N);for(_=0;_<16;_++)$[_]=D[_]}function le($,N,D){var _=new Uint8Array(32),j=new Float64Array(80),Y,ae,ce=t(),me=t(),Me=t(),Se=t(),Ge=t(),Be=t();for(ae=0;ae<31;ae++)_[ae]=N[ae];for(_[31]=N[31]&127|64,_[0]&=248,p(j,D),ae=0;ae<16;ae++)me[ae]=j[ae],Se[ae]=ce[ae]=Me[ae]=0;for(ce[0]=Se[0]=1,ae=254;ae>=0;--ae)Y=_[ae>>>3]>>>(ae&7)&1,I(ce,me,Y),I(Me,Se,Y),B(Ge,ce,Me),ee(ce,ce,Me),B(Me,me,Se),ee(me,me,Se),Z(Se,Ge),Z(Be,ce),oe(ce,Me,ce),oe(Me,me,Ge),B(Ge,ce,Me),ee(ce,ce,Me),Z(me,ce),ee(Me,Se,Be),oe(ce,Me,u),B(ce,ce,Se),oe(Me,Me,ce),oe(ce,Se,Be),oe(Se,me,j),Z(me,Ge),I(ce,me,Y),I(Me,Se,Y);for(ae=0;ae<16;ae++)j[ae+16]=ce[ae],j[ae+32]=Me[ae],j[ae+48]=me[ae],j[ae+64]=Se[ae];var Ye=j.subarray(32),Pe=j.subarray(16);return ne(Ye,Ye),oe(Pe,Pe,Ye),R($,Pe),0}function ke($,N){return le($,N,i)}function X($,N){return n(N,32),ke($,N)}function G($,N,D){var _=new Uint8Array(32);return le(_,D,N),z($,a,_,W)}var _e=s,Ae=v;function Oe($,N,D,_,j,Y){var ae=new Uint8Array(32);return G(ae,j,Y),_e($,N,D,_,ae)}function qe($,N,D,_,j,Y){var ae=new Uint8Array(32);return G(ae,j,Y),Ae($,N,D,_,ae)}var Ue=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ze($,N,D,_){for(var j=new Int32Array(16),Y=new Int32Array(16),ae,ce,me,Me,Se,Ge,Be,Ye,Pe,et,nt,Qe,vt,ut,Le,it,$e,He,We,Fe,ye,be,Re,Te,Ie,De,xt=$[0],It=$[1],Ct=$[2],kt=$[3],ue=$[4],qt=$[5],Qt=$[6],Gt=$[7],Pt=N[0],Wt=N[1],Ht=N[2],dr=N[3],tr=N[4],cr=N[5],hr=N[6],lr=N[7],br=0;_>=128;){for(We=0;We<16;We++)Fe=8*We+br,j[We]=D[Fe+0]<<24|D[Fe+1]<<16|D[Fe+2]<<8|D[Fe+3],Y[We]=D[Fe+4]<<24|D[Fe+5]<<16|D[Fe+6]<<8|D[Fe+7];for(We=0;We<80;We++)if(ae=xt,ce=It,me=Ct,Me=kt,Se=ue,Ge=qt,Be=Qt,Ye=Gt,Pe=Pt,et=Wt,nt=Ht,Qe=dr,vt=tr,ut=cr,Le=hr,it=lr,ye=Gt,be=lr,Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=(ue>>>14|tr<<18)^(ue>>>18|tr<<14)^(tr>>>9|ue<<23),be=(tr>>>14|ue<<18)^(tr>>>18|ue<<14)^(ue>>>9|tr<<23),Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,ye=ue&qt^~ue&Qt,be=tr&cr^~tr&hr,Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,ye=Ue[We*2],be=Ue[We*2+1],Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,ye=j[We%16],be=Y[We%16],Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,$e=Ie&65535|De<<16,He=Re&65535|Te<<16,ye=$e,be=He,Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=(xt>>>28|Pt<<4)^(Pt>>>2|xt<<30)^(Pt>>>7|xt<<25),be=(Pt>>>28|xt<<4)^(xt>>>2|Pt<<30)^(xt>>>7|Pt<<25),Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,ye=xt&It^xt&Ct^It&Ct,be=Pt&Wt^Pt&Ht^Wt&Ht,Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,Ye=Ie&65535|De<<16,it=Re&65535|Te<<16,ye=Me,be=Qe,Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=$e,be=He,Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,Me=Ie&65535|De<<16,Qe=Re&65535|Te<<16,It=ae,Ct=ce,kt=me,ue=Me,qt=Se,Qt=Ge,Gt=Be,xt=Ye,Wt=Pe,Ht=et,dr=nt,tr=Qe,cr=vt,hr=ut,lr=Le,Pt=it,We%16===15)for(Fe=0;Fe<16;Fe++)ye=j[Fe],be=Y[Fe],Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=j[(Fe+9)%16],be=Y[(Fe+9)%16],Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,$e=j[(Fe+1)%16],He=Y[(Fe+1)%16],ye=($e>>>1|He<<31)^($e>>>8|He<<24)^$e>>>7,be=(He>>>1|$e<<31)^(He>>>8|$e<<24)^(He>>>7|$e<<25),Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,$e=j[(Fe+14)%16],He=Y[(Fe+14)%16],ye=($e>>>19|He<<13)^(He>>>29|$e<<3)^$e>>>6,be=(He>>>19|$e<<13)^($e>>>29|He<<3)^(He>>>6|$e<<26),Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,j[Fe]=Ie&65535|De<<16,Y[Fe]=Re&65535|Te<<16;ye=xt,be=Pt,Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=$[0],be=N[0],Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,$[0]=xt=Ie&65535|De<<16,N[0]=Pt=Re&65535|Te<<16,ye=It,be=Wt,Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=$[1],be=N[1],Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,$[1]=It=Ie&65535|De<<16,N[1]=Wt=Re&65535|Te<<16,ye=Ct,be=Ht,Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=$[2],be=N[2],Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,$[2]=Ct=Ie&65535|De<<16,N[2]=Ht=Re&65535|Te<<16,ye=kt,be=dr,Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=$[3],be=N[3],Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,$[3]=kt=Ie&65535|De<<16,N[3]=dr=Re&65535|Te<<16,ye=ue,be=tr,Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=$[4],be=N[4],Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,$[4]=ue=Ie&65535|De<<16,N[4]=tr=Re&65535|Te<<16,ye=qt,be=cr,Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=$[5],be=N[5],Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,$[5]=qt=Ie&65535|De<<16,N[5]=cr=Re&65535|Te<<16,ye=Qt,be=hr,Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=$[6],be=N[6],Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,$[6]=Qt=Ie&65535|De<<16,N[6]=hr=Re&65535|Te<<16,ye=Gt,be=lr,Re=be&65535,Te=be>>>16,Ie=ye&65535,De=ye>>>16,ye=$[7],be=N[7],Re+=be&65535,Te+=be>>>16,Ie+=ye&65535,De+=ye>>>16,Te+=Re>>>16,Ie+=Te>>>16,De+=Ie>>>16,$[7]=Gt=Ie&65535|De<<16,N[7]=lr=Re&65535|Te<<16,br+=128,_-=128}return _}function ge($,N,D){var _=new Int32Array(8),j=new Int32Array(8),Y=new Uint8Array(256),ae,ce=D;for(_[0]=1779033703,_[1]=3144134277,_[2]=1013904242,_[3]=2773480762,_[4]=1359893119,_[5]=2600822924,_[6]=528734635,_[7]=1541459225,j[0]=4089235720,j[1]=2227873595,j[2]=4271175723,j[3]=1595750129,j[4]=2917565137,j[5]=725511199,j[6]=4215389547,j[7]=327033209,ze(_,j,N,D),D%=128,ae=0;ae<D;ae++)Y[ae]=N[ce-D+ae];for(Y[D]=128,D=256-128*(D<112?1:0),Y[D-9]=0,m(Y,D-8,ce/536870912|0,ce<<3),ze(_,j,Y,D),ae=0;ae<8;ae++)m($,8*ae,_[ae],j[ae]);return 0}function lt($,N){var D=t(),_=t(),j=t(),Y=t(),ae=t(),ce=t(),me=t(),Me=t(),Se=t();ee(D,$[1],$[0]),ee(Se,N[1],N[0]),oe(D,D,Se),B(_,$[0],$[1]),B(Se,N[0],N[1]),oe(_,_,Se),oe(j,$[3],N[3]),oe(j,j,f),oe(Y,$[2],N[2]),B(Y,Y,Y),ee(ae,_,D),ee(ce,Y,j),B(me,Y,j),B(Me,_,D),oe($[0],ae,ce),oe($[1],Me,me),oe($[2],me,ce),oe($[3],ae,Me)}function je($,N,D){var _;for(_=0;_<4;_++)I($[_],N[_],D)}function Et($,N){var D=t(),_=t(),j=t();ne(j,N[2]),oe(D,N[0],j),oe(_,N[1],j),R($,_),$[31]^=T(D)<<7}function ot($,N,D){var _,j;for(g($[0],o),g($[1],c),g($[2],c),g($[3],o),j=255;j>=0;--j)_=D[j/8|0]>>(j&7)&1,je($,N,_),lt(N,$),lt($,$),je($,N,_)}function Ve($,N){var D=[t(),t(),t(),t()];g(D[0],d),g(D[1],l),g(D[2],c),oe(D[3],d,l),ot($,D,N)}function Mt($,N,D){var _=new Uint8Array(64),j=[t(),t(),t(),t()],Y;for(D||n(N,32),ge(_,N,32),_[0]&=248,_[31]&=127,_[31]|=64,Ve(j,_),Et($,j),Y=0;Y<32;Y++)N[Y+32]=$[Y];return 0}var dt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Xe($,N){var D,_,j,Y;for(_=63;_>=32;--_){for(D=0,j=_-32,Y=_-12;j<Y;++j)N[j]+=D-16*N[_]*dt[j-(_-32)],D=Math.floor((N[j]+128)/256),N[j]-=D*256;N[j]+=D,N[_]=0}for(D=0,j=0;j<32;j++)N[j]+=D-(N[31]>>4)*dt[j],D=N[j]>>8,N[j]&=255;for(j=0;j<32;j++)N[j]-=D*dt[j];for(_=0;_<32;_++)N[_+1]+=N[_]>>8,$[_]=N[_]&255}function st($){var N=new Float64Array(64),D;for(D=0;D<64;D++)N[D]=$[D];for(D=0;D<64;D++)$[D]=0;Xe($,N)}function gt($,N,D,_){var j=new Uint8Array(64),Y=new Uint8Array(64),ae=new Uint8Array(64),ce,me,Me=new Float64Array(64),Se=[t(),t(),t(),t()];ge(j,_,32),j[0]&=248,j[31]&=127,j[31]|=64;var Ge=D+64;for(ce=0;ce<D;ce++)$[64+ce]=N[ce];for(ce=0;ce<32;ce++)$[32+ce]=j[32+ce];for(ge(ae,$.subarray(32),D+32),st(ae),Ve(Se,ae),Et($,Se),ce=32;ce<64;ce++)$[ce]=_[ce];for(ge(Y,$,D+64),st(Y),ce=0;ce<64;ce++)Me[ce]=0;for(ce=0;ce<32;ce++)Me[ce]=ae[ce];for(ce=0;ce<32;ce++)for(me=0;me<32;me++)Me[ce+me]+=Y[ce]*j[me];return Xe($.subarray(32),Me),Ge}function K($,N){var D=t(),_=t(),j=t(),Y=t(),ae=t(),ce=t(),me=t();return g($[2],c),p($[1],N),Z(j,$[1]),oe(Y,j,h),ee(j,j,$[2]),B(Y,$[2],Y),Z(ae,Y),Z(ce,ae),oe(me,ce,ae),oe(D,me,j),oe(D,D,Y),fe(D,D),oe(D,D,j),oe(D,D,Y),oe(D,D,Y),oe($[0],D,Y),Z(_,$[0]),oe(_,_,Y),S(_,j)&&oe($[0],$[0],y),Z(_,$[0]),oe(_,_,Y),S(_,j)?-1:(T($[0])===N[31]>>7&&ee($[0],o,$[0]),oe($[3],$[0],$[1]),0)}function q($,N,D,_){var j,Y=new Uint8Array(32),ae=new Uint8Array(64),ce=[t(),t(),t(),t()],me=[t(),t(),t(),t()];if(D<64||K(me,_))return-1;for(j=0;j<D;j++)$[j]=N[j];for(j=0;j<32;j++)$[j+32]=_[j];if(ge(ae,$,D),st(ae),ot(ce,me,ae),Ve(me,N.subarray(32)),lt(ce,me),Et(Y,ce),D-=64,x(N,0,Y,0)){for(j=0;j<D;j++)$[j]=0;return-1}for(j=0;j<D;j++)$[j]=N[j+64];return D}var F=32,J=24,he=32,de=16,pe=32,Je=32,tt=32,Ne=32,St=32,rt=J,pt=he,er=de,mt=64,at=32,jt=64,_t=32,ft=64;e.lowlevel={crypto_core_hsalsa20:z,crypto_stream_xor:ve,crypto_stream:se,crypto_stream_salsa20_xor:re,crypto_stream_salsa20:ie,crypto_onetimeauth:M,crypto_onetimeauth_verify:b,crypto_verify_16:E,crypto_verify_32:x,crypto_secretbox:s,crypto_secretbox_open:v,crypto_scalarmult:le,crypto_scalarmult_base:ke,crypto_box_beforenm:G,crypto_box_afternm:_e,crypto_box:Oe,crypto_box_open:qe,crypto_box_keypair:X,crypto_hash:ge,crypto_sign:gt,crypto_sign_keypair:Mt,crypto_sign_open:q,crypto_secretbox_KEYBYTES:F,crypto_secretbox_NONCEBYTES:J,crypto_secretbox_ZEROBYTES:he,crypto_secretbox_BOXZEROBYTES:de,crypto_scalarmult_BYTES:pe,crypto_scalarmult_SCALARBYTES:Je,crypto_box_PUBLICKEYBYTES:tt,crypto_box_SECRETKEYBYTES:Ne,crypto_box_BEFORENMBYTES:St,crypto_box_NONCEBYTES:rt,crypto_box_ZEROBYTES:pt,crypto_box_BOXZEROBYTES:er,crypto_sign_BYTES:mt,crypto_sign_PUBLICKEYBYTES:at,crypto_sign_SECRETKEYBYTES:jt,crypto_sign_SEEDBYTES:_t,crypto_hash_BYTES:ft,gf:t,D:h,L:dt,pack25519:R,unpack25519:p,M:oe,A:B,S:Z,Z:ee,pow2523:fe,add:lt,set25519:g,modL:Xe,scalarmult:ot,scalarbase:Ve};function Yt($,N){if($.length!==F)throw new Error("bad key size");if(N.length!==J)throw new Error("bad nonce size")}function Tt($,N){if($.length!==tt)throw new Error("bad public key size");if(N.length!==Ne)throw new Error("bad secret key size")}function Ze(){for(var $=0;$<arguments.length;$++)if(!(arguments[$]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function $t($){for(var N=0;N<$.length;N++)$[N]=0}e.randomBytes=function($){var N=new Uint8Array($);return n(N,$),N},e.secretbox=function($,N,D){Ze($,N,D),Yt(D,N);for(var _=new Uint8Array(he+$.length),j=new Uint8Array(_.length),Y=0;Y<$.length;Y++)_[Y+he]=$[Y];return s(j,_,_.length,N,D),j.subarray(de)},e.secretbox.open=function($,N,D){Ze($,N,D),Yt(D,N);for(var _=new Uint8Array(de+$.length),j=new Uint8Array(_.length),Y=0;Y<$.length;Y++)_[Y+de]=$[Y];return _.length<32||v(j,_,_.length,N,D)!==0?null:j.subarray(he)},e.secretbox.keyLength=F,e.secretbox.nonceLength=J,e.secretbox.overheadLength=de,e.scalarMult=function($,N){if(Ze($,N),$.length!==Je)throw new Error("bad n size");if(N.length!==pe)throw new Error("bad p size");var D=new Uint8Array(pe);return le(D,$,N),D},e.scalarMult.base=function($){if(Ze($),$.length!==Je)throw new Error("bad n size");var N=new Uint8Array(pe);return ke(N,$),N},e.scalarMult.scalarLength=Je,e.scalarMult.groupElementLength=pe,e.box=function($,N,D,_){var j=e.box.before(D,_);return e.secretbox($,N,j)},e.box.before=function($,N){Ze($,N),Tt($,N);var D=new Uint8Array(St);return G(D,$,N),D},e.box.after=e.secretbox,e.box.open=function($,N,D,_){var j=e.box.before(D,_);return e.secretbox.open($,N,j)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var $=new Uint8Array(tt),N=new Uint8Array(Ne);return X($,N),{publicKey:$,secretKey:N}},e.box.keyPair.fromSecretKey=function($){if(Ze($),$.length!==Ne)throw new Error("bad secret key size");var N=new Uint8Array(tt);return ke(N,$),{publicKey:N,secretKey:new Uint8Array($)}},e.box.publicKeyLength=tt,e.box.secretKeyLength=Ne,e.box.sharedKeyLength=St,e.box.nonceLength=rt,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function($,N){if(Ze($,N),N.length!==jt)throw new Error("bad secret key size");var D=new Uint8Array(mt+$.length);return gt(D,$,$.length,N),D},e.sign.open=function($,N){if(Ze($,N),N.length!==at)throw new Error("bad public key size");var D=new Uint8Array($.length),_=q(D,$,$.length,N);if(_<0)return null;for(var j=new Uint8Array(_),Y=0;Y<j.length;Y++)j[Y]=D[Y];return j},e.sign.detached=function($,N){for(var D=e.sign($,N),_=new Uint8Array(mt),j=0;j<_.length;j++)_[j]=D[j];return _},e.sign.detached.verify=function($,N,D){if(Ze($,N,D),N.length!==mt)throw new Error("bad signature size");if(D.length!==at)throw new Error("bad public key size");var _=new Uint8Array(mt+$.length),j=new Uint8Array(mt+$.length),Y;for(Y=0;Y<mt;Y++)_[Y]=N[Y];for(Y=0;Y<$.length;Y++)_[Y+mt]=$[Y];return q(j,_,_.length,D)>=0},e.sign.keyPair=function(){var $=new Uint8Array(at),N=new Uint8Array(jt);return Mt($,N),{publicKey:$,secretKey:N}},e.sign.keyPair.fromSecretKey=function($){if(Ze($),$.length!==jt)throw new Error("bad secret key size");for(var N=new Uint8Array(at),D=0;D<N.length;D++)N[D]=$[32+D];return{publicKey:N,secretKey:new Uint8Array($)}},e.sign.keyPair.fromSeed=function($){if(Ze($),$.length!==_t)throw new Error("bad seed size");for(var N=new Uint8Array(at),D=new Uint8Array(jt),_=0;_<32;_++)D[_]=$[_];return Mt(N,D,!0),{publicKey:N,secretKey:D}},e.sign.publicKeyLength=at,e.sign.secretKeyLength=jt,e.sign.seedLength=_t,e.sign.signatureLength=mt,e.hash=function($){Ze($);var N=new Uint8Array(ft);return ge(N,$,$.length),N},e.hash.hashLength=ft,e.verify=function($,N){return Ze($,N),$.length===0||N.length===0||$.length!==N.length?!1:w($,0,N,0,$.length)===0},e.setPRNG=function($){n=$},function(){var $=typeof self!="undefined"?self.crypto||self.msCrypto:null;if($&&$.getRandomValues){var N=65536;e.setPRNG(function(D,_){var j,Y=new Uint8Array(_);for(j=0;j<_;j+=N)$.getRandomValues(Y.subarray(j,j+Math.min(_-j,N)));for(j=0;j<_;j++)D[j]=Y[j];$t(Y)})}else typeof pm!="undefined"&&($=gv(),$&&$.randomBytes&&e.setPRNG(function(D,_){var j,Y=$.randomBytes(_);for(j=0;j<_;j++)D[j]=Y[j];$t(Y)}))}()})(r.exports?r.exports:self.nacl=self.nacl||{})})(fl);var fc=fl.exports;const kn=fi(fc),Xg=kn.box.publicKeyLength+kn.box.overheadLength,Zg="Input must be an string, Buffer or Uint8Array";function e2(r){let e;if(r instanceof Uint8Array)e=r;else if(typeof r=="string")e=new TextEncoder().encode(r);else throw new Error(Zg);return e}function t2(r){return Array.prototype.map.call(r,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function io(r){return(4294967296+r).toString(16).substring(1)}function r2(r,e,t){let n=`
`+r+" = ";for(let a=0;a<e.length;a+=2){if(t===32)n+=io(e[a]).toUpperCase(),n+=" ",n+=io(e[a+1]).toUpperCase();else if(t===64)n+=io(e[a+1]).toUpperCase(),n+=io(e[a]).toUpperCase();else throw new Error("Invalid size "+t);a%6===4?n+=`
`+new Array(r.length+4).join(" "):a<e.length-2&&(n+=" ")}console.log(n)}function n2(r,e,t){let n=new Date().getTime();const a=new Uint8Array(e);for(let o=0;o<e;o++)a[o]=o%256;const i=new Date().getTime();console.log("Generated random input in "+(i-n)+"ms"),n=i;for(let o=0;o<t;o++){const c=r(a),u=new Date().getTime(),h=u-n;n=u,console.log("Hashed in "+h+"ms: "+c.substring(0,20)+"..."),console.log(Math.round(e/1048576/(h/1e3)*100)/100+" MB PER SECOND")}}var wv={normalizeInput:e2,toHex:t2,debugPrint:r2,testSpeed:n2};const ao=al(Sr({__proto__:null,default:fi(wv)},[wv]));function oo(r,e,t){const n=r[e]+r[t];let a=r[e+1]+r[t+1];n>=4294967296&&a++,r[e]=n,r[e+1]=a}function _v(r,e,t,n){let a=r[e]+t;t<0&&(a+=4294967296);let i=r[e+1]+n;a>=4294967296&&i++,r[e]=a,r[e+1]=i}function xv(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function In(r,e,t,n,a,i){const o=Ki[a],c=Ki[a+1],u=Ki[i],h=Ki[i+1];oo(Bt,r,e),_v(Bt,r,o,c);let f=Bt[n]^Bt[r],d=Bt[n+1]^Bt[r+1];Bt[n]=d,Bt[n+1]=f,oo(Bt,t,n),f=Bt[e]^Bt[t],d=Bt[e+1]^Bt[t+1],Bt[e]=f>>>24^d<<8,Bt[e+1]=d>>>24^f<<8,oo(Bt,r,e),_v(Bt,r,u,h),f=Bt[n]^Bt[r],d=Bt[n+1]^Bt[r+1],Bt[n]=f>>>16^d<<16,Bt[n+1]=d>>>16^f<<16,oo(Bt,t,n),f=Bt[e]^Bt[t],d=Bt[e+1]^Bt[t+1],Bt[e]=d>>>31^f<<1,Bt[e+1]=f>>>31^d<<1}const Sv=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),i2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Pr=new Uint8Array(i2.map(function(r){return r*2})),Bt=new Uint32Array(32),Ki=new Uint32Array(32);function Ev(r,e){let t=0;for(t=0;t<16;t++)Bt[t]=r.h[t],Bt[t+16]=Sv[t];for(Bt[24]=Bt[24]^r.t,Bt[25]=Bt[25]^r.t/4294967296,e&&(Bt[28]=~Bt[28],Bt[29]=~Bt[29]),t=0;t<32;t++)Ki[t]=xv(r.b,4*t);for(t=0;t<12;t++)In(0,8,16,24,Pr[t*16+0],Pr[t*16+1]),In(2,10,18,26,Pr[t*16+2],Pr[t*16+3]),In(4,12,20,28,Pr[t*16+4],Pr[t*16+5]),In(6,14,22,30,Pr[t*16+6],Pr[t*16+7]),In(0,10,20,30,Pr[t*16+8],Pr[t*16+9]),In(2,12,22,24,Pr[t*16+10],Pr[t*16+11]),In(4,14,16,26,Pr[t*16+12],Pr[t*16+13]),In(6,8,18,28,Pr[t*16+14],Pr[t*16+15]);for(t=0;t<16;t++)r.h[t]=r.h[t]^Bt[t]^Bt[t+16]}const Rn=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function Mv(r,e,t,n){if(r===0||r>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(t&&t.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const a={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:r};Rn.fill(0),Rn[0]=r,e&&(Rn[1]=e.length),Rn[2]=1,Rn[3]=1,t&&Rn.set(t,32),n&&Rn.set(n,48);for(let i=0;i<16;i++)a.h[i]=Sv[i]^xv(Rn,i*4);return e&&(uc(a,e),a.c=128),a}function uc(r,e){for(let t=0;t<e.length;t++)r.c===128&&(r.t+=r.c,Ev(r,!1),r.c=0),r.b[r.c++]=e[t]}function Av(r){for(r.t+=r.c;r.c<128;)r.b[r.c++]=0;Ev(r,!0);const e=new Uint8Array(r.outlen);for(let t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3);return e}function Tv(r,e,t,n,a){t=t||64,r=ao.normalizeInput(r),n&&(n=ao.normalizeInput(n)),a&&(a=ao.normalizeInput(a));const i=Mv(t,e,n,a);return uc(i,r),Av(i)}function a2(r,e,t,n,a){const i=Tv(r,e,t,n,a);return ao.toHex(i)}var o2={blake2b:Tv,blake2bHex:a2,blake2bInit:Mv,blake2bUpdate:uc,blake2bFinal:Av};const so=fi(o2);function kv(r,e){var t=so.blake2bInit(kn.box.nonceLength,null);return so.blake2bUpdate(t,r),so.blake2bUpdate(t,e),so.blake2bFinal(t)}function s2(r){for(var e=0;e<r.length;e++)r[e]=0}function f2(r,e){var t=new Uint8Array(Xg+r.length),n=kn.box.keyPair();t.set(n.publicKey);var a=kv(n.publicKey,e),i=kn.box(r,a,e,n.secretKey);return t.set(i,n.publicKey.length),s2(n.secretKey),t}function u2(r,e,t){var n=r.subarray(0,kn.box.publicKeyLength),a=kv(n,e),i=r.subarray(kn.box.publicKeyLength);return kn.box.open(i,a,n,t)}class c2{constructor(e=null){this.base=new Qo({characters:e||"BASE64"})}encrypt(e,t){const n=JSON.stringify(e),i=new TextEncoder().encode(n),o=f2(i,this.decode(t));return this.encode(o)}decrypt(e,t,n){try{const a=u2(this.decode(e),this.decode(n),this.decode(t)),o=new TextDecoder().decode(a);return JSON.parse(o)}catch(a){return null}}generatePrivateKey(e){const t=new qr("SHAKE256","TEXT");t.update(e);const n=t.getHash("HEX",{outputLen:fc.box.secretKeyLength*8}),a=new Uint8Array(n.length/2);for(let i=0;i<n.length;i+=2)a[i/2]=parseInt(n.substr(i,2),16);return this.base.encode(a)}generatePublicKey(e){const t=fc.box.keyPair.fromSecretKey(this.decode(e));return this.encode(t.publicKey)}shortHash(e){const t=new qr("SHAKE256","TEXT");t.update(e);const n=t.getHash("HEX",{outputLen:64}),a=new Uint8Array(n.length/2);for(let i=0;i<n.length;i+=2)a[i/2]=parseInt(n.substr(i,2),16);return this.base.encode(a)}decode(e){return this.base.decode(e)}encode(e){return this.base.encode(e)}}class Zt{constructor({secret:e=null,bundle:t=null,token:n="USER",address:a=null,position:i=null,batchId:o=null,characters:c=null}){this.token=n,this.balance=0,this.molecules={},this.key=null,this.privkey=null,this.pubkey=null,this.tokenUnits=[],this.tradeRates={},this.address=a,this.position=i,this.bundle=t,this.batchId=o,this.characters=c,e&&(this.bundle=this.bundle||bn(e),this.position=this.position||Zt.generatePosition(),this.key=Zt.generateKey({secret:e,token:this.token,position:this.position}),this.address=this.address||Zt.generateAddress(this.key),this.soda=new c2(c),this.privkey=this.soda.generatePrivateKey(this.key),this.pubkey=this.soda.generatePublicKey(this.privkey),this.characters=this.characters||"BASE64")}static create({secretOrBundle:e,token:t,batchId:n=null,characters:a=null}){let i=null,o=null,c=null;Zt.isBundleHash(e)?c=e:(i=e,o=Zt.generatePosition(),c=bn(i));let u=new Zt({secret:i,token:t,position:o,batchId:n,characters:a});return u.bundle=c,u}static isBundleHash(e){return typeof e!="string"?!1:e.length===64&&nl(e)}static getTokenUnits(e){let t=[];return e.forEach(n=>{t.push(ui.createFromDB(n))}),t}static generateKey({secret:e,token:t,position:n}){const i=BigInt(`0x${e}`)+BigInt(`0x${n}`),o=new qr("SHAKE256","TEXT");o.update(i.toString(16)),t&&o.update(t);const c=new qr("SHAKE256","TEXT");return c.update(o.getHash("HEX",{outputLen:8192})),c.getHash("HEX",{outputLen:8192})}static generateAddress(e){const t=Li(e,128),n=new qr("SHAKE256","TEXT");for(const i in t){let o=t[i];for(let c=1;c<=16;c++){const u=new qr("SHAKE256","TEXT");u.update(o),o=u.getHash("HEX",{outputLen:512})}n.update(o)}const a=new qr("SHAKE256","TEXT");return a.update(n.getHash("HEX",{outputLen:8192})),a.getHash("HEX",{outputLen:256})}static generatePosition(e=64){return Oa(e,"abcdef0123456789")}getTokenUnitsData(){const e=[];return this.tokenUnits.forEach(t=>{e.push(t.toData())}),e}splitUnits(e,t,n=null){if(e.length===0)return;let a=[],i=[];this.tokenUnits.forEach(o=>{e.includes(o.id)?a.push(o):i.push(o)}),this.tokenUnits=a,n!==null&&(n.tokenUnits=a),t.tokenUnits=i}createRemainder(e){let t=Zt.create({secretOrBundle:e,token:this.token,characters:this.characters});return t.initBatchId({sourceWallet:this,isRemainder:!0}),t}isShadow(){return(typeof this.position=="undefined"||this.position===null)&&(typeof this.address=="undefined"||this.address===null)}initBatchId({sourceWallet:e,isRemainder:t=!1}){e.batchId&&(this.batchId=t?e.batchId:Pa({}))}encryptMessage(e){const t={};for(let n=1,a=arguments.length;n<a;n++)t[this.soda.shortHash(arguments[n])]=this.soda.encrypt(e,arguments[n]);return t}decryptMessage(e){const t=this.pubkey;let n=e;return e!==null&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&(n=e[this.soda.shortHash(t)]||""),this.soda.decrypt(n,this.privkey,t)}decryptBinary(e){const t=this.decryptMessage(e);return new Qo({characters:"BASE64"}).decode(t)}encryptBinary(e){const t=Array.from(arguments).slice(1),n=new Qo({characters:"BASE64"}).encode(e);return this.encryptMessage(n,...t)}encryptString({data:e,publicKeys:t}){if(e){const n=this.pubkey;typeof t=="string"&&(t=[t]);const a=this.encryptMessage(e,n,...t);return btoa(JSON.stringify(a))}}decryptString({data:e,fallbackValue:t=null}){if(e)try{const n=JSON.parse(atob(e));return this.decryptMessage(n)||t}catch(n){return console.error(n),t||e}}}class Qi extends or{constructor(e="There is an atom without an index",t=null,n=null){super(e,t,n),this.name="AtomIndexException"}}class h2 extends or{constructor(e="The molecular hash does not match",t=null,n=null){super(e,t,n),this.name="MolecularHashMismatchException"}}class l2 extends or{constructor(e="The molecular hash is missing",t=null,n=null){super(e,t,n),this.name="MolecularHashMissingException"}}class Iv extends or{constructor(e="",t=null,n=null){super(e,t,n),this.name="PolicyInvalidException"}}class Rv extends or{constructor(e="OTS malformed",t=null,n=null){super(e,t,n),this.name="SignatureMalformedException"}}class d2 extends or{constructor(e="One-time signature (OTS) does not match!",t=null,n=null){super(e,t,n),this.name="SignatureMismatchException"}}class _n extends or{constructor(e="Insufficient balance to make transfer",t=null,n=null){super(e,t,n),this.name="TransferBalanceException"}}class Cv extends or{constructor(e="Token transfer atoms are malformed",t=null,n=null){super(e,t,n),this.name="TransferMalformedException"}}class Ov extends or{constructor(e="Token slugs for wallets in transfer do not match!",t=null,n=null){super(e,t,n),this.name="TransferMismatchedException"}}class Bv extends or{constructor(e="Invalid remainder provided",t=null,n=null){super(e,t,n),this.name="TransferRemainderException"}}class p2 extends or{constructor(e="Sender and recipient(s) cannot be the same",t=null,n=null){super(e,t,n),this.name="TransferToSelfException"}}class v2 extends or{constructor(e="Token transfer atoms are unbalanced",t=null,n=null){super(e,t,n),this.name="TransferUnbalancedException"}}class Cn extends or{constructor(e="Empty meta data.",t=null,n=null){super(e,t,n),this.name="MetaMissingException"}}class Gi extends or{constructor(e="Wrong type of token for this isotope",t=null,n=null){super(e,t,n),this.name="WrongTokenTypeException"}}class fo extends or{constructor(e="Incorrect BatchId",t=null,n=null){super(e,t,n),this.name="BatchIdException"}}class Pv{constructor({}){const e=arguments[0];for(const t in e)this[`__${t}`]=e[t]}static toObject(e){return new this(e)}toJSON(){const e={};for(const t of Object.keys(this))t.substring(0,2)==="__"&&(e[t.substring(2,t.length)]=this[t]);return e}}class uo extends or{constructor(e="An incorrect argument!",t=null,n=null){super(e,t,n),this.name="RuleArgumentException"}}class $r extends or{constructor(e="Code exception",t=null,n=null){super(e,t,n),this.name="CodeException"}}class Ji{constructor({action:e,metaType:t=null,metaId:n=null,meta:a=null,address:i=null,token:o=null,amount:c=null,comparison:u=null}){if(a&&(this.meta=a),!e)throw new uo('Callback structure violated, missing mandatory "action" parameter.');this.__metaId=n,this.__metaType=t,this.__action=e,this.__address=i,this.__token=o,this.__amount=c,this.__comparison=u}set comparison(e){this.__comparison=e}set amount(e){if(!um(e))throw new $r("Parameter amount should be a string containing numbers");this.__amount=e}set token(e){this.__token=e}set address(e){this.__address=e}set meta(e){this.__meta=e instanceof Pv?e:Pv.toObject(e)}set metaType(e){this.__metaType=e}set metaId(e){this.__metaId=e}static toObject(e){const t=new Ji({action:e.action});return e.metaType&&(t.metaType=e.metaType),e.metaId&&(t.metaId=e.metaId),e.meta&&(t.meta=e.meta),e.address&&(t.address=e.address),e.token&&(t.token=e.token),e.amount&&(t.amount=e.amount),e.comparison&&(t.comparison=e.comparison),t}toJSON(){const e={action:this.__action};return this.__metaType&&(e.metaType=this.__metaType),this.__metaId&&(e.metaId=this.__metaId),this.__meta&&(e.meta=this.__meta),this.__address&&(e.address=this.__address),this.__token&&(e.token=this.__token),this.__amount&&(e.amount=this.__amount),this.__comparison&&(e.comparison=this.__comparison),e}isReject(){return this._is("reject")}isMeta(){return Ui(Object.keys(this.toJSON()),["action","metaId","metaType","meta"]).length===4&&this._is("meta")}isCollect(){return Ui(Object.keys(this.toJSON()),["action","address","token","amount","comparison"]).length===5&&this._is("collect")}isBuffer(){return Ui(Object.keys(this.toJSON()),["action","address","token","amount","comparison"]).length===5&&this._is("buffer")}isRemit(){return Ui(Object.keys(this.toJSON()),["action","token","amount"]).length===3&&this._is("remit")}isBurn(){return Ui(Object.keys(this.toJSON()),["action","token","amount","comparison"]).length===4&&this._is("burn")}_is(e){return this.__action.toLowerCase()===e.toLowerCase()}}class cc{constructor({key:e,value:t,comparison:n}){if([e,t,n].some(a=>!a))throw new uo("Condition::constructor( { key, value, comparison } ) - not all class parameters are initialised!");this.__key=e,this.__value=t,this.__comparison=n}static toObject(e){return new this({key:e.key,value:e.value,comparison:e.comparison})}toJSON(){return{key:this.__key,value:this.__value,comparison:this.__comparison}}}class Yi{constructor({condition:e=[],callback:t=[]}){for(const n of e)if(!(n instanceof cc))throw new uo;for(const n of t)if(!(n instanceof Ji))throw new uo;this.__condition=e,this.__callback=t}set comparison(e){this.__condition.push(e instanceof cc?e:cc.toObject(e))}set callback(e){this.__callback.push(e instanceof Ji?e:Ji.toObject(e))}static toObject(e){if(!e.condition)throw new Cn("Rule::toObject() - Incorrect rule format! There is no condition field.");if(!e.callback)throw new Cn("Rule::toObject() - Incorrect rule format! There is no callback field.");const t=new Yi({});for(const n of e.condition)t.comparison=n;for(const n of e.callback)t.callback=n;return t}toJSON(){return{condition:this.__condition,callback:this.__callback}}}class ur{static __init(e,t){this.arr=[],this.key=null,this.arr=String(t).split("."),this.key=this.arr.shift();const n=Number(this.key);Number.isInteger(n)&&(this.key=n),this.__nextKey=this.arr.length,this.__next=this.__tic(e)}static __tic(e){return!Array.isArray(e)&&!(e instanceof Object)?!1:typeof e[this.key]!="undefined"}static has(e,t){return this.__init(e,t),this.__next?this.__nextKey===0?!0:this.has(e[this.key],this.arr.join(".")):!1}static get(e,t,n=null){return this.__init(e,t),this.__next?this.__nextKey===0?e[this.key]:this.get(e[this.key],this.arr.join("."),n):n}}class y2{constructor(e){if(e.molecularHash===null)throw new l2;if(!e.atoms.length)throw new Hn;for(let t of e.atoms)if(t.index===null)throw new Qi;this.molecule=e}verify(e){return this.molecularHash()&&this.ots()&&this.batchId()&&this.continuId()&&this.isotopeM()&&this.isotopeT()&&this.isotopeC()&&this.isotopeU()&&this.isotopeI()&&this.isotopeR()&&this.isotopeV(e)}continuId(){if(this.molecule.atoms[0].token==="USER"&&this.molecule.getIsotopes("I").length<1)throw new Hn("Check::continuId() - Molecule is missing required ContinuID Atom!");return!0}batchId(){if(this.molecule.atoms.length>0){const e=this.molecule.atoms[0];if(e.isotope==="V"&&e.batchId!==null){const t=this.molecule.getIsotopes("V"),n=t[t.length-1];if(e.batchId!==n.batchId)throw new fo;for(const a of t)if(a.batchId===null)throw new fo}return!0}throw new fo}isotopeI(){for(let e of this.molecule.getIsotopes("I")){if(e.token!=="USER")throw new Gi(`Check::isotopeI() - "${e.token}" is not a valid Token slug for "${e.isotope}" isotope Atoms!`);if(e.index===0)throw new Qi(`Check::isotopeI() - Isotope "${e.isotope}" Atoms must have a non-zero index!`)}return!0}isotopeU(){for(let e of this.molecule.getIsotopes("U")){if(e.token!=="AUTH")throw new Gi(`Check::isotopeU() - "${e.token}" is not a valid Token slug for "${e.isotope}" isotope Atoms!`);if(e.index!==0)throw new Qi(`Check::isotopeU() - Isotope "${e.isotope}" Atoms must have an index equal to 0!`)}return!0}isotopeM(){const e=["readPolicy","writePolicy"];for(let t of this.molecule.getIsotopes("M")){if(t.meta.length<1)throw new Cn;if(t.token!=="USER")throw new Gi(`Check::isotopeM() - "${t.token}" is not a valid Token slug for "${t.isotope}" isotope Atoms!`);const n=Fi.aggregateMeta(t.meta);for(const a of e){let i=n[a];if(i){i=JSON.parse(i);for(const[o,c]of Object.entries(i))if(!e.includes(o)){if(!Object.keys(n).includes(o))throw new Iv(`${o} is missing from the meta.`);for(const u of c)if(!Zt.isBundleHash(u)&&!["all","self"].includes(u))throw new Iv(`${u} does not correspond to the format of the policy.`)}}}}return!0}isotopeC(){for(let e of this.molecule.getIsotopes("C")){if(e.token!=="USER")throw new Gi(`Check::isotopeC() - "${e.token}" is not a valid Token slug for "${e.isotope}" isotope Atoms!`);if(e.index!==0)throw new Qi(`Check::isotopeC() - Isotope "${e.isotope}" Atoms must have an index equal to 0!`)}return!0}isotopeT(){for(let e of this.molecule.getIsotopes("T")){const t=e.aggregatedMeta();if(String(e.metaType).toLowerCase()==="wallet"){for(let a of["position","bundle"])if(!t.hasOwnProperty(a)||!t[a])throw new Cn(`Check::isotopeT() - Required meta field "${a}" is missing!`)}for(let a of["token"])if(!t.hasOwnProperty(a)||!t[a])throw new Cn(`Check::isotopeT() - Required meta field "${a}" is missing!`);if(e.token!=="USER")throw new Gi(`Check::isotopeT() - "${e.token}" is not a valid Token slug for "${e.isotope}" isotope Atoms!`);if(e.index!==0)throw new Qi(`Check::isotopeT() - Isotope "${e.isotope}" Atoms must have an index equal to 0!`)}return!0}isotopeR(){for(let e of this.molecule.getIsotopes("R")){const t=e.aggregatedMeta();if(t.policy){const n=JSON.parse(t.policy);if(!Object.keys(n).every(a=>["read","write"].includes(a)))throw new Cn("Check::isotopeR() - Mixing rules with politics!")}if(t.rule){const n=JSON.parse(t.rule);if(!Array.isArray(n))throw new Cn("Check::isotopeR() - Incorrect rule format!");for(const a of n)Yi.toObject(a);if(n.length<1)throw new Cn("Check::isotopeR() - No rules!")}}return!0}isotopeV(e=null){const t=this.molecule.getIsotopes("V");if(t.length===0)return!0;const n=this.molecule.atoms[0];if(n.isotope==="V"&&t.length===2){const o=t[t.length-1];if(n.token!==o.token)throw new Ov;if(o.value<0)throw new Cv;return!0}let a=0,i=0;for(let o in this.molecule.atoms)if(this.molecule.atoms.hasOwnProperty(o)){const c=this.molecule.atoms[o];if(c.isotope!=="V")continue;if(i=c.value*1,Number.isNaN(i))throw new TypeError('Invalid isotope "V" values');if(c.token!==n.token)throw new Ov;if(o>0){if(i<0)throw new Cv;if(c.walletAddress===n.walletAddress)throw new p2}a+=i}if(a!==i)throw new v2;if(e){if(i=n.value*1,Number.isNaN(i))throw new TypeError('Invalid isotope "V" values');const o=e.balance+i;if(o<0)throw new _n;if(o!==a)throw new Bv}else if(i!==0)throw new Bv;return!0}molecularHash(){if(this.molecule.molecularHash!==Lt.hashAtoms({atoms:this.molecule.atoms}))throw new h2;return!0}ots(){const e=this.molecule.normalizedHash();let t=this.molecule.atoms.map(l=>l.otsFragment).reduce((l,y)=>l+y);if(t.length!==2048&&(t=rl(t),t.length!==2048))throw new Rv;const n=Li(t,128);let a="";for(const l in n){let y=n[l];for(let m=0,w=8+e[l];m<w;m++)y=new qr("SHAKE256","TEXT").update(y).getHash("HEX",{outputLen:512});a+=y}const i=new qr("SHAKE256","TEXT");i.update(a);const o=i.getHash("HEX",{outputLen:8192}),c=new qr("SHAKE256","TEXT");c.update(o);const u=c.getHash("HEX",{outputLen:256});let h=this.molecule.atoms[0],f=h.walletAddress,d=ur.get(h.aggregatedMeta(),"signingWallet");if(d&&(f=ur.get(JSON.parse(d),"address")),u!==f)throw new d2;return!0}}class Xi extends or{constructor(e="Insufficient balance for requested transfer",t=null,n=null){super(e,t,n),this.name="BalanceInsufficientException"}}class Dv extends or{constructor(e="Amount cannot be negative!",t=null,n=null){super(e,t,n),this.name="NegativeAmountException"}}class hn{constructor({secret:e=null,sourceWallet:t=null,remainderWallet:n=null,cellSlug:a=null,version:i=null}){this.cellSlugOrigin=this.cellSlug=a,this.secret=e,this.sourceWallet=t,this.atoms=[],i!==null&&Ba.hasOwnProperty(i)&&(this.version=String(i)),(n||t)&&(this.remainderWallet=n||Zt.create({secretOrBundle:e,token:t.token,batchId:t.batchId,characters:t.characters})),this.clear()}get cellSlugDelimiter(){return"."}static isotopeFilter(e,t){return Array.isArray(e)||(e=[e]),t.filter(n=>e.includes(n.isotope))}static generateNextAtomIndex(e){return e.length}static jsonToObject(e){const t=Object.assign(new hn({}),JSON.parse(e)),n=Object.keys(new hn({}));if(!Array.isArray(t.atoms))throw new Hn;for(const a in Object.keys(t.atoms)){t.atoms[a]=Lt.jsonToObject(JSON.stringify(t.atoms[a]));for(const i of["position","walletAddress","isotope"])if(t.atoms[a].isotope.toLowerCase()!=="r"&&(typeof t.atoms[a][i]=="undefined"||t.atoms[a][i]===null))throw new Hn("MolecularStructure::jsonToObject() - Required Atom properties are missing!")}for(const a in t)t.hasOwnProperty(a)&&!n.includes(a)&&delete t[a];return t.atoms=Lt.sortAtoms(t.atoms),t}static enumerate(e){const t={0:-8,1:-7,2:-6,3:-5,4:-4,5:-3,6:-2,7:-1,8:0,9:1,a:2,b:3,c:4,d:5,e:6,f:7,g:8},n=[],a=e.toLowerCase().split("");for(let i=0,o=a.length;i<o;++i){const c=a[i];typeof t[c]!="undefined"&&(n[i]=t[c])}return n}static normalize(e){let t=e.reduce((a,i)=>a+i);const n=t<0;for(;t<0||t>0;)for(const a of Object.keys(e))if((n?e[a]<8:e[a]>-8)&&(n?(++e[a],++t):(--e[a],--t),t===0))break;return e}getIsotopes(e){return hn.isotopeFilter(e,this.atoms)}generateIndex(){return hn.generateNextAtomIndex(this.atoms)}fill(e){for(let t in Object.keys(e))this[t]=e[t]}addAtom(e){return this.molecularHash=null,e.index=this.generateIndex(),e.version=this.version,this.atoms.push(e),this.atoms=Lt.sortAtoms(this.atoms),this}addContinuIdAtom(){return this.addAtom(Lt.create({isotope:"I",wallet:this.remainderWallet,metaType:"walletBundle",metaId:this.remainderWallet.bundle})),this}addPolicyAtom({metaType:e,metaId:t,meta:n={},policy:a={}}){let i=new Yr(n);i.addPolicy(a);const o=Zt.create({secretOrBundle:this.secret||this.sourceWallet.bundle,token:"USER"});return this.addAtom(Lt.create({wallet:o,isotope:"R",metaType:e,metaId:t,meta:i})),this}fuseToken(e,t){let n=e.length;if(this.sourceWallet.balance-n<0)throw new Xi;return this.addAtom(Lt.create({isotope:"V",wallet:this.sourceWallet,value:-n})),this.addAtom(Lt.create({isotope:"F",wallet:t,value:1,metaType:"walletBundle",metaId:t.bundle})),this.addAtom(Lt.create({isotope:"V",wallet:this.remainderWallet,value:this.sourceWallet.balance-n,metaType:"walletBundle",metaId:this.remainderWallet.bundle})),this}burnToken({amount:e,walletBundle:t=null}){if(e<0)throw new Dv("Molecule::burnToken() - Amount to burn must be positive!");if(this.sourceWallet.balance-e<0)throw new Xi;return this.addAtom(Lt.create({isotope:"V",wallet:this.sourceWallet,value:-e})),this.addAtom(Lt.create({isotope:"V",wallet:this.remainderWallet,value:this.sourceWallet.balance-e,metaType:"walletBundle",metaId:this.remainderWallet.bundle})),this}replenishToken({amount:e,units:t=[]}){if(e<0)throw new Dv("Molecule::replenishToken() - Amount to replenish must be positive!");if(t.length){t=Zt.getTokenUnits(t),this.remainderWallet.tokenUnits=this.sourceWallet.tokenUnits;for(const n of t)this.remainderWallet.tokenUnits.push(n);this.remainderWallet.balance=this.remainderWallet.tokenUnits.length,this.sourceWallet.tokenUnits=t,this.sourceWallet.balance=this.sourceWallet.tokenUnits.length}else this.remainderWallet.balance=this.sourceWallet.balance+e,this.sourceWallet.balance=e;return this.addAtom(Lt.create({isotope:"V",wallet:this.sourceWallet,value:this.sourceWallet.balance})),this.addAtom(Lt.create({isotope:"V",wallet:this.remainderWallet,value:this.remainderWallet.balance,metaType:"walletBundle",metaId:this.remainderWallet.bundle})),this}initValue({recipientWallet:e,amount:t}){if(this.sourceWallet.balance-t<0)throw new Xi;return this.addAtom(Lt.create({isotope:"V",wallet:this.sourceWallet,value:-t})),this.addAtom(Lt.create({isotope:"V",wallet:e,value:t,metaType:"walletBundle",metaId:e.bundle})),this.addAtom(Lt.create({isotope:"V",wallet:this.remainderWallet,value:this.sourceWallet.balance-t,metaType:"walletBundle",metaId:this.remainderWallet.bundle})),this}initDepositBuffer({amount:e,tradeRates:t}){if(this.sourceWallet.balance-e<0)throw new Xi;let n=Zt.create({secretOrBundle:this.secret,token:this.sourceWallet.token,batchId:this.sourceWallet.batchId});return n.tradeRates=t,this.addAtom(Lt.create({isotope:"V",wallet:this.sourceWallet,value:-e})),this.addAtom(Lt.create({isotope:"B",wallet:n,value:e,metaType:"walletBundle",metaId:this.sourceWallet.bundle})),this.addAtom(Lt.create({isotope:"V",wallet:this.remainderWallet,value:this.sourceWallet.balance-e,metaType:"walletBundle",metaId:this.sourceWallet.bundle})),this}initWithdrawBuffer({recipients:e,signingWallet:t=null}){let n=0;for(const[i,o]of Object.entries(e||{}))n+=o;if(this.sourceWallet.balance-n<0)throw new Xi;let a=new Yr;t&&a.setSigningWallet(t),this.addAtom(Lt.create({isotope:"B",wallet:this.sourceWallet,value:-n,meta:a,metaType:"walletBundle",metaId:this.sourceWallet.bundle}));for(const[i,o]of Object.entries(e||{}))this.addAtom(new Lt({isotope:"V",token:this.sourceWallet.token,value:o,batchId:this.sourceWallet.batchId?Pa({}):null,metaType:"walletBundle",metaId:i}));return this.addAtom(Lt.create({isotope:"B",wallet:this.remainderWallet,value:this.sourceWallet.balance-n,metaType:"walletBundle",metaId:this.remainderWallet.bundle})),this}initTokenCreation({recipientWallet:e,amount:t,meta:n}){let a=new Yr(n);return a.setMetaWallet(e),this.addAtom(Lt.create({isotope:"C",wallet:this.sourceWallet,value:t,metaType:"token",metaId:e.token,meta:a,batchId:e.batchId})),this.addContinuIdAtom(),this}createRule({metaType:e,metaId:t,rule:n,policy:a={}}){const i=[];for(const c of n)i.push(c instanceof Yi?c:Yi.toObject(c));let o=new Yr({rule:JSON.stringify(i)});return o.addPolicy(a),this.addAtom(Lt.create({isotope:"R",wallet:this.sourceWallet,metaType:e,metaId:t,meta:o})),this.addContinuIdAtom(),this}initWalletCreation(e,t=null){return t||(t=new Yr),t.setMetaWallet(e),this.addAtom(Lt.create({isotope:"C",wallet:this.sourceWallet,metaType:"wallet",metaId:e.address,meta:t,batchId:e.batchId})),this.addContinuIdAtom(),this}initShadowWalletClaim(e){let t=new Yr().setShadowWalletClaim(!0);return this.initWalletCreation(e,t)}initIdentifierCreation({type:e,contact:t,code:n}){const a={code:n,hash:bn(t.trim())};return this.addAtom(Lt.create({isotope:"C",wallet:this.sourceWallet,metaType:"identifier",metaId:e,meta:new Yr(a)})),this.addContinuIdAtom(),this}initMeta({meta:e,metaType:t,metaId:n,policy:a}){return this.addAtom(Lt.create({isotope:"M",wallet:this.sourceWallet,metaType:t,metaId:n,meta:new Yr(e)})),this.addPolicyAtom({metaType:t,metaId:n,meta:e,policy:a}),this.addContinuIdAtom(),this}initTokenRequest({token:e,amount:t,metaType:n,metaId:a,meta:i={},batchId:o=null}){return i.token=e,this.local=1,this.addAtom(Lt.create({isotope:"T",wallet:this.sourceWallet,value:t,metaType:n,metaId:a,meta:new Yr(i),batchId:o})),this.addContinuIdAtom(),this}initAuthorization({meta:e}){return this.addAtom(Lt.create({isotope:"U",wallet:this.sourceWallet,meta:new Yr(e)})),this.addContinuIdAtom(),this}clear(){return this.molecularHash=null,this.bundle=null,this.status=null,this.createdAt=String(+new Date),this.atoms=[],this}sign({bundle:e=null,anonymous:t=!1,compressed:n=!0}){if(this.atoms.length===0||this.atoms.filter(y=>!(y instanceof Lt)).length!==0)throw new Hn;!t&&!this.bundle&&(this.bundle=e||bn(this.secret)),this.molecularHash=Lt.hashAtoms({atoms:this.atoms});const a=this.atoms[0];let i=a.position,o=ur.get(a.aggregatedMeta(),"signingWallet");if(o&&(i=ur.get(JSON.parse(o),"position")),!i)throw new Rv("Signing wallet must have a position!");const c=Zt.generateKey({secret:this.secret,token:a.token,position:a.position}),u=Li(c,128),h=this.normalizedHash();let f="";for(const y in u){let m=u[y];for(let w=0,E=8-h[y];w<E;w++)m=new qr("SHAKE256","TEXT").update(m).getHash("HEX",{outputLen:512});f+=m}n&&(f=tl(f));const d=Li(f,Math.ceil(f.length/this.atoms.length));let l=null;for(let y=0,m=d.length;y<m;y++)this.atoms[y].otsFragment=d[y],l=this.atoms[y].position;return l}cellSlugBase(){return(this.cellSlug||"").split(this.cellSlugDelimiter)[0]}toJSON(){let e=il(this);for(let t of["remainderWallet","secret","sourceWallet","cellSlugOrigin","version"])e.hasOwnProperty(t)&&delete e[t];return e}check(e=null){new y2(this).verify(e)}normalizedHash(){return hn.normalize(hn.enumerate(this.molecularHash))}}const hc=_r(10,18);class vi{static val(e){return Math.abs(e*hc)<1?0:e}static cmp(e,t,n=!1){const a=vi.val(e)*hc,i=vi.val(t)*hc;return Math.abs(a-i)<1?0:a>i?1:-1}static equal(e,t){return vi.cmp(e,t)===0}}class Zi{constructor({token:e,expiresAt:t,encrypt:n,pubkey:a}){this.$__token=e,this.$__expiresAt=t,this.$__pubkey=a,this.$__encrypt=n}static create(e,t){let n=new Zi(e);return n.setWallet(t),n}static restore(e,t){let n=new Zt({secret:t,token:"AUTH",position:e.wallet.position,characters:e.wallet.characters});return Zi.create({token:e.token,expiresAt:e.expiresAt,pubkey:e.pubkey,encrypt:e.encrypt},n)}setWallet(e){this.$__wallet=e}getWallet(){return this.$__wallet}getSnapshot(){return{token:this.$__token,expiresAt:this.$__expiresAt,pubkey:this.$__pubkey,encrypt:this.$__encrypt,wallet:{position:this.$__wallet.position,characters:this.$__wallet.characters}}}getToken(){return this.$__token}getPubkey(){return this.$__pubkey}getExpireInterval(){return this.$__expiresAt*1e3-Date.now()}isExpired(){return!this.$__expiresAt||this.getExpireInterval()<0}getAuthData(){return{token:this.getToken(),pubkey:this.getPubkey(),wallet:this.getWallet()}}}class ea extends or{constructor(e="GraphQL did not provide a valid response.",t=null,n=null){super(e,t,n),this.name="InvalidResponseException"}}class lc extends or{constructor(e="Authorization token missing or invalid.",t=null,n=null){super(e,t,n),this.name="UnauthenticatedException"}}let Cr=class{constructor({query:e,json:t,dataKey:n=null}){if(this.dataKey=n,this.errorKey="exception",this.$__payload=null,this.$__query=e,this.$__originResponse=t,this.$__response=t,typeof this.$__response=="undefined"||this.$__response===null)throw new ea;if(ur.has(this.$__response,this.errorKey)){const a=ur.get(this.$__response,this.errorKey);throw String(a).includes("Unauthenticated")?new lc:new ea}this.init()}init(){}data(){if(!this.dataKey)return this.response();if(!ur.has(this.response(),this.dataKey))throw new ea;return ur.get(this.response(),this.dataKey)}response(){return this.$__response}payload(){return null}query(){return this.$__query}status(){return null}};class Lr{constructor(e){this.client=e,this.$__variables=null,this.$__query=null}response(){return this.$__response}createResponseRaw(e){return wt(this,null,function*(){return this.createResponse(e)})}createResponse(e){return new Cr({query:this,json:e})}createQuery({variables:e=null}){if(this.$__variables=this.compiledVariables(e),!this.uri())throw new $r("Query::createQuery() - Node URI was not initialized for this client instance!");if(this.$__query===null)throw new $r("Query::createQuery() - GraphQL subscription was not initialized!");return{query:this.$__query,variables:this.variables()}}execute(t){return wt(this,arguments,function*({variables:e=null}){this.$__request=this.createQuery({variables:e});let n=yield this.client.query(this.$__request);return this.$__response=yield this.createResponseRaw(n),this.$__response})}compiledVariables(e=null){return e||{}}uri(){return this.client.getUri()}variables(){return this.$__variables}}class b2 extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.ContinuId"})}payload(){let e=null;const t=this.data();return t&&(e=new Zt({secret:null,token:t.tokenSlug}),e.address=t.address,e.position=t.position,e.bundle=t.bundleHash,e.batchId=t.batchId,e.characters=t.characters,e.pubkey=t.pubkey,e.balance=t.amount*1),e}}var dc=function(r,e){return dc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])},dc(r,e)};function Xr(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dc(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var we=function(){return we=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},we.apply(this,arguments)};function On(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function Bn(r,e,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(f){try{h(n.next(f))}catch(d){o(d)}}function u(f){try{h(n.throw(f))}catch(d){o(d)}}function h(f){f.done?i(f.value):a(f.value).then(c,u)}h((n=n.apply(r,e||[])).next())})}function Pn(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(f){return u([h,f])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,h[0]&&(t=0)),t;)try{if(n=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,a=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){t.label=h[1];break}if(h[0]===6&&t.label<i[1]){t.label=i[1],i=h;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(h);break}i[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(f){h=[6,f],a=0}finally{n=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Zr(r,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}typeof SuppressedError=="function"&&SuppressedError;var pc="Invariant Violation",Nv=Object.setPrototypeOf,m2=Nv===void 0?function(r,e){return r.__proto__=e,r}:Nv,qv=function(r){Xr(e,r);function e(t){t===void 0&&(t=pc);var n=r.call(this,typeof t=="number"?pc+": "+t+" (see https://github.com/apollographql/invariant-packages)":t)||this;return n.framesToPop=1,n.name=pc,m2(n,e.prototype),n}return e}(Error);function Jn(r,e){if(!r)throw new qv(e)}var Lv=["debug","log","warn","error","silent"],g2=Lv.indexOf("log");function co(r){return function(){if(Lv.indexOf(r)>=g2){var e=console[r]||console.log;return e.apply(console,arguments)}}}(function(r){r.debug=co("debug"),r.log=co("log"),r.warn=co("warn"),r.error=co("error")})(Jn||(Jn={}));var vc="3.9.5";const ta=globalThis||void 0||self;function en(r){try{return r()}catch(e){}}const yc=en(function(){return globalThis})||en(function(){return window})||en(function(){return self})||en(function(){return ta})||en(function(){return en.constructor("return this")()});var Fv=new Map;function bc(r){var e=Fv.get(r)||1;return Fv.set(r,e+1),"".concat(r,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function Uv(r,e){e===void 0&&(e=0);var t=bc("stringifyForDisplay");return JSON.stringify(r,function(n,a){return a===void 0?t:a},e).split(JSON.stringify(t)).join("<undefined>")}function ho(r){return function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(typeof e=="number"){var a=e;e=mc(a),e||(e=gc(a,t),t=[])}r.apply(void 0,[e].concat(t))}}var Rt=Object.assign(function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];e||Jn(e,mc(t,n)||gc(t,n))},{debug:ho(Jn.debug),log:ho(Jn.log),warn:ho(Jn.warn),error:ho(Jn.error)});function Nr(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new qv(mc(r,e)||gc(r,e))}var jv=Symbol.for("ApolloErrorMessageHandler_"+vc);function $v(r){return typeof r=="string"?r:Uv(r,2).slice(0,1e3)}function mc(r,e){if(e===void 0&&(e=[]),!!r)return yc[jv]&&yc[jv](r,e.map($v))}function gc(r,e){if(e===void 0&&(e=[]),!!r)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:vc,message:r,args:e.map($v)})))}function lo(r,e){if(!!!r)throw new Error(e)}function w2(r){return typeof r=="object"&&r!==null}function _2(r,e){if(!!!r)throw new Error(e!=null?e:"Unexpected invariant triggered.")}const x2=/\r\n|[\n\r]/g;function wc(r,e){let t=0,n=1;for(const a of r.body.matchAll(x2)){if(typeof a.index=="number"||_2(!1),a.index>=e)break;t=a.index+a[0].length,n+=1}return{line:n,column:e+1-t}}function S2(r){return Hv(r.source,wc(r.source,r.start))}function Hv(r,e){const t=r.locationOffset.column-1,n="".padStart(t)+r.body,a=e.line-1,i=r.locationOffset.line-1,o=e.line+i,c=e.line===1?t:0,u=e.column+c,h=`${r.name}:${o}:${u}
`,f=n.split(/\r\n|[\n\r]/g),d=f[a];if(d.length>120){const l=Math.floor(u/80),y=u%80,m=[];for(let w=0;w<d.length;w+=80)m.push(d.slice(w,w+80));return h+zv([[`${o} |`,m[0]],...m.slice(1,l+1).map(w=>["|",w]),["|","^".padStart(y)],["|",m[l+1]]])}return h+zv([[`${o-1} |`,f[a-1]],[`${o} |`,d],["|","^".padStart(u)],[`${o+1} |`,f[a+1]]])}function zv(r){const e=r.filter(([n,a])=>a!==void 0),t=Math.max(...e.map(([n])=>n.length));return e.map(([n,a])=>n.padStart(t)+(a?" "+a:"")).join(`
`)}function E2(r){const e=r[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:r[1],positions:r[2],path:r[3],originalError:r[4],extensions:r[5]}:e}class _c extends Error{constructor(e,...t){var n,a,i;const{nodes:o,source:c,positions:u,path:h,originalError:f,extensions:d}=E2(t);super(e),this.name="GraphQLError",this.path=h!=null?h:void 0,this.originalError=f!=null?f:void 0,this.nodes=Vv(Array.isArray(o)?o:o?[o]:void 0);const l=Vv((n=this.nodes)===null||n===void 0?void 0:n.map(m=>m.loc).filter(m=>m!=null));this.source=c!=null?c:l==null||(a=l[0])===null||a===void 0?void 0:a.source,this.positions=u!=null?u:l==null?void 0:l.map(m=>m.start),this.locations=u&&c?u.map(m=>wc(c,m)):l==null?void 0:l.map(m=>wc(m.source,m.start));const y=w2(f==null?void 0:f.extensions)?f==null?void 0:f.extensions:void 0;this.extensions=(i=d!=null?d:y)!==null&&i!==void 0?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),f!=null&&f.stack?Object.defineProperty(this,"stack",{value:f.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,_c):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const t of this.nodes)t.loc&&(e+=`

`+S2(t.loc));else if(this.source&&this.locations)for(const t of this.locations)e+=`

`+Hv(this.source,t);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Vv(r){return r===void 0||r.length===0?void 0:r}function Mr(r,e,t){return new _c(`Syntax Error: ${t}`,{source:r,positions:[e]})}class M2{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Wv{constructor(e,t,n,a,i,o){this.kind=e,this.start=t,this.end=n,this.line=a,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const Kv={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},A2=new Set(Object.keys(Kv));function Qv(r){const e=r==null?void 0:r.kind;return typeof e=="string"&&A2.has(e)}var yi;(function(r){r.QUERY="query",r.MUTATION="mutation",r.SUBSCRIPTION="subscription"})(yi||(yi={}));var xc;(function(r){r.QUERY="QUERY",r.MUTATION="MUTATION",r.SUBSCRIPTION="SUBSCRIPTION",r.FIELD="FIELD",r.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",r.FRAGMENT_SPREAD="FRAGMENT_SPREAD",r.INLINE_FRAGMENT="INLINE_FRAGMENT",r.VARIABLE_DEFINITION="VARIABLE_DEFINITION",r.SCHEMA="SCHEMA",r.SCALAR="SCALAR",r.OBJECT="OBJECT",r.FIELD_DEFINITION="FIELD_DEFINITION",r.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",r.INTERFACE="INTERFACE",r.UNION="UNION",r.ENUM="ENUM",r.ENUM_VALUE="ENUM_VALUE",r.INPUT_OBJECT="INPUT_OBJECT",r.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(xc||(xc={}));var yt;(function(r){r.NAME="Name",r.DOCUMENT="Document",r.OPERATION_DEFINITION="OperationDefinition",r.VARIABLE_DEFINITION="VariableDefinition",r.SELECTION_SET="SelectionSet",r.FIELD="Field",r.ARGUMENT="Argument",r.FRAGMENT_SPREAD="FragmentSpread",r.INLINE_FRAGMENT="InlineFragment",r.FRAGMENT_DEFINITION="FragmentDefinition",r.VARIABLE="Variable",r.INT="IntValue",r.FLOAT="FloatValue",r.STRING="StringValue",r.BOOLEAN="BooleanValue",r.NULL="NullValue",r.ENUM="EnumValue",r.LIST="ListValue",r.OBJECT="ObjectValue",r.OBJECT_FIELD="ObjectField",r.DIRECTIVE="Directive",r.NAMED_TYPE="NamedType",r.LIST_TYPE="ListType",r.NON_NULL_TYPE="NonNullType",r.SCHEMA_DEFINITION="SchemaDefinition",r.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",r.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",r.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",r.FIELD_DEFINITION="FieldDefinition",r.INPUT_VALUE_DEFINITION="InputValueDefinition",r.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",r.UNION_TYPE_DEFINITION="UnionTypeDefinition",r.ENUM_TYPE_DEFINITION="EnumTypeDefinition",r.ENUM_VALUE_DEFINITION="EnumValueDefinition",r.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",r.DIRECTIVE_DEFINITION="DirectiveDefinition",r.SCHEMA_EXTENSION="SchemaExtension",r.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",r.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",r.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",r.UNION_TYPE_EXTENSION="UnionTypeExtension",r.ENUM_TYPE_EXTENSION="EnumTypeExtension",r.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(yt||(yt={}));function Sc(r){return r===9||r===32}function ra(r){return r>=48&&r<=57}function Gv(r){return r>=97&&r<=122||r>=65&&r<=90}function Jv(r){return Gv(r)||r===95}function T2(r){return Gv(r)||ra(r)||r===95}function k2(r){var e;let t=Number.MAX_SAFE_INTEGER,n=null,a=-1;for(let o=0;o<r.length;++o){var i;const c=r[o],u=I2(c);u!==c.length&&(n=(i=n)!==null&&i!==void 0?i:o,a=o,o!==0&&u<t&&(t=u))}return r.map((o,c)=>c===0?o:o.slice(t)).slice((e=n)!==null&&e!==void 0?e:0,a+1)}function I2(r){let e=0;for(;e<r.length&&Sc(r.charCodeAt(e));)++e;return e}function R2(r,e){const t=r.replace(/"""/g,'\\"""'),n=t.split(/\r\n|[\n\r]/g),a=n.length===1,i=n.length>1&&n.slice(1).every(y=>y.length===0||Sc(y.charCodeAt(0))),o=t.endsWith('\\"""'),c=r.endsWith('"')&&!o,u=r.endsWith("\\"),h=c||u,f=!(e!=null&&e.minimize)&&(!a||r.length>70||h||i||o);let d="";const l=a&&Sc(r.charCodeAt(0));return(f&&!l||i)&&(d+=`
`),d+=t,(f||h)&&(d+=`
`),'"""'+d+'"""'}var Ce;(function(r){r.SOF="<SOF>",r.EOF="<EOF>",r.BANG="!",r.DOLLAR="$",r.AMP="&",r.PAREN_L="(",r.PAREN_R=")",r.SPREAD="...",r.COLON=":",r.EQUALS="=",r.AT="@",r.BRACKET_L="[",r.BRACKET_R="]",r.BRACE_L="{",r.PIPE="|",r.BRACE_R="}",r.NAME="Name",r.INT="Int",r.FLOAT="Float",r.STRING="String",r.BLOCK_STRING="BlockString",r.COMMENT="Comment"})(Ce||(Ce={}));class C2{constructor(e){const t=new Wv(Ce.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==Ce.EOF)do if(e.next)e=e.next;else{const t=B2(this,e.end);e.next=t,t.prev=e,e=t}while(e.kind===Ce.COMMENT);return e}}function O2(r){return r===Ce.BANG||r===Ce.DOLLAR||r===Ce.AMP||r===Ce.PAREN_L||r===Ce.PAREN_R||r===Ce.SPREAD||r===Ce.COLON||r===Ce.EQUALS||r===Ce.AT||r===Ce.BRACKET_L||r===Ce.BRACKET_R||r===Ce.BRACE_L||r===Ce.PIPE||r===Ce.BRACE_R}function bi(r){return r>=0&&r<=55295||r>=57344&&r<=1114111}function po(r,e){return Yv(r.charCodeAt(e))&&Xv(r.charCodeAt(e+1))}function Yv(r){return r>=55296&&r<=56319}function Xv(r){return r>=56320&&r<=57343}function Yn(r,e){const t=r.source.body.codePointAt(e);if(t===void 0)return Ce.EOF;if(t>=32&&t<=126){const n=String.fromCodePoint(t);return n==='"'?`'"'`:`"${n}"`}return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function gr(r,e,t,n,a){const i=r.line,o=1+t-r.lineStart;return new Wv(e,t,n,i,o,a)}function B2(r,e){const t=r.source.body,n=t.length;let a=e;for(;a<n;){const i=t.charCodeAt(a);switch(i){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++r.line,r.lineStart=a;continue;case 13:t.charCodeAt(a+1)===10?a+=2:++a,++r.line,r.lineStart=a;continue;case 35:return P2(r,a);case 33:return gr(r,Ce.BANG,a,a+1);case 36:return gr(r,Ce.DOLLAR,a,a+1);case 38:return gr(r,Ce.AMP,a,a+1);case 40:return gr(r,Ce.PAREN_L,a,a+1);case 41:return gr(r,Ce.PAREN_R,a,a+1);case 46:if(t.charCodeAt(a+1)===46&&t.charCodeAt(a+2)===46)return gr(r,Ce.SPREAD,a,a+3);break;case 58:return gr(r,Ce.COLON,a,a+1);case 61:return gr(r,Ce.EQUALS,a,a+1);case 64:return gr(r,Ce.AT,a,a+1);case 91:return gr(r,Ce.BRACKET_L,a,a+1);case 93:return gr(r,Ce.BRACKET_R,a,a+1);case 123:return gr(r,Ce.BRACE_L,a,a+1);case 124:return gr(r,Ce.PIPE,a,a+1);case 125:return gr(r,Ce.BRACE_R,a,a+1);case 34:return t.charCodeAt(a+1)===34&&t.charCodeAt(a+2)===34?U2(r,a):N2(r,a)}if(ra(i)||i===45)return D2(r,a,i);if(Jv(i))return j2(r,a);throw Mr(r.source,a,i===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:bi(i)||po(t,a)?`Unexpected character: ${Yn(r,a)}.`:`Invalid character: ${Yn(r,a)}.`)}return gr(r,Ce.EOF,n,n)}function P2(r,e){const t=r.source.body,n=t.length;let a=e+1;for(;a<n;){const i=t.charCodeAt(a);if(i===10||i===13)break;if(bi(i))++a;else if(po(t,a))a+=2;else break}return gr(r,Ce.COMMENT,e,a,t.slice(e+1,a))}function D2(r,e,t){const n=r.source.body;let a=e,i=t,o=!1;if(i===45&&(i=n.charCodeAt(++a)),i===48){if(i=n.charCodeAt(++a),ra(i))throw Mr(r.source,a,`Invalid number, unexpected digit after 0: ${Yn(r,a)}.`)}else a=Ec(r,a,i),i=n.charCodeAt(a);if(i===46&&(o=!0,i=n.charCodeAt(++a),a=Ec(r,a,i),i=n.charCodeAt(a)),(i===69||i===101)&&(o=!0,i=n.charCodeAt(++a),(i===43||i===45)&&(i=n.charCodeAt(++a)),a=Ec(r,a,i),i=n.charCodeAt(a)),i===46||Jv(i))throw Mr(r.source,a,`Invalid number, expected digit but got: ${Yn(r,a)}.`);return gr(r,o?Ce.FLOAT:Ce.INT,e,a,n.slice(e,a))}function Ec(r,e,t){if(!ra(t))throw Mr(r.source,e,`Invalid number, expected digit but got: ${Yn(r,e)}.`);const n=r.source.body;let a=e+1;for(;ra(n.charCodeAt(a));)++a;return a}function N2(r,e){const t=r.source.body,n=t.length;let a=e+1,i=a,o="";for(;a<n;){const c=t.charCodeAt(a);if(c===34)return o+=t.slice(i,a),gr(r,Ce.STRING,e,a+1,o);if(c===92){o+=t.slice(i,a);const u=t.charCodeAt(a+1)===117?t.charCodeAt(a+2)===123?q2(r,a):L2(r,a):F2(r,a);o+=u.value,a+=u.size,i=a;continue}if(c===10||c===13)break;if(bi(c))++a;else if(po(t,a))a+=2;else throw Mr(r.source,a,`Invalid character within String: ${Yn(r,a)}.`)}throw Mr(r.source,a,"Unterminated string.")}function q2(r,e){const t=r.source.body;let n=0,a=3;for(;a<12;){const i=t.charCodeAt(e+a++);if(i===125){if(a<5||!bi(n))break;return{value:String.fromCodePoint(n),size:a}}if(n=n<<4|na(i),n<0)break}throw Mr(r.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+a)}".`)}function L2(r,e){const t=r.source.body,n=Zv(t,e+2);if(bi(n))return{value:String.fromCodePoint(n),size:6};if(Yv(n)&&t.charCodeAt(e+6)===92&&t.charCodeAt(e+7)===117){const a=Zv(t,e+8);if(Xv(a))return{value:String.fromCodePoint(n,a),size:12}}throw Mr(r.source,e,`Invalid Unicode escape sequence: "${t.slice(e,e+6)}".`)}function Zv(r,e){return na(r.charCodeAt(e))<<12|na(r.charCodeAt(e+1))<<8|na(r.charCodeAt(e+2))<<4|na(r.charCodeAt(e+3))}function na(r){return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:-1}function F2(r,e){const t=r.source.body;switch(t.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Mr(r.source,e,`Invalid character escape sequence: "${t.slice(e,e+2)}".`)}function U2(r,e){const t=r.source.body,n=t.length;let a=r.lineStart,i=e+3,o=i,c="";const u=[];for(;i<n;){const h=t.charCodeAt(i);if(h===34&&t.charCodeAt(i+1)===34&&t.charCodeAt(i+2)===34){c+=t.slice(o,i),u.push(c);const f=gr(r,Ce.BLOCK_STRING,e,i+3,k2(u).join(`
`));return r.line+=u.length-1,r.lineStart=a,f}if(h===92&&t.charCodeAt(i+1)===34&&t.charCodeAt(i+2)===34&&t.charCodeAt(i+3)===34){c+=t.slice(o,i),o=i+1,i+=4;continue}if(h===10||h===13){c+=t.slice(o,i),u.push(c),h===13&&t.charCodeAt(i+1)===10?i+=2:++i,c="",o=i,a=i;continue}if(bi(h))++i;else if(po(t,i))i+=2;else throw Mr(r.source,i,`Invalid character within String: ${Yn(r,i)}.`)}throw Mr(r.source,i,"Unterminated string.")}function j2(r,e){const t=r.source.body,n=t.length;let a=e+1;for(;a<n;){const i=t.charCodeAt(a);if(T2(i))++a;else break}return gr(r,Ce.NAME,e,a,t.slice(e,a))}const $2=10,e1=2;function Mc(r){return vo(r,[])}function vo(r,e){switch(typeof r){case"string":return JSON.stringify(r);case"function":return r.name?`[function ${r.name}]`:"[function]";case"object":return H2(r,e);default:return String(r)}}function H2(r,e){if(r===null)return"null";if(e.includes(r))return"[Circular]";const t=[...e,r];if(z2(r)){const n=r.toJSON();if(n!==r)return typeof n=="string"?n:vo(n,t)}else if(Array.isArray(r))return W2(r,t);return V2(r,t)}function z2(r){return typeof r.toJSON=="function"}function V2(r,e){const t=Object.entries(r);return t.length===0?"{}":e.length>e1?"["+K2(r)+"]":"{ "+t.map(([a,i])=>a+": "+vo(i,e)).join(", ")+" }"}function W2(r,e){if(r.length===0)return"[]";if(e.length>e1)return"[Array]";const t=Math.min($2,r.length),n=r.length-t,a=[];for(let i=0;i<t;++i)a.push(vo(r[i],e));return n===1?a.push("... 1 more item"):n>1&&a.push(`... ${n} more items`),"["+a.join(", ")+"]"}function K2(r){const e=Object.prototype.toString.call(r).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof r.constructor=="function"){const t=r.constructor.name;if(typeof t=="string"&&t!=="")return t}return e}const Q2=function(e,t){if(e instanceof t)return!0;if(typeof e=="object"&&e!==null){var n;const a=t.prototype[Symbol.toStringTag],i=Symbol.toStringTag in e?e[Symbol.toStringTag]:(n=e.constructor)===null||n===void 0?void 0:n.name;if(a===i){const o=Mc(e);throw new Error(`Cannot use ${a} "${o}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};class t1{constructor(e,t="GraphQL request",n={line:1,column:1}){typeof e=="string"||lo(!1,`Body must be a string. Received: ${Mc(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||lo(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||lo(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function G2(r){return Q2(r,t1)}function J2(r,e){return new Y2(r,e).parseDocument()}class Y2{constructor(e,t={}){const n=G2(e)?e:new t1(e);this._lexer=new C2(n),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(Ce.NAME);return this.node(e,{kind:yt.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:yt.DOCUMENT,definitions:this.many(Ce.SOF,this.parseDefinition,Ce.EOF)})}parseDefinition(){if(this.peek(Ce.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===Ce.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Mr(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(Ce.BRACE_L))return this.node(e,{kind:yt.OPERATION_DEFINITION,operation:yi.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(Ce.NAME)&&(n=this.parseName()),this.node(e,{kind:yt.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(Ce.NAME);switch(e.value){case"query":return yi.QUERY;case"mutation":return yi.MUTATION;case"subscription":return yi.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(Ce.PAREN_L,this.parseVariableDefinition,Ce.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:yt.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Ce.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Ce.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(Ce.DOLLAR),this.node(e,{kind:yt.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:yt.SELECTION_SET,selections:this.many(Ce.BRACE_L,this.parseSelection,Ce.BRACE_R)})}parseSelection(){return this.peek(Ce.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,a;return this.expectOptionalToken(Ce.COLON)?(n=t,a=this.parseName()):a=t,this.node(e,{kind:yt.FIELD,alias:n,name:a,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Ce.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Ce.PAREN_L,t,Ce.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(Ce.COLON),this.node(t,{kind:yt.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(Ce.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(Ce.NAME)?this.node(e,{kind:yt.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:yt.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:yt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:yt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case Ce.BRACKET_L:return this.parseList(e);case Ce.BRACE_L:return this.parseObject(e);case Ce.INT:return this.advanceLexer(),this.node(t,{kind:yt.INT,value:t.value});case Ce.FLOAT:return this.advanceLexer(),this.node(t,{kind:yt.FLOAT,value:t.value});case Ce.STRING:case Ce.BLOCK_STRING:return this.parseStringLiteral();case Ce.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:yt.BOOLEAN,value:!0});case"false":return this.node(t,{kind:yt.BOOLEAN,value:!1});case"null":return this.node(t,{kind:yt.NULL});default:return this.node(t,{kind:yt.ENUM,value:t.value})}case Ce.DOLLAR:if(e)if(this.expectToken(Ce.DOLLAR),this._lexer.token.kind===Ce.NAME){const n=this._lexer.token.value;throw Mr(this._lexer.source,t.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(t);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:yt.STRING,value:e.value,block:e.kind===Ce.BLOCK_STRING})}parseList(e){const t=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:yt.LIST,values:this.any(Ce.BRACKET_L,t,Ce.BRACKET_R)})}parseObject(e){const t=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:yt.OBJECT,fields:this.any(Ce.BRACE_L,t,Ce.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(Ce.COLON),this.node(t,{kind:yt.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(Ce.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(Ce.AT),this.node(t,{kind:yt.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(Ce.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(Ce.BRACKET_R),t=this.node(e,{kind:yt.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(Ce.BANG)?this.node(e,{kind:yt.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:yt.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Ce.STRING)||this.peek(Ce.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),a=this.many(Ce.BRACE_L,this.parseOperationTypeDefinition,Ce.BRACE_R);return this.node(e,{kind:yt.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:a})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(Ce.COLON);const n=this.parseNamedType();return this.node(e,{kind:yt.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),a=this.parseConstDirectives();return this.node(e,{kind:yt.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:a})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),a=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:yt.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:a,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Ce.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Ce.BRACE_L,this.parseFieldDefinition,Ce.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),a=this.parseArgumentDefs();this.expectToken(Ce.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:yt.FIELD_DEFINITION,description:t,name:n,arguments:a,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(Ce.PAREN_L,this.parseInputValueDef,Ce.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(Ce.COLON);const a=this.parseTypeReference();let i;this.expectOptionalToken(Ce.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:yt.INPUT_VALUE_DEFINITION,description:t,name:n,type:a,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),a=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:yt.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:a,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),a=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:yt.UNION_TYPE_DEFINITION,description:t,name:n,directives:a,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(Ce.EQUALS)?this.delimitedMany(Ce.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),a=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:yt.ENUM_TYPE_DEFINITION,description:t,name:n,directives:a,values:i})}parseEnumValuesDefinition(){return this.optionalMany(Ce.BRACE_L,this.parseEnumValueDefinition,Ce.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),a=this.parseConstDirectives();return this.node(e,{kind:yt.ENUM_VALUE_DEFINITION,description:t,name:n,directives:a})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Mr(this._lexer.source,this._lexer.token.start,`${yo(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),a=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:yt.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:a,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(Ce.BRACE_L,this.parseInputValueDef,Ce.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===Ce.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(Ce.BRACE_L,this.parseOperationTypeDefinition,Ce.BRACE_R);if(t.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:yt.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:yt.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(n.length===0&&a.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:yt.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:a,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(n.length===0&&a.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:yt.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:a,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),a=this.parseUnionMemberTypes();if(n.length===0&&a.length===0)throw this.unexpected();return this.node(e,{kind:yt.UNION_TYPE_EXTENSION,name:t,directives:n,types:a})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();if(n.length===0&&a.length===0)throw this.unexpected();return this.node(e,{kind:yt.ENUM_TYPE_EXTENSION,name:t,directives:n,values:a})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();if(n.length===0&&a.length===0)throw this.unexpected();return this.node(e,{kind:yt.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:a})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Ce.AT);const n=this.parseName(),a=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:yt.DIRECTIVE_DEFINITION,description:t,name:n,arguments:a,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(Ce.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(xc,t.value))return t;throw this.unexpected(e)}node(e,t){return this._options.noLocation!==!0&&(t.loc=new M2(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw Mr(this._lexer.source,t.start,`Expected ${r1(e)}, found ${yo(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const t=this._lexer.token;if(t.kind===Ce.NAME&&t.value===e)this.advanceLexer();else throw Mr(this._lexer.source,t.start,`Expected "${e}", found ${yo(t)}.`)}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===Ce.NAME&&t.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const t=e!=null?e:this._lexer.token;return Mr(this._lexer.source,t.start,`Unexpected ${yo(t)}.`)}any(e,t,n){this.expectToken(e);const a=[];for(;!this.expectOptionalToken(n);)a.push(t.call(this));return a}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const a=[];do a.push(t.call(this));while(!this.expectOptionalToken(n));return a}return[]}many(e,t,n){this.expectToken(e);const a=[];do a.push(t.call(this));while(!this.expectOptionalToken(n));return a}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do n.push(t.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(e!==void 0&&t.kind!==Ce.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw Mr(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function yo(r){const e=r.value;return r1(r.kind)+(e!=null?` "${e}"`:"")}function r1(r){return O2(r)?`"${r}"`:r}function X2(r){return`"${r.replace(Z2,e6)}"`}const Z2=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function e6(r){return t6[r.charCodeAt(0)]}const t6=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Ac=Object.freeze({});function xn(r,e,t=Kv){const n=new Map;for(const x of Object.values(yt))n.set(x,r6(e,x));let a,i=Array.isArray(r),o=[r],c=-1,u=[],h=r,f,d;const l=[],y=[];do{c++;const x=c===o.length,P=x&&u.length!==0;if(x){if(f=y.length===0?void 0:l[l.length-1],h=d,d=y.pop(),P)if(i){h=h.slice();let U=0;for(const[z,W]of u){const re=z-U;W===null?(h.splice(re,1),U++):h[re]=W}}else{h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h));for(const[U,z]of u)h[U]=z}c=a.index,o=a.keys,u=a.edits,i=a.inArray,a=a.prev}else if(d){if(f=i?c:o[c],h=d[f],h==null)continue;l.push(f)}let L;if(!Array.isArray(h)){var m,w;Qv(h)||lo(!1,`Invalid AST Node: ${Mc(h)}.`);const U=x?(m=n.get(h.kind))===null||m===void 0?void 0:m.leave:(w=n.get(h.kind))===null||w===void 0?void 0:w.enter;if(L=U==null?void 0:U.call(e,h,f,d,l,y),L===Ac)break;if(L===!1){if(!x){l.pop();continue}}else if(L!==void 0&&(u.push([f,L]),!x))if(Qv(L))h=L;else{l.pop();continue}}if(L===void 0&&P&&u.push([f,h]),x)l.pop();else{var E;a={inArray:i,index:c,keys:o,edits:u,prev:a},i=Array.isArray(h),o=i?h:(E=t[h.kind])!==null&&E!==void 0?E:[],c=-1,u=[],d&&y.push(d),d=h}}while(a!==void 0);return u.length!==0?u[u.length-1][1]:r}function r6(r,e){const t=r[e];return typeof t=="object"?t:typeof t=="function"?{enter:t,leave:void 0}:{enter:r.enter,leave:r.leave}}function n1(r){return xn(r,i6)}const n6=80,i6={Name:{leave:r=>r.value},Variable:{leave:r=>"$"+r.name},Document:{leave:r=>bt(r.definitions,`

`)},OperationDefinition:{leave(r){const e=Vt("(",bt(r.variableDefinitions,", "),")"),t=bt([r.operation,bt([r.name,e]),bt(r.directives," ")]," ");return(t==="query"?"":t+" ")+r.selectionSet}},VariableDefinition:{leave:({variable:r,type:e,defaultValue:t,directives:n})=>r+": "+e+Vt(" = ",t)+Vt(" ",bt(n," "))},SelectionSet:{leave:({selections:r})=>tn(r)},Field:{leave({alias:r,name:e,arguments:t,directives:n,selectionSet:a}){const i=Vt("",r,": ")+e;let o=i+Vt("(",bt(t,", "),")");return o.length>n6&&(o=i+Vt(`(
`,bo(bt(t,`
`)),`
)`)),bt([o,bt(n," "),a]," ")}},Argument:{leave:({name:r,value:e})=>r+": "+e},FragmentSpread:{leave:({name:r,directives:e})=>"..."+r+Vt(" ",bt(e," "))},InlineFragment:{leave:({typeCondition:r,directives:e,selectionSet:t})=>bt(["...",Vt("on ",r),bt(e," "),t]," ")},FragmentDefinition:{leave:({name:r,typeCondition:e,variableDefinitions:t,directives:n,selectionSet:a})=>`fragment ${r}${Vt("(",bt(t,", "),")")} on ${e} ${Vt("",bt(n," ")," ")}`+a},IntValue:{leave:({value:r})=>r},FloatValue:{leave:({value:r})=>r},StringValue:{leave:({value:r,block:e})=>e?R2(r):X2(r)},BooleanValue:{leave:({value:r})=>r?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:r})=>r},ListValue:{leave:({values:r})=>"["+bt(r,", ")+"]"},ObjectValue:{leave:({fields:r})=>"{"+bt(r,", ")+"}"},ObjectField:{leave:({name:r,value:e})=>r+": "+e},Directive:{leave:({name:r,arguments:e})=>"@"+r+Vt("(",bt(e,", "),")")},NamedType:{leave:({name:r})=>r},ListType:{leave:({type:r})=>"["+r+"]"},NonNullType:{leave:({type:r})=>r+"!"},SchemaDefinition:{leave:({description:r,directives:e,operationTypes:t})=>Vt("",r,`
`)+bt(["schema",bt(e," "),tn(t)]," ")},OperationTypeDefinition:{leave:({operation:r,type:e})=>r+": "+e},ScalarTypeDefinition:{leave:({description:r,name:e,directives:t})=>Vt("",r,`
`)+bt(["scalar",e,bt(t," ")]," ")},ObjectTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:a})=>Vt("",r,`
`)+bt(["type",e,Vt("implements ",bt(t," & ")),bt(n," "),tn(a)]," ")},FieldDefinition:{leave:({description:r,name:e,arguments:t,type:n,directives:a})=>Vt("",r,`
`)+e+(i1(t)?Vt(`(
`,bo(bt(t,`
`)),`
)`):Vt("(",bt(t,", "),")"))+": "+n+Vt(" ",bt(a," "))},InputValueDefinition:{leave:({description:r,name:e,type:t,defaultValue:n,directives:a})=>Vt("",r,`
`)+bt([e+": "+t,Vt("= ",n),bt(a," ")]," ")},InterfaceTypeDefinition:{leave:({description:r,name:e,interfaces:t,directives:n,fields:a})=>Vt("",r,`
`)+bt(["interface",e,Vt("implements ",bt(t," & ")),bt(n," "),tn(a)]," ")},UnionTypeDefinition:{leave:({description:r,name:e,directives:t,types:n})=>Vt("",r,`
`)+bt(["union",e,bt(t," "),Vt("= ",bt(n," | "))]," ")},EnumTypeDefinition:{leave:({description:r,name:e,directives:t,values:n})=>Vt("",r,`
`)+bt(["enum",e,bt(t," "),tn(n)]," ")},EnumValueDefinition:{leave:({description:r,name:e,directives:t})=>Vt("",r,`
`)+bt([e,bt(t," ")]," ")},InputObjectTypeDefinition:{leave:({description:r,name:e,directives:t,fields:n})=>Vt("",r,`
`)+bt(["input",e,bt(t," "),tn(n)]," ")},DirectiveDefinition:{leave:({description:r,name:e,arguments:t,repeatable:n,locations:a})=>Vt("",r,`
`)+"directive @"+e+(i1(t)?Vt(`(
`,bo(bt(t,`
`)),`
)`):Vt("(",bt(t,", "),")"))+(n?" repeatable":"")+" on "+bt(a," | ")},SchemaExtension:{leave:({directives:r,operationTypes:e})=>bt(["extend schema",bt(r," "),tn(e)]," ")},ScalarTypeExtension:{leave:({name:r,directives:e})=>bt(["extend scalar",r,bt(e," ")]," ")},ObjectTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>bt(["extend type",r,Vt("implements ",bt(e," & ")),bt(t," "),tn(n)]," ")},InterfaceTypeExtension:{leave:({name:r,interfaces:e,directives:t,fields:n})=>bt(["extend interface",r,Vt("implements ",bt(e," & ")),bt(t," "),tn(n)]," ")},UnionTypeExtension:{leave:({name:r,directives:e,types:t})=>bt(["extend union",r,bt(e," "),Vt("= ",bt(t," | "))]," ")},EnumTypeExtension:{leave:({name:r,directives:e,values:t})=>bt(["extend enum",r,bt(e," "),tn(t)]," ")},InputObjectTypeExtension:{leave:({name:r,directives:e,fields:t})=>bt(["extend input",r,bt(e," "),tn(t)]," ")}};function bt(r,e=""){var t;return(t=r==null?void 0:r.filter(n=>n).join(e))!==null&&t!==void 0?t:""}function tn(r){return Vt(`{
`,bo(bt(r,`
`)),`
}`)}function Vt(r,e,t=""){return e!=null&&e!==""?r+e+t:""}function bo(r){return Vt("  ",r.replace(/\n/g,`
  `))}function i1(r){var e;return(e=r==null?void 0:r.some(t=>t.includes(`
`)))!==null&&e!==void 0?e:!1}function a1(r){return r.kind===yt.FIELD||r.kind===yt.FRAGMENT_SPREAD||r.kind===yt.INLINE_FRAGMENT}function ia(r,e){var t=r.directives;return!t||!t.length?!0:s6(t).every(function(n){var a=n.directive,i=n.ifArgument,o=!1;return i.value.kind==="Variable"?(o=e&&e[i.value.name.value],Rt(o!==void 0,67,a.name.value)):o=i.value.value,a.name.value==="skip"?!o:o})}function aa(r,e,t){var n=new Set(r),a=n.size;return xn(e,{Directive:function(i){if(n.delete(i.name.value)&&(!t||!n.size))return Ac}}),t?!n.size:n.size<a}function a6(r){return r&&aa(["client","export"],r,!0)}function o6(r){var e=r.name.value;return e==="skip"||e==="include"}function s6(r){var e=[];return r&&r.length&&r.forEach(function(t){if(o6(t)){var n=t.arguments,a=t.name.value;Rt(n&&n.length===1,68,a);var i=n[0];Rt(i.name&&i.name.value==="if",69,a);var o=i.value;Rt(o&&(o.kind==="Variable"||o.kind==="BooleanValue"),70,a),e.push({directive:t,ifArgument:i})}}),e}const f6=()=>Object.create(null),{forEach:u6,slice:o1}=Array.prototype,{hasOwnProperty:c6}=Object.prototype;let mi=class Ib{constructor(e=!0,t=f6){this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return u6.call(e,n=>t=t.getChildTrie(n)),c6.call(t,"data")?t.data:t.data=this.makeData(o1.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let n=0,a=e.length;t&&n<a;++n){const i=t.mapFor(e[n],!1);t=i&&i.get(e[n])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const n=e[0],a=this.mapFor(n,!1),i=a&&a.get(n);i&&(t=i.removeArray(o1.call(e,1)),!i.data&&!i.weak&&!(i.strong&&i.strong.size)&&a.delete(n))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let n=t.get(e);return n||t.set(e,n=new Ib(this.weakness,this.makeData)),n}mapFor(e,t){return this.weakness&&h6(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}};function h6(r){switch(typeof r){case"object":if(r===null)break;case"function":return!0}return!1}var gi=typeof WeakMap=="function"&&!en(function(){return navigator.product=="ReactNative"&&!ta.HermesInternal}),s1=typeof WeakSet=="function",f1=typeof Symbol=="function"&&typeof Symbol.for=="function",mo=f1&&Symbol.asyncIterator;en(function(){return window.document.createElement}),en(function(){return navigator.userAgent.indexOf("jsdom")>=0});function pr(r){return r!==null&&typeof r=="object"}function l6(r,e){var t=e,n=[];r.definitions.forEach(function(i){if(i.kind==="OperationDefinition")throw Nr(71,i.operation,i.name?" named '".concat(i.name.value,"'"):"");i.kind==="FragmentDefinition"&&n.push(i)}),typeof t=="undefined"&&(Rt(n.length===1,72,n.length),t=n[0].name.value);var a=we(we({},r),{definitions:Zr([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:t}}]}}],r.definitions,!0)});return a}function go(r){r===void 0&&(r=[]);var e={};return r.forEach(function(t){e[t.name.value]=t}),e}function wo(r,e){switch(r.kind){case"InlineFragment":return r;case"FragmentSpread":{var t=r.name.value;if(typeof e=="function")return e(t);var n=e&&e[t];return Rt(n,73,t),n||null}default:return null}}function d6(){}class Tc{constructor(e=1/0,t=d6){this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:n,newer:a}=t;a&&(a.older=n),n&&(n.newer=a),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=a)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return t?(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0):!1}}function kc(){}const p6=kc,v6=typeof WeakRef!="undefined"?WeakRef:function(r){return{deref:()=>r}},y6=typeof WeakMap!="undefined"?WeakMap:Map,b6=typeof FinalizationRegistry!="undefined"?FinalizationRegistry:function(){return{register:kc,unregister:kc}},m6=10024;class _o{constructor(e=1/0,t=p6){this.max=e,this.dispose=t,this.map=new y6,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const n=this.unfinalizedNodes.values();for(let a=0;a<m6;a++){const i=n.next().value;if(!i)break;this.unfinalizedNodes.delete(i);const o=i.key;delete i.key,i.keyRef=new v6(o),this.registry.register(o,i,i)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new b6(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:n,newer:a}=t;a&&(a.older=n),n&&(n.newer=a),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=a)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.scheduleFinalization(n),this.map.set(e,n),this.size++,n.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return t?(this.deleteNode(t),!0):!1}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}var Ic=new WeakSet;function u1(r){Ic.has(r)||(Ic.add(r),setTimeout(function(){r.clean(),Ic.delete(r)},100))}var c1=function(r,e){var t=new _o(r,e);return t.set=function(n,a){return u1(this),_o.prototype.set.call(this,n,a)},t},g6=function(r,e){var t=new Tc(r,e);return t.set=function(n,a){return u1(this),Tc.prototype.set.call(this,n,a)},t},w6=Symbol.for("apollo.cacheSize"),Sn=we({},yc[w6]),Xn={};function h1(r,e){Xn[r]=e}var _6=globalThis.__DEV__!==!1?M6:void 0,x6=globalThis.__DEV__!==!1?A6:void 0,S6=globalThis.__DEV__!==!1?l1:void 0;function E6(){var r={parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4};return Object.fromEntries(Object.entries(r).map(function(e){var t=e[0],n=e[1];return[t,Sn[t]||n]}))}function M6(){var r,e,t,n,a;if(globalThis.__DEV__===!1)throw new Error("only supported in development mode");return{limits:E6(),sizes:we({print:(r=Xn.print)===null||r===void 0?void 0:r.call(Xn),parser:(e=Xn.parser)===null||e===void 0?void 0:e.call(Xn),canonicalStringify:(t=Xn.canonicalStringify)===null||t===void 0?void 0:t.call(Xn),links:Cc(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:p1(this.queryManager.documentTransform)}},(a=(n=this.cache).getMemoryInternals)===null||a===void 0?void 0:a.call(n))}}function l1(){return{cache:{fragmentQueryDocuments:Dn(this.getFragmentDoc)}}}function A6(){var r=this.config.fragments;return we(we({},l1.apply(this)),{addTypenameDocumentTransform:p1(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:Dn(this.storeReader.executeSelectionSet),executeSubSelectedArray:Dn(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:Dn(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:Dn(r==null?void 0:r.findFragmentSpreads),lookup:Dn(r==null?void 0:r.lookup),transform:Dn(r==null?void 0:r.transform)}})}function T6(r){return!!r&&"dirtyKey"in r}function Dn(r){return T6(r)?r.size:void 0}function d1(r){return r!=null}function p1(r){return Rc(r).map(function(e){return{cache:e}})}function Rc(r){return r?Zr(Zr([Dn(r==null?void 0:r.performWork)],Rc(r==null?void 0:r.left),!0),Rc(r==null?void 0:r.right),!0).filter(d1):[]}function Cc(r){var e;return r?Zr(Zr([(e=r==null?void 0:r.getMemoryInternals)===null||e===void 0?void 0:e.call(r)],Cc(r==null?void 0:r.left),!0),Cc(r==null?void 0:r.right),!0).filter(d1):[]}var Nn=Object.assign(function(e){return JSON.stringify(e,k6)},{reset:function(){wi=new g6(Sn.canonicalStringify||1e3)}});globalThis.__DEV__!==!1&&h1("canonicalStringify",function(){return wi.size});var wi;Nn.reset();function k6(r,e){if(e&&typeof e=="object"){var t=Object.getPrototypeOf(e);if(t===Object.prototype||t===null){var n=Object.keys(e);if(n.every(I6))return e;var a=JSON.stringify(n),i=wi.get(a);if(!i){n.sort();var o=JSON.stringify(n);i=wi.get(o)||n,wi.set(a,i),wi.set(o,i)}var c=Object.create(t);return i.forEach(function(u){c[u]=e[u]}),c}}return e}function I6(r,e,t){return e===0||t[e-1]<=r}function _i(r){return{__ref:String(r)}}function rr(r){return!!(r&&typeof r=="object"&&typeof r.__ref=="string")}function R6(r){return pr(r)&&r.kind==="Document"&&Array.isArray(r.definitions)}function C6(r){return r.kind==="StringValue"}function O6(r){return r.kind==="BooleanValue"}function B6(r){return r.kind==="IntValue"}function P6(r){return r.kind==="FloatValue"}function D6(r){return r.kind==="Variable"}function N6(r){return r.kind==="ObjectValue"}function q6(r){return r.kind==="ListValue"}function L6(r){return r.kind==="EnumValue"}function F6(r){return r.kind==="NullValue"}function xi(r,e,t,n){if(B6(t)||P6(t))r[e.value]=Number(t.value);else if(O6(t)||C6(t))r[e.value]=t.value;else if(N6(t)){var a={};t.fields.map(function(o){return xi(a,o.name,o.value,n)}),r[e.value]=a}else if(D6(t)){var i=(n||{})[t.name.value];r[e.value]=i}else if(q6(t))r[e.value]=t.values.map(function(o){var c={};return xi(c,e,o,n),c[e.value]});else if(L6(t))r[e.value]=t.value;else if(F6(t))r[e.value]=null;else throw Nr(82,e.value,t.kind)}function U6(r,e){var t=null;r.directives&&(t={},r.directives.forEach(function(a){t[a.name.value]={},a.arguments&&a.arguments.forEach(function(i){var o=i.name,c=i.value;return xi(t[a.name.value],o,c,e)})}));var n=null;return r.arguments&&r.arguments.length&&(n={},r.arguments.forEach(function(a){var i=a.name,o=a.value;return xi(n,i,o,e)})),v1(r.name.value,n,t)}var j6=["connection","include","skip","client","rest","export","nonreactive"],oa=Nn,v1=Object.assign(function(r,e,t){if(e&&t&&t.connection&&t.connection.key)if(t.connection.filter&&t.connection.filter.length>0){var n=t.connection.filter?t.connection.filter:[];n.sort();var a={};return n.forEach(function(c){a[c]=e[c]}),"".concat(t.connection.key,"(").concat(oa(a),")")}else return t.connection.key;var i=r;if(e){var o=oa(e);i+="(".concat(o,")")}return t&&Object.keys(t).forEach(function(c){j6.indexOf(c)===-1&&(t[c]&&Object.keys(t[c]).length?i+="@".concat(c,"(").concat(oa(t[c]),")"):i+="@".concat(c))}),i},{setStringify:function(r){var e=oa;return oa=r,e}});function xo(r,e){if(r.arguments&&r.arguments.length){var t={};return r.arguments.forEach(function(n){var a=n.name,i=n.value;return xi(t,a,i,e)}),t}return null}function qn(r){return r.alias?r.alias.value:r.name.value}function Oc(r,e,t){for(var n,a=0,i=e.selections;a<i.length;a++){var o=i[a];if(Ln(o)){if(o.name.value==="__typename")return r[qn(o)]}else n?n.push(o):n=[o]}if(typeof r.__typename=="string")return r.__typename;if(n)for(var c=0,u=n;c<u.length;c++){var o=u[c],h=Oc(r,wo(o,t).selectionSet,t);if(typeof h=="string")return h}}function Ln(r){return r.kind==="Field"}function $6(r){return r.kind==="InlineFragment"}function sa(r){Rt(r&&r.kind==="Document",74);var e=r.definitions.filter(function(t){return t.kind!=="FragmentDefinition"}).map(function(t){if(t.kind!=="OperationDefinition")throw Nr(75,t.kind);return t});return Rt(e.length<=1,76,e.length),r}function fa(r){return sa(r),r.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function Bc(r){return r.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function So(r){return r.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function y1(r){var e=fa(r);return Rt(e&&e.operation==="query",77),e}function H6(r){Rt(r.kind==="Document",78),Rt(r.definitions.length<=1,79);var e=r.definitions[0];return Rt(e.kind==="FragmentDefinition",80),e}function ua(r){sa(r);for(var e,t=0,n=r.definitions;t<n.length;t++){var a=n[t];if(a.kind==="OperationDefinition"){var i=a.operation;if(i==="query"||i==="mutation"||i==="subscription")return a}a.kind==="FragmentDefinition"&&!e&&(e=a)}if(e)return e;throw Nr(81)}function Pc(r){var e=Object.create(null),t=r&&r.variableDefinitions;return t&&t.length&&t.forEach(function(n){n.defaultValue&&xi(e,n.variable.name,n.defaultValue)}),e}const z6=()=>Object.create(null),{forEach:V6,slice:W6}=Array.prototype,{hasOwnProperty:K6}=Object.prototype;class Dc{constructor(e=!0,t=z6){this.weakness=e,this.makeData=t}lookup(...e){return this.lookupArray(e)}lookupArray(e){let t=this;return V6.call(e,n=>t=t.getChildTrie(n)),K6.call(t,"data")?t.data:t.data=this.makeData(W6.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let t=this;for(let n=0,a=e.length;t&&n<a;++n){const i=this.weakness&&b1(e[n])?t.weak:t.strong;t=i&&i.get(e[n])}return t&&t.data}getChildTrie(e){const t=this.weakness&&b1(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map);let n=t.get(e);return n||t.set(e,n=new Dc(this.weakness,this.makeData)),n}}function b1(r){switch(typeof r){case"object":if(r===null)break;case"function":return!0}return!1}let Or=null;const m1={};let Q6=1;const G6=()=>class{constructor(){this.id=["slot",Q6++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=Or;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===m1)break;return e!==Or&&(Or.slots[this.id]=t),!0}return Or&&(Or.slots[this.id]=m1),!1}getValue(){if(this.hasValue())return Or.slots[this.id]}withValue(e,t,n,a){const i={__proto__:null,[this.id]:e},o=Or;Or={parent:o,slots:i};try{return t.apply(a,n)}finally{Or=o}}static bind(e){const t=Or;return function(){const n=Or;try{return Or=t,e.apply(this,arguments)}finally{Or=n}}}static noContext(e,t,n){if(Or){const a=Or;try{return Or=null,e.apply(n,t)}finally{Or=a}}else return e.apply(n,t)}};function g1(r){try{return r()}catch(e){}}const Nc="@wry/context:Slot",w1=g1(()=>globalThis)||g1(()=>ta)||Object.create(null),_1=w1[Nc]||Array[Nc]||function(r){try{Object.defineProperty(w1,Nc,{value:r,enumerable:!1,writable:!1,configurable:!0})}finally{return r}}(G6()),Eo=new _1,{hasOwnProperty:J6}=Object.prototype,qc=Array.from||function(r){const e=[];return r.forEach(t=>e.push(t)),e};function Mo(r){const{unsubscribe:e}=r;typeof e=="function"&&(r.unsubscribe=void 0,e())}const ca=[],Y6=100;function Si(r,e){if(!r)throw new Error(e||"assertion failure")}function x1(r,e){const t=r.length;return t>0&&t===e.length&&r[t-1]===e[t-1]}function S1(r){switch(r.length){case 0:throw new Error("unknown value");case 1:return r[0];case 2:throw r[1]}}function E1(r){return r.slice(0)}class Ao{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++Ao.count}peek(){if(this.value.length===1&&!Fn(this))return M1(this),this.value[0]}recompute(e){return Si(!this.recomputing,"already recomputing"),M1(this),Fn(this)?X6(this,e):S1(this.value)}setDirty(){this.dirty||(this.dirty=!0,A1(this),Mo(this))}dispose(){this.setDirty(),C1(this),Lc(this,(e,t)=>{e.setDirty(),O1(e,this)})}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=ca.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(qc(this.deps).forEach(e=>e.delete(this)),this.deps.clear(),ca.push(this.deps),this.deps=null)}}Ao.count=0;function M1(r){const e=Eo.getValue();if(e)return r.parents.add(e),e.childValues.has(r)||e.childValues.set(r,[]),Fn(r)?k1(e,r):I1(e,r),e}function X6(r,e){return C1(r),Eo.withValue(r,Z6,[r,e]),t3(r,e)&&e3(r),S1(r.value)}function Z6(r,e){r.recomputing=!0;const{normalizeResult:t}=r;let n;t&&r.value.length===1&&(n=E1(r.value)),r.value.length=0;try{if(r.value[0]=r.fn.apply(null,e),t&&n&&!x1(n,r.value))try{r.value[0]=t(r.value[0],n[0])}catch(a){}}catch(a){r.value[1]=a}r.recomputing=!1}function Fn(r){return r.dirty||!!(r.dirtyChildren&&r.dirtyChildren.size)}function e3(r){r.dirty=!1,!Fn(r)&&T1(r)}function A1(r){Lc(r,k1)}function T1(r){Lc(r,I1)}function Lc(r,e){const t=r.parents.size;if(t){const n=qc(r.parents);for(let a=0;a<t;++a)e(n[a],r)}}function k1(r,e){Si(r.childValues.has(e)),Si(Fn(e));const t=!Fn(r);if(!r.dirtyChildren)r.dirtyChildren=ca.pop()||new Set;else if(r.dirtyChildren.has(e))return;r.dirtyChildren.add(e),t&&A1(r)}function I1(r,e){Si(r.childValues.has(e)),Si(!Fn(e));const t=r.childValues.get(e);t.length===0?r.childValues.set(e,E1(e.value)):x1(t,e.value)||r.setDirty(),R1(r,e),!Fn(r)&&T1(r)}function R1(r,e){const t=r.dirtyChildren;t&&(t.delete(e),t.size===0&&(ca.length<Y6&&ca.push(t),r.dirtyChildren=null))}function C1(r){r.childValues.size>0&&r.childValues.forEach((e,t)=>{O1(r,t)}),r.forgetDeps(),Si(r.dirtyChildren===null)}function O1(r,e){e.parents.delete(r),r.childValues.delete(e),R1(r,e)}function t3(r,e){if(typeof r.subscribe=="function")try{Mo(r),r.unsubscribe=r.subscribe.apply(null,e)}catch(t){return r.setDirty(),!1}return!0}const r3={setDirty:!0,dispose:!0,forget:!0};function B1(r){const e=new Map,t=r&&r.subscribe;function n(a){const i=Eo.getValue();if(i){let o=e.get(a);o||e.set(a,o=new Set),i.dependOn(o),typeof t=="function"&&(Mo(o),o.unsubscribe=t(a))}}return n.dirty=function(i,o){const c=e.get(i);if(c){const u=o&&J6.call(r3,o)?o:"setDirty";qc(c).forEach(h=>h[u]()),e.delete(i),Mo(c)}},n}let P1;function n3(...r){return(P1||(P1=new Dc(typeof WeakMap=="function"))).lookupArray(r)}const Fc=new Set;function ha(r,{max:e=Math.pow(2,16),keyArgs:t,makeCacheKey:n=n3,normalizeResult:a,subscribe:i,cache:o=Tc}=Object.create(null)){const c=typeof o=="function"?new o(e,l=>l.dispose()):o,u=function(){const l=n.apply(null,t?t.apply(null,arguments):arguments);if(l===void 0)return r.apply(null,arguments);let y=c.get(l);y||(c.set(l,y=new Ao(r)),y.normalizeResult=a,y.subscribe=i,y.forget=()=>c.delete(l));const m=y.recompute(Array.prototype.slice.call(arguments));return c.set(l,y),Fc.add(c),Eo.hasValue()||(Fc.forEach(w=>w.clean()),Fc.clear()),m};Object.defineProperty(u,"size",{get:()=>c.size,configurable:!1,enumerable:!1}),Object.freeze(u.options={max:e,keyArgs:t,makeCacheKey:n,normalizeResult:a,subscribe:i,cache:c});function h(l){const y=l&&c.get(l);y&&y.setDirty()}u.dirtyKey=h,u.dirty=function(){h(n.apply(null,arguments))};function f(l){const y=l&&c.get(l);if(y)return y.peek()}u.peekKey=f,u.peek=function(){return f(n.apply(null,arguments))};function d(l){return l?c.delete(l):!1}return u.forgetKey=d,u.forget=function(){return d(n.apply(null,arguments))},u.makeCacheKey=n,u.getKey=t?function(){return n.apply(null,t.apply(null,arguments))}:n,Object.freeze(u)}function i3(r){return r}var D1=function(){function r(e,t){t===void 0&&(t=Object.create(null)),this.resultCache=s1?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=t.cache!==!1,this.resetCache()}return r.prototype.getCacheKey=function(e){return[e]},r.identity=function(){return new r(i3,{cache:!1})},r.split=function(e,t,n){return n===void 0&&(n=r.identity()),Object.assign(new r(function(a){var i=e(a)?t:n;return i.transformDocument(a)},{cache:!1}),{left:t,right:n})},r.prototype.resetCache=function(){var e=this;if(this.cached){var t=new mi(gi);this.performWork=ha(r.prototype.performWork.bind(this),{makeCacheKey:function(n){var a=e.getCacheKey(n);if(a)return Rt(Array.isArray(a),66),t.lookupArray(a)},max:Sn["documentTransform.cache"],cache:_o})}},r.prototype.performWork=function(e){return sa(e),this.transform(e)},r.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.performWork(e);return this.resultCache.add(t),t},r.prototype.concat=function(e){var t=this;return Object.assign(new r(function(n){return e.transformDocument(t.transformDocument(n))},{cache:!1}),{left:this,right:e})},r}(),la,To=Object.assign(function(r){var e=la.get(r);return e||(e=n1(r),la.set(r,e)),e},{reset:function(){la=new c1(Sn.print||2e3)}});To.reset(),globalThis.__DEV__!==!1&&h1("print",function(){return la?la.size:0});var vr=Array.isArray;function ln(r){return Array.isArray(r)&&r.length>0}var N1={kind:yt.FIELD,name:{kind:yt.NAME,value:"__typename"}};function q1(r,e){return!r||r.selectionSet.selections.every(function(t){return t.kind===yt.FRAGMENT_SPREAD&&q1(e[t.name.value],e)})}function a3(r){return q1(fa(r)||H6(r),go(So(r)))?null:r}function o3(r){var e=new Map,t=new Map;return r.forEach(function(n){n&&(n.name?e.set(n.name,n):n.test&&t.set(n.test,n))}),function(n){var a=e.get(n.name.value);return!a&&t.size&&t.forEach(function(i,o){o(n)&&(a=i)}),a}}function L1(r){var e=new Map;return function(n){n===void 0&&(n=r);var a=e.get(n);return a||e.set(n,a={variables:new Set,fragmentSpreads:new Set}),a}}function F1(r,e){sa(e);for(var t=L1(""),n=L1(""),a=function(x){for(var P=0,L=void 0;P<x.length&&(L=x[P]);++P)if(!vr(L)){if(L.kind===yt.OPERATION_DEFINITION)return t(L.name&&L.name.value);if(L.kind===yt.FRAGMENT_DEFINITION)return n(L.name.value)}return globalThis.__DEV__!==!1&&Rt.error(83),null},i=0,o=e.definitions.length-1;o>=0;--o)e.definitions[o].kind===yt.OPERATION_DEFINITION&&++i;var c=o3(r),u=function(x){return ln(x)&&x.map(c).some(function(P){return P&&P.remove})},h=new Map,f=!1,d={enter:function(x){if(u(x.directives))return f=!0,null}},l=xn(e,{Field:d,InlineFragment:d,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(x,P,L,U,z){var W=a(z);W&&W.variables.add(x.name.value)}},FragmentSpread:{enter:function(x,P,L,U,z){if(u(x.directives))return f=!0,null;var W=a(z);W&&W.fragmentSpreads.add(x.name.value)}},FragmentDefinition:{enter:function(x,P,L,U){h.set(JSON.stringify(U),x)},leave:function(x,P,L,U){var z=h.get(JSON.stringify(U));if(x===z)return x;if(i>0&&x.selectionSet.selections.every(function(W){return W.kind===yt.FIELD&&W.name.value==="__typename"}))return n(x.name.value).removed=!0,f=!0,null}},Directive:{leave:function(x){if(c(x))return f=!0,null}}});if(!f)return e;var y=function(x){return x.transitiveVars||(x.transitiveVars=new Set(x.variables),x.removed||x.fragmentSpreads.forEach(function(P){y(n(P)).transitiveVars.forEach(function(L){x.transitiveVars.add(L)})})),x},m=new Set;l.definitions.forEach(function(x){x.kind===yt.OPERATION_DEFINITION?y(t(x.name&&x.name.value)).fragmentSpreads.forEach(function(P){m.add(P)}):x.kind===yt.FRAGMENT_DEFINITION&&i===0&&!n(x.name.value).removed&&m.add(x.name.value)}),m.forEach(function(x){y(n(x)).fragmentSpreads.forEach(function(P){m.add(P)})});var w=function(x){return!!(!m.has(x)||n(x).removed)},E={enter:function(x){if(w(x.name.value))return null}};return a3(xn(l,{FragmentSpread:E,FragmentDefinition:E,OperationDefinition:{leave:function(x){if(x.variableDefinitions){var P=y(t(x.name&&x.name.value)).transitiveVars;if(P.size<x.variableDefinitions.length)return we(we({},x),{variableDefinitions:x.variableDefinitions.filter(function(L){return P.has(L.variable.name.value)})})}}}}))}var Uc=Object.assign(function(r){return xn(r,{SelectionSet:{enter:function(e,t,n){if(!(n&&n.kind===yt.OPERATION_DEFINITION)){var a=e.selections;if(a){var i=a.some(function(c){return Ln(c)&&(c.name.value==="__typename"||c.name.value.lastIndexOf("__",0)===0)});if(!i){var o=n;if(!(Ln(o)&&o.directives&&o.directives.some(function(c){return c.name.value==="export"})))return we(we({},e),{selections:Zr(Zr([],a,!0),[N1],!1)})}}}}}})},{added:function(r){return r===N1}});function s3(r){var e=ua(r),t=e.operation;if(t==="query")return r;var n=xn(r,{OperationDefinition:{enter:function(a){return we(we({},a),{operation:"query"})}}});return n}function U1(r){sa(r);var e=F1([{test:function(t){return t.name.value==="client"},remove:!0}],r);return e}var f3=Object.prototype.hasOwnProperty;function j1(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return jc(r)}function jc(r){var e=r[0]||{},t=r.length;if(t>1)for(var n=new Un,a=1;a<t;++a)e=n.merge(e,r[a]);return e}var u3=function(r,e,t){return this.merge(r[t],e[t])},Un=function(){function r(e){e===void 0&&(e=u3),this.reconciler=e,this.isObject=pr,this.pastCopies=new Set}return r.prototype.merge=function(e,t){for(var n=this,a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];return pr(t)&&pr(e)?(Object.keys(t).forEach(function(o){if(f3.call(e,o)){var c=e[o];if(t[o]!==c){var u=n.reconciler.apply(n,Zr([e,t,o],a,!1));u!==c&&(e=n.shallowCopyForMerge(e),e[o]=u)}}else e=n.shallowCopyForMerge(e),e[o]=t[o]}),e):t},r.prototype.shallowCopyForMerge=function(e){return pr(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=we({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},r}();function c3(r,e){var t=typeof Symbol!="undefined"&&r[Symbol.iterator]||r["@@iterator"];if(t)return(t=t.call(r)).next.bind(t);if(Array.isArray(r)||(t=h3(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0;return function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h3(r,e){if(r){if(typeof r=="string")return $1(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $1(r,e)}}function $1(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function H1(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function $c(r,e,t){return e&&H1(r.prototype,e),t&&H1(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}var Hc=function(){return typeof Symbol=="function"},zc=function(r){return Hc()&&!!Symbol[r]},Vc=function(r){return zc(r)?Symbol[r]:"@@"+r};Hc()&&!zc("observable")&&(Symbol.observable=Symbol("observable"));var l3=Vc("iterator"),Wc=Vc("observable"),z1=Vc("species");function ko(r,e){var t=r[e];if(t!=null){if(typeof t!="function")throw new TypeError(t+" is not a function");return t}}function da(r){var e=r.constructor;return e!==void 0&&(e=e[z1],e===null&&(e=void 0)),e!==void 0?e:ar}function d3(r){return r instanceof ar}function Ei(r){Ei.log?Ei.log(r):setTimeout(function(){throw r})}function Io(r){Promise.resolve().then(function(){try{r()}catch(e){Ei(e)}})}function V1(r){var e=r._cleanup;if(e!==void 0&&(r._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var t=ko(e,"unsubscribe");t&&t.call(e)}}catch(n){Ei(n)}}function Kc(r){r._observer=void 0,r._queue=void 0,r._state="closed"}function p3(r){var e=r._queue;if(e){r._queue=void 0,r._state="ready";for(var t=0;t<e.length&&(W1(r,e[t].type,e[t].value),r._state!=="closed");++t);}}function W1(r,e,t){r._state="running";var n=r._observer;try{var a=ko(n,e);switch(e){case"next":a&&a.call(n,t);break;case"error":if(Kc(r),a)a.call(n,t);else throw t;break;case"complete":Kc(r),a&&a.call(n);break}}catch(i){Ei(i)}r._state==="closed"?V1(r):r._state==="running"&&(r._state="ready")}function Qc(r,e,t){if(r._state!=="closed"){if(r._state==="buffering"){r._queue.push({type:e,value:t});return}if(r._state!=="ready"){r._state="buffering",r._queue=[{type:e,value:t}],Io(function(){return p3(r)});return}W1(r,e,t)}}var v3=function(){function r(t,n){this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var a=new y3(this);try{this._cleanup=n.call(void 0,a)}catch(i){a.error(i)}this._state==="initializing"&&(this._state="ready")}var e=r.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(Kc(this),V1(this))},$c(r,[{key:"closed",get:function(){return this._state==="closed"}}]),r}(),y3=function(){function r(t){this._subscription=t}var e=r.prototype;return e.next=function(n){Qc(this._subscription,"next",n)},e.error=function(n){Qc(this._subscription,"error",n)},e.complete=function(){Qc(this._subscription,"complete")},$c(r,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),r}(),ar=function(){function r(t){if(!(this instanceof r))throw new TypeError("Observable cannot be called as a function");if(typeof t!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=t}var e=r.prototype;return e.subscribe=function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new v3(n,this._subscriber)},e.forEach=function(n){var a=this;return new Promise(function(i,o){if(typeof n!="function"){o(new TypeError(n+" is not a function"));return}function c(){u.unsubscribe(),i()}var u=a.subscribe({next:function(h){try{n(h,c)}catch(f){o(f),u.unsubscribe()}},error:o,complete:i})})},e.map=function(n){var a=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=da(this);return new i(function(o){return a.subscribe({next:function(c){try{c=n(c)}catch(u){return o.error(u)}o.next(c)},error:function(c){o.error(c)},complete:function(){o.complete()}})})},e.filter=function(n){var a=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=da(this);return new i(function(o){return a.subscribe({next:function(c){try{if(!n(c))return}catch(u){return o.error(u)}o.next(c)},error:function(c){o.error(c)},complete:function(){o.complete()}})})},e.reduce=function(n){var a=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=da(this),o=arguments.length>1,c=!1,u=arguments[1],h=u;return new i(function(f){return a.subscribe({next:function(d){var l=!c;if(c=!0,!l||o)try{h=n(h,d)}catch(y){return f.error(y)}else h=d},error:function(d){f.error(d)},complete:function(){if(!c&&!o)return f.error(new TypeError("Cannot reduce an empty sequence"));f.next(h),f.complete()}})})},e.concat=function(){for(var n=this,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];var c=da(this);return new c(function(u){var h,f=0;function d(l){h=l.subscribe({next:function(y){u.next(y)},error:function(y){u.error(y)},complete:function(){f===i.length?(h=void 0,u.complete()):d(c.from(i[f++]))}})}return d(n),function(){h&&(h.unsubscribe(),h=void 0)}})},e.flatMap=function(n){var a=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var i=da(this);return new i(function(o){var c=[],u=a.subscribe({next:function(f){if(n)try{f=n(f)}catch(l){return o.error(l)}var d=i.from(f).subscribe({next:function(l){o.next(l)},error:function(l){o.error(l)},complete:function(){var l=c.indexOf(d);l>=0&&c.splice(l,1),h()}});c.push(d)},error:function(f){o.error(f)},complete:function(){h()}});function h(){u.closed&&c.length===0&&o.complete()}return function(){c.forEach(function(f){return f.unsubscribe()}),u.unsubscribe()}})},e[Wc]=function(){return this},r.from=function(n){var a=typeof this=="function"?this:r;if(n==null)throw new TypeError(n+" is not an object");var i=ko(n,Wc);if(i){var o=i.call(n);if(Object(o)!==o)throw new TypeError(o+" is not an object");return d3(o)&&o.constructor===a?o:new a(function(c){return o.subscribe(c)})}if(zc("iterator")&&(i=ko(n,l3),i))return new a(function(c){Io(function(){if(!c.closed){for(var u=c3(i.call(n)),h;!(h=u()).done;){var f=h.value;if(c.next(f),c.closed)return}c.complete()}})});if(Array.isArray(n))return new a(function(c){Io(function(){if(!c.closed){for(var u=0;u<n.length;++u)if(c.next(n[u]),c.closed)return;c.complete()}})});throw new TypeError(n+" is not observable")},r.of=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=typeof this=="function"?this:r;return new o(function(c){Io(function(){if(!c.closed){for(var u=0;u<a.length;++u)if(c.next(a[u]),c.closed)return;c.complete()}})})},$c(r,null,[{key:z1,get:function(){return this}}]),r}();Hc()&&Object.defineProperty(ar,Symbol("extensions"),{value:{symbol:Wc,hostReportError:Ei},configurable:!0});function b3(r){var e,t=r.Symbol;if(typeof t=="function")if(t.observable)e=t.observable;else{typeof t.for=="function"?e=t.for("https://github.com/benlesh/symbol-observable"):e=t("https://github.com/benlesh/symbol-observable");try{t.observable=e}catch(n){}}else e="@@observable";return e}var Mi;typeof self!="undefined"?Mi=self:typeof window!="undefined"?Mi=window:typeof ta!="undefined"?Mi=ta:typeof module!="undefined"?Mi=module:Mi=Function("return this")(),b3(Mi);var K1=ar.prototype,Q1="@@observable";K1[Q1]||(K1[Q1]=function(){return this});var m3=Object.prototype.toString;function G1(r){return Gc(r)}function Gc(r,e){switch(m3.call(r)){case"[object Array]":{if(e=e||new Map,e.has(r))return e.get(r);var t=r.slice(0);return e.set(r,t),t.forEach(function(a,i){t[i]=Gc(a,e)}),t}case"[object Object]":{if(e=e||new Map,e.has(r))return e.get(r);var n=Object.create(Object.getPrototypeOf(r));return e.set(r,n),Object.keys(r).forEach(function(a){n[a]=Gc(r[a],e)}),n}default:return r}}function g3(r){var e=new Set([r]);return e.forEach(function(t){pr(t)&&w3(t)===t&&Object.getOwnPropertyNames(t).forEach(function(n){pr(t[n])&&e.add(t[n])})}),r}function w3(r){if(globalThis.__DEV__!==!1&&!Object.isFrozen(r))try{Object.freeze(r)}catch(e){if(e instanceof TypeError)return null;throw e}return r}function Jc(r){return globalThis.__DEV__!==!1&&g3(r),r}function pa(r,e,t){var n=[];r.forEach(function(a){return a[e]&&n.push(a)}),n.forEach(function(a){return a[e](t)})}function Yc(r,e,t){return new ar(function(n){var a={then:function(u){return new Promise(function(h){return h(u())})}};function i(u,h){return function(f){if(u){var d=function(){return n.closed?0:u(f)};a=a.then(d,d).then(function(l){return n.next(l)},function(l){return n.error(l)})}else n[h](f)}}var o={next:i(e,"next"),error:i(t,"error"),complete:function(){a.then(function(){return n.complete()})}},c=r.subscribe(o);return function(){return c.unsubscribe()}})}function J1(r){function e(t){Object.defineProperty(r,t,{value:ar})}return f1&&Symbol.species&&e(Symbol.species),e("@@species"),r}function Y1(r){return r&&typeof r.then=="function"}var Ai=function(r){Xr(e,r);function e(t){var n=r.call(this,function(a){return n.addObserver(a),function(){return n.removeObserver(a)}})||this;return n.observers=new Set,n.promise=new Promise(function(a,i){n.resolve=a,n.reject=i}),n.handlers={next:function(a){n.sub!==null&&(n.latest=["next",a],n.notify("next",a),pa(n.observers,"next",a))},error:function(a){var i=n.sub;i!==null&&(i&&setTimeout(function(){return i.unsubscribe()}),n.sub=null,n.latest=["error",a],n.reject(a),n.notify("error",a),pa(n.observers,"error",a))},complete:function(){var a=n,i=a.sub,o=a.sources,c=o===void 0?[]:o;if(i!==null){var u=c.shift();u?Y1(u)?u.then(function(h){return n.sub=h.subscribe(n.handlers)},n.handlers.error):n.sub=u.subscribe(n.handlers):(i&&setTimeout(function(){return i.unsubscribe()}),n.sub=null,n.latest&&n.latest[0]==="next"?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),pa(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(a){n.reject(a),n.sources=[],n.handlers.complete()},n.promise.catch(function(a){}),typeof t=="function"&&(t=[new ar(t)]),Y1(t)?t.then(function(a){return n.start(a)},n.handlers.error):n.start(t),n}return e.prototype.start=function(t){this.sub===void 0&&(this.sources=Array.from(t),this.handlers.complete())},e.prototype.deliverLastMessage=function(t){if(this.latest){var n=this.latest[0],a=t[n];a&&a.call(t,this.latest[1]),this.sub===null&&n==="next"&&t.complete&&t.complete()}},e.prototype.addObserver=function(t){this.observers.has(t)||(this.deliverLastMessage(t),this.observers.add(t))},e.prototype.removeObserver=function(t){this.observers.delete(t)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(t,n){var a=this.nextResultListeners;a.size&&(this.nextResultListeners=new Set,a.forEach(function(i){return i(t,n)}))},e.prototype.beforeNext=function(t){var n=!1;this.nextResultListeners.add(function(a,i){n||(n=!0,t(a,i))})},e}(ar);J1(Ai);function Ti(r){return"incremental"in r}function _3(r){return"hasNext"in r&&"data"in r}function x3(r){return Ti(r)||_3(r)}function S3(r){return pr(r)&&"payload"in r}function X1(r,e){var t=r,n=new Un;return Ti(e)&&ln(e.incremental)&&e.incremental.forEach(function(a){for(var i=a.data,o=a.path,c=o.length-1;c>=0;--c){var u=o[c],h=!isNaN(+u),f=h?[]:{};f[u]=i,i=f}t=n.merge(t,i)}),t}function Ro(r){var e=Xc(r);return ln(e)}function Xc(r){var e=ln(r.errors)?r.errors.slice(0):[];return Ti(r)&&ln(r.incremental)&&r.incremental.forEach(function(t){t.errors&&e.push.apply(e,t.errors)}),e}function ki(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=Object.create(null);return r.forEach(function(n){n&&Object.keys(n).forEach(function(a){var i=n[a];i!==void 0&&(t[a]=i)})}),t}function Zc(r,e){return ki(r,e,e.variables&&{variables:ki(we(we({},r&&r.variables),e.variables))})}function eh(r){return new ar(function(e){e.error(r)})}var Z1=function(r,e,t){var n=new Error(t);throw n.name="ServerError",n.response=r,n.statusCode=r.status,n.result=e,n};function E3(r){for(var e=["query","operationName","variables","extensions","context"],t=0,n=Object.keys(r);t<n.length;t++){var a=n[t];if(e.indexOf(a)<0)throw Nr(43,a)}return r}function M3(r,e){var t=we({},r),n=function(i){typeof i=="function"?t=we(we({},t),i(t)):t=we(we({},t),i)},a=function(){return we({},t)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:n}),Object.defineProperty(e,"getContext",{enumerable:!1,value:a}),e}function A3(r){var e={variables:r.variables||{},extensions:r.extensions||{},operationName:r.operationName,query:r.query};return e.operationName||(e.operationName=typeof e.query!="string"?Bc(e.query)||void 0:""),e}function T3(r,e){var t=we({},r),n=new Set(Object.keys(r));return xn(e,{Variable:function(a,i,o){o&&o.kind!=="VariableDefinition"&&n.delete(a.name.value)}}),n.forEach(function(a){delete t[a]}),t}function ey(r,e){return e?e(r):ar.of()}function va(r){return typeof r=="function"?new Gr(r):r}function Co(r){return r.request.length<=1}var Gr=function(){function r(e){e&&(this.request=e)}return r.empty=function(){return new r(function(){return ar.of()})},r.from=function(e){return e.length===0?r.empty():e.map(va).reduce(function(t,n){return t.concat(n)})},r.split=function(e,t,n){var a=va(t),i=va(n||new r(ey)),o;return Co(a)&&Co(i)?o=new r(function(c){return e(c)?a.request(c)||ar.of():i.request(c)||ar.of()}):o=new r(function(c,u){return e(c)?a.request(c,u)||ar.of():i.request(c,u)||ar.of()}),Object.assign(o,{left:a,right:i})},r.execute=function(e,t){return e.request(M3(t.context,A3(E3(t))))||ar.of()},r.concat=function(e,t){var n=va(e);if(Co(n))return globalThis.__DEV__!==!1&&Rt.warn(35,n),n;var a=va(t),i;return Co(a)?i=new r(function(o){return n.request(o,function(c){return a.request(c)||ar.of()})||ar.of()}):i=new r(function(o,c){return n.request(o,function(u){return a.request(u,c)||ar.of()})||ar.of()}),Object.assign(i,{left:n,right:a})},r.prototype.split=function(e,t,n){return this.concat(r.split(e,t,n||new r(ey)))},r.prototype.concat=function(e){return r.concat(this,e)},r.prototype.request=function(e,t){throw Nr(36)},r.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},r.prototype.setOnError=function(e){return this.onError=e,this},r}(),k3=Gr.from,I3=Gr.concat,th=Gr.execute;function R3(r){var e,t=r[Symbol.asyncIterator]();return e={next:function(){return t.next()}},e[Symbol.asyncIterator]=function(){return this},e}function C3(r){var e=null,t=null,n=!1,a=[],i=[];function o(d){if(!t){if(i.length){var l=i.shift();if(Array.isArray(l)&&l[0])return l[0]({value:d,done:!1})}a.push(d)}}function c(d){t=d;var l=i.slice();l.forEach(function(y){y[1](d)}),!e||e()}function u(){n=!0;var d=i.slice();d.forEach(function(l){l[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,r.removeListener("data",o),r.removeListener("error",c),r.removeListener("end",u),r.removeListener("finish",u),r.removeListener("close",u)},r.on("data",o),r.on("error",c),r.on("end",u),r.on("finish",u),r.on("close",u);function h(){return new Promise(function(d,l){if(t)return l(t);if(a.length)return d({value:a.shift(),done:!1});if(n)return d({value:void 0,done:!0});i.push([d,l])})}var f={next:function(){return h()}};return mo&&(f[Symbol.asyncIterator]=function(){return this}),f}function O3(r){var e=!1,t={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(n,a){r.then(function(i){n({value:i,done:!1})}).catch(a)}))}};return mo&&(t[Symbol.asyncIterator]=function(){return this}),t}function ty(r){var e={next:function(){return r.read()}};return mo&&(e[Symbol.asyncIterator]=function(){return this}),e}function B3(r){return!!r.body}function P3(r){return!!r.getReader}function D3(r){return!!(mo&&r[Symbol.asyncIterator])}function N3(r){return!!r.stream}function q3(r){return!!r.arrayBuffer}function L3(r){return!!r.pipe}function F3(r){var e=r;if(B3(r)&&(e=r.body),D3(e))return R3(e);if(P3(e))return ty(e.getReader());if(N3(e))return ty(e.stream().getReader());if(q3(e))return O3(e.arrayBuffer());if(L3(e))return C3(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var rh=Symbol();function U3(r){return r.extensions?Array.isArray(r.extensions[rh]):!1}function j3(r){return r.hasOwnProperty("graphQLErrors")}var $3=function(r){var e=Zr(Zr(Zr([],r.graphQLErrors,!0),r.clientErrors,!0),r.protocolErrors,!0);return r.networkError&&e.push(r.networkError),e.map(function(t){return pr(t)&&t.message||"Error message not found."}).join(`
`)},Ii=function(r){Xr(e,r);function e(t){var n=t.graphQLErrors,a=t.protocolErrors,i=t.clientErrors,o=t.networkError,c=t.errorMessage,u=t.extraInfo,h=r.call(this,c)||this;return h.name="ApolloError",h.graphQLErrors=n||[],h.protocolErrors=a||[],h.clientErrors=i||[],h.networkError=o||null,h.message=c||$3(h),h.extraInfo=u,h.__proto__=e.prototype,h}return e}(Error),ry=Object.prototype.hasOwnProperty;function H3(r,e){var t;return Bn(this,void 0,void 0,function(){var n,a,i,o,c,u,h,f,d,l,y,m,w,E,x,P,L,U,z,W,re,ie,se;return Pn(this,function(ve){switch(ve.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");n=new TextDecoder("utf-8"),a=(t=r.headers)===null||t===void 0?void 0:t.get("content-type"),i="boundary=",o=a!=null&&a.includes(i)?a==null?void 0:a.substring((a==null?void 0:a.indexOf(i))+i.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",c=`\r
--`.concat(o),u="",h=F3(r),f=!0,ve.label=1;case 1:return f?[4,h.next()]:[3,3];case 2:for(d=ve.sent(),l=d.value,y=d.done,m=typeof l=="string"?l:n.decode(l),w=u.length-c.length+1,f=!y,u+=m,E=u.indexOf(c,w);E>-1;){if(x=void 0,ie=[u.slice(0,E),u.slice(E+c.length)],x=ie[0],u=ie[1],P=x.indexOf(`\r
\r
`),L=z3(x.slice(0,P)),U=L["content-type"],U&&U.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(z=x.slice(P),z){if(W=ny(r,z),Object.keys(W).length>1||"data"in W||"incremental"in W||"errors"in W||"payload"in W)S3(W)?(re={},"payload"in W&&(re=we({},W.payload)),"errors"in W&&(re=we(we({},re),{extensions:we(we({},"extensions"in re?re.extensions:null),(se={},se[rh]=W.errors,se))})),e(re)):e(W);else if(Object.keys(W).length===1&&"hasNext"in W&&!W.hasNext)return[2]}E=u.indexOf(c)}return[3,1];case 3:return[2]}})})}function z3(r){var e={};return r.split(`
`).forEach(function(t){var n=t.indexOf(":");if(n>-1){var a=t.slice(0,n).trim().toLowerCase(),i=t.slice(n+1).trim();e[a]=i}}),e}function ny(r,e){if(r.status>=300){var t=function(){try{return JSON.parse(e)}catch(a){return e}};Z1(r,t(),"Response not successful: Received status code ".concat(r.status))}try{return JSON.parse(e)}catch(a){var n=a;throw n.name="ServerParseError",n.response=r,n.statusCode=r.status,n.bodyText=e,n}}function V3(r,e){r.result&&r.result.errors&&r.result.data&&e.next(r.result),e.error(r)}function W3(r){return function(e){return e.text().then(function(t){return ny(e,t)}).then(function(t){return!Array.isArray(t)&&!ry.call(t,"data")&&!ry.call(t,"errors")&&Z1(e,t,"Server response was missing for query '".concat(Array.isArray(r)?r.map(function(n){return n.operationName}):r.operationName,"'.")),t})}}var nh=function(r,e){var t;try{t=JSON.stringify(r)}catch(a){var n=Nr(39,e,a.message);throw n.parseError=a,n}return t},K3={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},Q3={accept:"*/*","content-type":"application/json"},G3={method:"POST"},J3={http:K3,headers:Q3,options:G3},Y3=function(r,e){return e(r)};function X3(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var a={},i={};t.forEach(function(d){a=we(we(we({},a),d.options),{headers:we(we({},a.headers),d.headers)}),d.credentials&&(a.credentials=d.credentials),i=we(we({},i),d.http)}),a.headers&&(a.headers=Z3(a.headers,i.preserveHeaderCase));var o=r.operationName,c=r.extensions,u=r.variables,h=r.query,f={operationName:o,variables:u};return i.includeExtensions&&(f.extensions=c),i.includeQuery&&(f.query=e(h,To)),{options:a,body:f}}function Z3(r,e){if(!e){var t=Object.create(null);return Object.keys(Object(r)).forEach(function(i){t[i.toLowerCase()]=r[i]}),t}var n=Object.create(null);Object.keys(Object(r)).forEach(function(i){n[i.toLowerCase()]={originalName:i,value:r[i]}});var a=Object.create(null);return Object.keys(n).forEach(function(i){a[n[i].originalName]=n[i].value}),a}var ew=function(r){if(!r&&typeof fetch=="undefined")throw Nr(37)},tw=function(r,e){var t=r.getContext(),n=t.uri;return n||(typeof e=="function"?e(r):e||"/graphql")};function rw(r,e){var t=[],n=function(d,l){t.push("".concat(d,"=").concat(encodeURIComponent(l)))};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){var a=void 0;try{a=nh(e.variables,"Variables map")}catch(d){return{parseError:d}}n("variables",a)}if(e.extensions){var i=void 0;try{i=nh(e.extensions,"Extensions map")}catch(d){return{parseError:d}}n("extensions",i)}var o="",c=r,u=r.indexOf("#");u!==-1&&(o=r.substr(u),c=r.substr(0,u));var h=c.indexOf("?")===-1?"?":"&",f=c+h+t.join("&")+o;return{newURI:f}}var iy=en(function(){return fetch}),nw=function(r){r===void 0&&(r={});var e=r.uri,t=e===void 0?"/graphql":e,n=r.fetch,a=r.print,i=a===void 0?Y3:a,o=r.includeExtensions,c=r.preserveHeaderCase,u=r.useGETForQueries,h=r.includeUnusedVariables,f=h===void 0?!1:h,d=On(r,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&ew(n||iy);var l={http:{includeExtensions:o,preserveHeaderCase:c},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new Gr(function(y){var m=tw(y,t),w=y.getContext(),E={};if(w.clientAwareness){var x=w.clientAwareness,P=x.name,L=x.version;P&&(E["apollographql-client-name"]=P),L&&(E["apollographql-client-version"]=L)}var U=we(we({},E),w.headers),z={http:w.http,options:w.fetchOptions,credentials:w.credentials,headers:U};if(aa(["client"],y.query)){var W=U1(y.query);if(!W)return eh(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));y.query=W}var re=X3(y,i,J3,l,z),ie=re.options,se=re.body;se.variables&&!f&&(se.variables=T3(se.variables,y.query));var ve;!ie.signal&&typeof AbortController!="undefined"&&(ve=new AbortController,ie.signal=ve.signal);var Q=function(R){return R.kind==="OperationDefinition"&&R.operation==="mutation"},M=function(R){return R.kind==="OperationDefinition"&&R.operation==="subscription"},b=M(ua(y.query)),s=aa(["defer"],y.query);if(u&&!y.query.definitions.some(Q)&&(ie.method="GET"),s||b){ie.headers=ie.headers||{};var v="multipart/mixed;";b&&s&&globalThis.__DEV__!==!1&&Rt.warn(38),b?v+="boundary=graphql;subscriptionSpec=1.0,application/json":s&&(v+="deferSpec=20220824,application/json"),ie.headers.accept=v}if(ie.method==="GET"){var g=rw(m,se),A=g.newURI,I=g.parseError;if(I)return eh(I);m=A}else try{ie.body=nh(se,"Payload")}catch(R){return eh(R)}return new ar(function(R){var S=n||en(function(){return fetch})||iy,T=R.next.bind(R);return S(m,ie).then(function(p){var B;y.setContext({response:p});var ee=(B=p.headers)===null||B===void 0?void 0:B.get("content-type");return ee!==null&&/^multipart\/mixed/i.test(ee)?H3(p,T):W3(y)(p).then(T)}).then(function(){ve=void 0,R.complete()}).catch(function(p){ve=void 0,V3(p,R)}),function(){ve&&ve.abort()}})})},ay=function(r){Xr(e,r);function e(t){t===void 0&&(t={});var n=r.call(this,nw(t).request)||this;return n.options=t,n}return e}(Gr);const{toString:oy,hasOwnProperty:iw}=Object.prototype,sy=Function.prototype.toString,ih=new Map;function fr(r,e){try{return ah(r,e)}finally{ih.clear()}}function ah(r,e){if(r===e)return!0;const t=oy.call(r),n=oy.call(e);if(t!==n)return!1;switch(t){case"[object Array]":if(r.length!==e.length)return!1;case"[object Object]":{if(uy(r,e))return!0;const a=fy(r),i=fy(e),o=a.length;if(o!==i.length)return!1;for(let c=0;c<o;++c)if(!iw.call(e,a[c]))return!1;for(let c=0;c<o;++c){const u=a[c];if(!ah(r[u],e[u]))return!1}return!0}case"[object Error]":return r.name===e.name&&r.message===e.message;case"[object Number]":if(r!==r)return e!==e;case"[object Boolean]":case"[object Date]":return+r==+e;case"[object RegExp]":case"[object String]":return r==`${e}`;case"[object Map]":case"[object Set]":{if(r.size!==e.size)return!1;if(uy(r,e))return!0;const a=r.entries(),i=t==="[object Map]";for(;;){const o=a.next();if(o.done)break;const[c,u]=o.value;if(!e.has(c)||i&&!ah(u,e.get(c)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":r=new Uint8Array(r),e=new Uint8Array(e);case"[object DataView]":{let a=r.byteLength;if(a===e.byteLength)for(;a--&&r[a]===e[a];);return a===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const a=sy.call(r);return a!==sy.call(e)?!1:!sw(a,ow)}}return!1}function fy(r){return Object.keys(r).filter(aw,r)}function aw(r){return this[r]!==void 0}const ow="{ [native code] }";function sw(r,e){const t=r.length-e.length;return t>=0&&r.indexOf(e,t)===t}function uy(r,e){let t=ih.get(r);if(t){if(t.has(e))return!0}else ih.set(r,t=new Set);return t.add(e),!1}var cy=function(){function r(){this.assumeImmutableResults=!1,this.getFragmentDoc=ha(l6,{max:Sn["cache.fragmentQueryDocuments"]||1e3,cache:_o})}return r.prototype.batch=function(e){var t=this,n=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,a;return this.performTransaction(function(){return a=e.update(t)},n),a},r.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},r.prototype.transformDocument=function(e){return e},r.prototype.transformForLink=function(e){return e},r.prototype.identify=function(e){},r.prototype.gc=function(){return[]},r.prototype.modify=function(e){return!1},r.prototype.readQuery=function(e,t){return t===void 0&&(t=!!e.optimistic),this.read(we(we({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},r.prototype.readFragment=function(e,t){return t===void 0&&(t=!!e.optimistic),this.read(we(we({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},r.prototype.writeQuery=function(e){var t=e.id,n=e.data,a=On(e,["id","data"]);return this.write(Object.assign(a,{dataId:t||"ROOT_QUERY",result:n}))},r.prototype.writeFragment=function(e){var t=e.id,n=e.data,a=e.fragment,i=e.fragmentName,o=On(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(a,i),dataId:t,result:n}))},r.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var a=n.readQuery(e),i=t(a);return i==null?a:(n.writeQuery(we(we({},e),{data:i})),i)}})},r.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var a=n.readFragment(e),i=t(a);return i==null?a:(n.writeFragment(we(we({},e),{data:i})),i)}})},r}();globalThis.__DEV__!==!1&&(cy.prototype.getMemoryInternals=S6);var hy=function(r){Xr(e,r);function e(t,n,a,i){var o,c=r.call(this,t)||this;if(c.message=t,c.path=n,c.query=a,c.variables=i,Array.isArray(c.path)){c.missing=c.message;for(var u=c.path.length-1;u>=0;--u)c.missing=(o={},o[c.path[u]]=c.missing,o)}else c.missing=c.path;return c.__proto__=e.prototype,c}return e}(Error),Ar=Object.prototype.hasOwnProperty;function ya(r){return r==null}function ly(r,e){var t=r.__typename,n=r.id,a=r._id;if(typeof t=="string"&&(e&&(e.keyObject=ya(n)?ya(a)?void 0:{_id:a}:{id:n}),ya(n)&&!ya(a)&&(n=a),!ya(n)))return"".concat(t,":").concat(typeof n=="number"||typeof n=="string"?n:JSON.stringify(n))}var dy={dataIdFromObject:ly,addTypename:!0,resultCaching:!0,canonizeResults:!1};function fw(r){return ki(dy,r)}function py(r){var e=r.canonizeResults;return e===void 0?dy.canonizeResults:e}function uw(r,e){return rr(e)?r.get(e.__ref,"__typename"):e&&e.__typename}var vy=/^[_a-z][_0-9a-z]*/i;function jn(r){var e=r.match(vy);return e?e[0]:r}function oh(r,e,t){return pr(e)?vr(e)?e.every(function(n){return oh(r,n,t)}):r.selections.every(function(n){if(Ln(n)&&ia(n,t)){var a=qn(n);return Ar.call(e,a)&&(!n.selectionSet||oh(n.selectionSet,e[a],t))}return!0}):!1}function Ri(r){return pr(r)&&!rr(r)&&!vr(r)}function cw(){return new Un}function yy(r,e){var t=go(So(r));return{fragmentMap:t,lookupFragment:function(n){var a=t[n];return!a&&e&&(a=e.lookup(n)),a||null}}}var Oo=Object.create(null),sh=function(){return Oo},by=Object.create(null),ba=function(){function r(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(a,i){return Jc(rr(a)?n.get(a.__ref,i):a&&a[i])},this.canRead=function(a){return rr(a)?n.has(a.__ref):typeof a=="object"},this.toReference=function(a,i){if(typeof a=="string")return _i(a);if(rr(a))return a;var o=n.policies.identify(a)[0];if(o){var c=_i(o);return i&&n.merge(o,a),c}}}return r.prototype.toObject=function(){return we({},this.data)},r.prototype.has=function(e){return this.lookup(e,!0)!==void 0},r.prototype.get=function(e,t){if(this.group.depend(e,t),Ar.call(this.data,e)){var n=this.data[e];if(n&&Ar.call(n,t))return n[t]}if(t==="__typename"&&Ar.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof $n)return this.parent.get(e,t)},r.prototype.lookup=function(e,t){if(t&&this.group.depend(e,"__exists"),Ar.call(this.data,e))return this.data[e];if(this instanceof $n)return this.parent.lookup(e,t);if(this.policies.rootTypenamesById[e])return Object.create(null)},r.prototype.merge=function(e,t){var n=this,a;rr(e)&&(e=e.__ref),rr(t)&&(t=t.__ref);var i=typeof e=="string"?this.lookup(a=e):e,o=typeof t=="string"?this.lookup(a=t):t;if(o){Rt(typeof a=="string",1);var c=new Un(lw).merge(i,o);if(this.data[a]=c,c!==i&&(delete this.refs[a],this.group.caching)){var u=Object.create(null);i||(u.__exists=1),Object.keys(o).forEach(function(h){if(!i||i[h]!==c[h]){u[h]=1;var f=jn(h);f!==h&&!n.policies.hasKeyArgs(c.__typename,f)&&(u[f]=1),c[h]===void 0&&!(n instanceof $n)&&delete c[h]}}),u.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[a]===c.__typename&&delete u.__typename,Object.keys(u).forEach(function(h){return n.group.dirty(a,h)})}}},r.prototype.modify=function(e,t){var n=this,a=this.lookup(e);if(a){var i=Object.create(null),o=!1,c=!0,u={DELETE:Oo,INVALIDATE:by,isReference:rr,toReference:this.toReference,canRead:this.canRead,readField:function(h,f){return n.policies.readField(typeof h=="string"?{fieldName:h,from:f||_i(e)}:h,{store:n})}};if(Object.keys(a).forEach(function(h){var f=jn(h),d=a[h];if(d!==void 0){var l=typeof t=="function"?t:t[h]||t[f];if(l){var y=l===sh?Oo:l(Jc(d),we(we({},u),{fieldName:f,storeFieldName:h,storage:n.getStorage(e,h)}));if(y===by)n.group.dirty(e,h);else if(y===Oo&&(y=void 0),y!==d&&(i[h]=y,o=!0,d=y,globalThis.__DEV__!==!1)){var m=function(z){if(n.lookup(z.__ref)===void 0)return globalThis.__DEV__!==!1&&Rt.warn(2,z),!0};if(rr(y))m(y);else if(Array.isArray(y))for(var w=!1,E=void 0,x=0,P=y;x<P.length;x++){var L=P[x];if(rr(L)){if(w=!0,m(L))break}else if(typeof L=="object"&&L){var U=n.policies.identify(L)[0];U&&(E=L)}if(w&&E!==void 0){globalThis.__DEV__!==!1&&Rt.warn(3,E);break}}}}d!==void 0&&(c=!1)}}),o)return this.merge(e,i),c&&(this instanceof $n?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},r.prototype.delete=function(e,t,n){var a,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),c=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,c?(a={},a[c]=sh,a):sh)}return!1},r.prototype.evict=function(e,t){var n=!1;return e.id&&(Ar.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof $n&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},r.prototype.clear=function(){this.replace(null)},r.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach(function(a){Ar.call(e.policies.rootTypenamesById,a)||n.push(a)}),n.length&&(t.__META={extraRootIds:n.sort()}),t},r.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach(function(i){e&&Ar.call(e,i)||t.delete(i)}),e){var n=e.__META,a=On(e,["__META"]);Object.keys(a).forEach(function(i){t.merge(i,a[i])}),n&&n.extraRootIds.forEach(this.retain,this)}},r.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},r.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},r.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof $n?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},r.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach(function(o){Ar.call(n,o)&&(Object.keys(e.findChildRefIds(o)).forEach(t.add,t),delete n[o])});var a=Object.keys(n);if(a.length){for(var i=this;i instanceof $n;)i=i.parent;a.forEach(function(o){return i.delete(o)})}return a},r.prototype.findChildRefIds=function(e){if(!Ar.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var a=new Set([n]);a.forEach(function(i){rr(i)&&(t[i.__ref]=!0),pr(i)&&Object.keys(i).forEach(function(o){var c=i[o];pr(c)&&a.add(c)})})}return this.refs[e]},r.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},r}(),my=function(){function r(e,t){t===void 0&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return r.prototype.resetCaching=function(){this.d=this.caching?B1():null,this.keyMaker=new mi(gi)},r.prototype.depend=function(e,t){if(this.d){this.d(fh(e,t));var n=jn(t);n!==t&&this.d(fh(e,n)),this.parent&&this.parent.depend(e,t)}},r.prototype.dirty=function(e,t){this.d&&this.d.dirty(fh(e,t),t==="__exists"?"forget":"setDirty")},r}();function fh(r,e){return e+"#"+r}function gy(r,e){ma(r)&&r.group.depend(e,"__exists")}(function(r){var e=function(t){Xr(n,t);function n(a){var i=a.policies,o=a.resultCaching,c=o===void 0?!0:o,u=a.seed,h=t.call(this,i,new my(c))||this;return h.stump=new hw(h),h.storageTrie=new mi(gi),u&&h.replace(u),h}return n.prototype.addLayer=function(a,i){return this.stump.addLayer(a,i)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n}(r);r.Root=e})(ba||(ba={}));var $n=function(r){Xr(e,r);function e(t,n,a,i){var o=r.call(this,n.policies,i)||this;return o.id=t,o.parent=n,o.replay=a,o.group=i,a(o),o}return e.prototype.addLayer=function(t,n){return new e(t,this,n,this.group)},e.prototype.removeLayer=function(t){var n=this,a=this.parent.removeLayer(t);return t===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(i){var o=n.data[i],c=a.lookup(i);c?o?o!==c&&Object.keys(o).forEach(function(u){fr(o[u],c[u])||n.group.dirty(i,u)}):(n.group.dirty(i,"__exists"),Object.keys(c).forEach(function(u){n.group.dirty(i,u)})):n.delete(i)}),a):a===this.parent?this:a.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return we(we({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return Ar.call(this.data,t)?we(we({},n),r.prototype.findChildRefIds.call(this,t)):n},e.prototype.getStorage=function(){for(var t=this.parent;t.parent;)t=t.parent;return t.getStorage.apply(t,arguments)},e}(ba),hw=function(r){Xr(e,r);function e(t){return r.call(this,"EntityStore.Stump",t,function(){},new my(t.group.caching,t.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(t,n){return this.parent.merge(t,n)},e}($n);function lw(r,e,t){var n=r[t],a=e[t];return fr(n,a)?n:a}function ma(r){return!!(r instanceof ba&&r.group.caching)}function dw(r){return pr(r)?vr(r)?r.slice(0):we({__proto__:Object.getPrototypeOf(r)},r):r}var wy=function(){function r(){this.known=new(s1?WeakSet:Set),this.pool=new mi(gi),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return r.prototype.isKnown=function(e){return pr(e)&&this.known.has(e)},r.prototype.pass=function(e){if(pr(e)){var t=dw(e);return this.passes.set(t,e),t}return e},r.prototype.admit=function(e){var t=this;if(pr(e)){var n=this.passes.get(e);if(n)return n;var a=Object.getPrototypeOf(e);switch(a){case Array.prototype:{if(this.known.has(e))return e;var i=e.map(this.admit,this),o=this.pool.lookupArray(i);return o.array||(this.known.add(o.array=i),globalThis.__DEV__!==!1&&Object.freeze(i)),o.array}case null:case Object.prototype:{if(this.known.has(e))return e;var c=Object.getPrototypeOf(e),u=[c],h=this.sortedKeys(e);u.push(h.json);var f=u.length;h.sorted.forEach(function(y){u.push(t.admit(e[y]))});var o=this.pool.lookupArray(u);if(!o.object){var d=o.object=Object.create(c);this.known.add(d),h.sorted.forEach(function(y,m){d[y]=u[f+m]}),globalThis.__DEV__!==!1&&Object.freeze(d)}return o.object}}}return e},r.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var a=JSON.stringify(t);(n.keys=this.keysByJSON.get(a))||this.keysByJSON.set(a,n.keys={sorted:t,json:a})}return n.keys},r}();function _y(r){return[r.selectionSet,r.objectOrReference,r.context,r.context.canonizeResults]}var pw=function(){function r(e){var t=this;this.knownResults=new(gi?WeakMap:Map),this.config=ki(e,{addTypename:e.addTypename!==!1,canonizeResults:py(e)}),this.canon=e.canon||new wy,this.executeSelectionSet=ha(function(n){var a,i=n.context.canonizeResults,o=_y(n);o[3]=!i;var c=(a=t.executeSelectionSet).peek.apply(a,o);return c?i?we(we({},c),{result:t.canon.admit(c.result)}):c:(gy(n.context.store,n.enclosingRef.__ref),t.execSelectionSetImpl(n))},{max:this.config.resultCacheMaxSize||Sn["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:_y,makeCacheKey:function(n,a,i,o){if(ma(i.store))return i.store.makeCacheKey(n,rr(a)?a.__ref:a,i.varString,o)}}),this.executeSubSelectedArray=ha(function(n){return gy(n.context.store,n.enclosingRef.__ref),t.execSubSelectedArrayImpl(n)},{max:this.config.resultCacheMaxSize||Sn["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(n){var a=n.field,i=n.array,o=n.context;if(ma(o.store))return o.store.makeCacheKey(a,i,o.varString)}})}return r.prototype.resetCanon=function(){this.canon=new wy},r.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,a=e.rootId,i=a===void 0?"ROOT_QUERY":a,o=e.variables,c=e.returnPartialData,u=c===void 0?!0:c,h=e.canonizeResults,f=h===void 0?this.config.canonizeResults:h,d=this.config.cache.policies;o=we(we({},Pc(y1(n))),o);var l=_i(i),y=this.executeSelectionSet({selectionSet:ua(n).selectionSet,objectOrReference:l,enclosingRef:l,context:we({store:t,query:n,policies:d,variables:o,varString:Nn(o),canonizeResults:f},yy(n,this.config.fragments))}),m;if(y.missing&&(m=[new hy(vw(y.missing),y.missing,n,o)],!u))throw m[0];return{result:y.result,complete:!m,missing:m}},r.prototype.isFresh=function(e,t,n,a){if(ma(a.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,a,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},r.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,a=e.objectOrReference,i=e.enclosingRef,o=e.context;if(rr(a)&&!o.policies.rootTypenamesById[a.__ref]&&!o.store.has(a.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(a.__ref," object")};var c=o.variables,u=o.policies,h=o.store,f=h.getFieldValue(a,"__typename"),d=[],l,y=new Un;this.config.addTypename&&typeof f=="string"&&!u.rootIdsByTypename[f]&&d.push({__typename:f});function m(L,U){var z;return L.missing&&(l=y.merge(l,(z={},z[U]=L.missing,z))),L.result}var w=new Set(n.selections);w.forEach(function(L){var U,z;if(ia(L,c))if(Ln(L)){var W=u.readField({fieldName:L.name.value,field:L,variables:o.variables,from:a},o),re=qn(L);W===void 0?Uc.added(L)||(l=y.merge(l,(U={},U[re]="Can't find field '".concat(L.name.value,"' on ").concat(rr(a)?a.__ref+" object":"object "+JSON.stringify(a,null,2)),U))):vr(W)?W=m(t.executeSubSelectedArray({field:L,array:W,enclosingRef:i,context:o}),re):L.selectionSet?W!=null&&(W=m(t.executeSelectionSet({selectionSet:L.selectionSet,objectOrReference:W,enclosingRef:rr(W)?W:i,context:o}),re)):o.canonizeResults&&(W=t.canon.pass(W)),W!==void 0&&d.push((z={},z[re]=W,z))}else{var ie=wo(L,o.lookupFragment);if(!ie&&L.kind===yt.FRAGMENT_SPREAD)throw Nr(9,L.name.value);ie&&u.fragmentMatches(ie,f)&&ie.selectionSet.selections.forEach(w.add,w)}});var E=jc(d),x={result:E,missing:l},P=o.canonizeResults?this.canon.admit(x):Jc(x);return P.result&&this.knownResults.set(P.result,n),P},r.prototype.execSubSelectedArrayImpl=function(e){var t=this,n=e.field,a=e.array,i=e.enclosingRef,o=e.context,c,u=new Un;function h(f,d){var l;return f.missing&&(c=u.merge(c,(l={},l[d]=f.missing,l))),f.result}return n.selectionSet&&(a=a.filter(o.store.canRead)),a=a.map(function(f,d){return f===null?null:vr(f)?h(t.executeSubSelectedArray({field:n,array:f,enclosingRef:i,context:o}),d):n.selectionSet?h(t.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:f,enclosingRef:rr(f)?f:i,context:o}),d):(globalThis.__DEV__!==!1&&yw(o.store,n,f),f)}),{result:o.canonizeResults?this.canon.admit(a):a,missing:c}},r}();function vw(r){try{JSON.stringify(r,function(e,t){if(typeof t=="string")throw t;return t})}catch(e){return e}}function yw(r,e,t){if(!e.selectionSet){var n=new Set([t]);n.forEach(function(a){pr(a)&&(Rt(!rr(a),10,uw(r,a),e.name.value),Object.values(a).forEach(n.add,n))})}}var uh=new _1,xy=new WeakMap;function ga(r){var e=xy.get(r);return e||xy.set(r,e={vars:new Set,dep:B1()}),e}function Sy(r){ga(r).vars.forEach(function(e){return e.forgetCache(r)})}function bw(r){ga(r).vars.forEach(function(e){return e.attachCache(r)})}function mw(r){var e=new Set,t=new Set,n=function(i){if(arguments.length>0){if(r!==i){r=i,e.forEach(function(u){ga(u).dep.dirty(n),gw(u)});var o=Array.from(t);t.clear(),o.forEach(function(u){return u(r)})}}else{var c=uh.getValue();c&&(a(c),ga(c).dep(n))}return r};n.onNextChange=function(i){return t.add(i),function(){t.delete(i)}};var a=n.attachCache=function(i){return e.add(i),ga(i).vars.add(n),n};return n.forgetCache=function(i){return e.delete(i)},n}function gw(r){r.broadcastWatches&&r.broadcastWatches()}var Ey=Object.create(null);function ch(r){var e=JSON.stringify(r);return Ey[e]||(Ey[e]=Object.create(null))}function My(r){var e=ch(r);return e.keyFieldsFn||(e.keyFieldsFn=function(t,n){var a=function(o,c){return n.readField(c,o)},i=n.keyObject=hh(r,function(o){var c=Ci(n.storeObject,o,a);return c===void 0&&t!==n.storeObject&&Ar.call(t,o[0])&&(c=Ci(t,o,ky)),Rt(c!==void 0,4,o.join("."),t),c});return"".concat(n.typename,":").concat(JSON.stringify(i))})}function Ay(r){var e=ch(r);return e.keyArgsFn||(e.keyArgsFn=function(t,n){var a=n.field,i=n.variables,o=n.fieldName,c=hh(r,function(h){var f=h[0],d=f.charAt(0);if(d==="@"){if(a&&ln(a.directives)){var l=f.slice(1),y=a.directives.find(function(x){return x.name.value===l}),m=y&&xo(y,i);return m&&Ci(m,h.slice(1))}return}if(d==="$"){var w=f.slice(1);if(i&&Ar.call(i,w)){var E=h.slice(0);return E[0]=w,Ci(i,E)}return}if(t)return Ci(t,h)}),u=JSON.stringify(c);return(t||u!=="{}")&&(o+=":"+u),o})}function hh(r,e){var t=new Un;return Ty(r).reduce(function(n,a){var i,o=e(a);if(o!==void 0){for(var c=a.length-1;c>=0;--c)o=(i={},i[a[c]]=o,i);n=t.merge(n,o)}return n},Object.create(null))}function Ty(r){var e=ch(r);if(!e.paths){var t=e.paths=[],n=[];r.forEach(function(a,i){vr(a)?(Ty(a).forEach(function(o){return t.push(n.concat(o))}),n.length=0):(n.push(a),vr(r[i+1])||(t.push(n.slice(0)),n.length=0))})}return e.paths}function ky(r,e){return r[e]}function Ci(r,e,t){return t=t||ky,Iy(e.reduce(function n(a,i){return vr(a)?a.map(function(o){return n(o,i)}):a&&t(a,i)},r))}function Iy(r){return pr(r)?vr(r)?r.map(Iy):hh(Object.keys(r).sort(),function(e){return Ci(r,e)}):r}function lh(r){return r.args!==void 0?r.args:r.field?xo(r.field,r.variables):null}var ww=function(){},Ry=function(r,e){return e.fieldName},Cy=function(r,e,t){var n=t.mergeObjects;return n(r,e)},Oy=function(r,e){return e},_w=function(){function r(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=we({dataIdFromObject:ly},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return r.prototype.identify=function(e,t){var n,a=this,i=t&&(t.typename||((n=t.storeObject)===null||n===void 0?void 0:n.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o=t&&t.storeObject||e,c=we(we({},t),{typename:i,storeObject:o,readField:t&&t.readField||function(){var l=dh(arguments,o);return a.readField(l,{store:a.cache.data,variables:l.variables})}}),u,h=i&&this.getTypePolicy(i),f=h&&h.keyFn||this.config.dataIdFromObject;f;){var d=f(we(we({},e),o),c);if(vr(d))f=My(d);else{u=d;break}}return u=u?String(u):void 0,c.keyObject?[u,c.keyObject]:[u]},r.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach(function(n){var a=e[n],i=a.queryType,o=a.mutationType,c=a.subscriptionType,u=On(a,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",n),o&&t.setRootTypename("Mutation",n),c&&t.setRootTypename("Subscription",n),Ar.call(t.toBeAdded,n)?t.toBeAdded[n].push(u):t.toBeAdded[n]=[u]})},r.prototype.updateTypePolicy=function(e,t){var n=this,a=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function c(u,h){u.merge=typeof h=="function"?h:h===!0?Cy:h===!1?Oy:u.merge}c(a,t.merge),a.keyFn=i===!1?ww:vr(i)?My(i):typeof i=="function"?i:a.keyFn,o&&Object.keys(o).forEach(function(u){var h=n.getFieldPolicy(e,u,!0),f=o[u];if(typeof f=="function")h.read=f;else{var d=f.keyArgs,l=f.read,y=f.merge;h.keyFn=d===!1?Ry:vr(d)?Ay(d):typeof d=="function"?d:h.keyFn,typeof l=="function"&&(h.read=l),c(h,y)}h.read&&h.merge&&(h.keyFn=h.keyFn||Ry)})},r.prototype.setRootTypename=function(e,t){t===void 0&&(t=e);var n="ROOT_"+e.toUpperCase(),a=this.rootTypenamesById[n];t!==a&&(Rt(!a||a===e,5,e),a&&delete this.rootIdsByTypename[a],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},r.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(n){t.getSupertypeSet(n,!0),e[n].forEach(function(a){t.getSupertypeSet(a,!0).add(n);var i=a.match(vy);(!i||i[0]!==a)&&t.fuzzySubtypes.set(a,new RegExp(a))})})},r.prototype.getTypePolicy=function(e){var t=this;if(!Ar.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var a=this.supertypeMap.get(e);!a&&this.fuzzySubtypes.size&&(a=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(o,c){if(o.test(e)){var u=t.supertypeMap.get(c);u&&u.forEach(function(h){return a.add(h)})}})),a&&a.size&&a.forEach(function(o){var c=t.getTypePolicy(o),u=c.fields,h=On(c,["fields"]);Object.assign(n,h),Object.assign(n.fields,u)})}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach(function(o){t.updateTypePolicy(e,o)}),this.typePolicies[e]},r.prototype.getFieldPolicy=function(e,t,n){if(e){var a=this.getTypePolicy(e).fields;return a[t]||n&&(a[t]=Object.create(null))}},r.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},r.prototype.fragmentMatches=function(e,t,n,a){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var c=this.getSupertypeSet(t,!0),u=[c],h=function(m){var w=i.getSupertypeSet(m,!1);w&&w.size&&u.indexOf(w)<0&&u.push(w)},f=!!(n&&this.fuzzySubtypes.size),d=!1,l=0;l<u.length;++l){var y=u[l];if(y.has(o))return c.has(o)||(d&&globalThis.__DEV__!==!1&&Rt.warn(6,t,o),c.add(o)),!0;y.forEach(h),f&&l===u.length-1&&oh(e.selectionSet,n,a)&&(f=!1,d=!0,this.fuzzySubtypes.forEach(function(m,w){var E=t.match(m);E&&E[0]===t&&h(w)}))}return!1},r.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!!(n&&n.keyFn)},r.prototype.getStoreFieldName=function(e){var t=e.typename,n=e.fieldName,a=this.getFieldPolicy(t,n,!1),i,o=a&&a.keyFn;if(o&&t)for(var c={typename:t,fieldName:n,field:e.field||null,variables:e.variables},u=lh(e);o;){var h=o(u,c);if(vr(h))o=Ay(h);else{i=h||n;break}}return i===void 0&&(i=e.field?U6(e.field,e.variables):v1(n,lh(e))),i===!1?n:n===jn(i)?i:n+":"+i},r.prototype.readField=function(e,t){var n=e.from;if(n){var a=e.field||e.fieldName;if(a){if(e.typename===void 0){var i=t.store.getFieldValue(n,"__typename");i&&(e.typename=i)}var o=this.getStoreFieldName(e),c=jn(o),u=t.store.getFieldValue(n,o),h=this.getFieldPolicy(e.typename,c,!1),f=h&&h.read;if(f){var d=By(this,n,e,t,t.store.getStorage(rr(n)?n.__ref:n,o));return uh.withValue(this.cache,f,[u,d])}return u}}},r.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},r.prototype.getMergeFunction=function(e,t,n){var a=this.getFieldPolicy(e,t,!1),i=a&&a.merge;return!i&&n&&(a=this.getTypePolicy(n),i=a&&a.merge),i},r.prototype.runMergeFunction=function(e,t,n,a,i){var o=n.field,c=n.typename,u=n.merge;return u===Cy?Py(a.store)(e,t):u===Oy?t:(a.overwrite&&(e=void 0),u(e,t,By(this,void 0,{typename:c,fieldName:o.name.value,field:o,variables:a.variables},a,i||Object.create(null))))},r}();function By(r,e,t,n,a){var i=r.getStoreFieldName(t),o=jn(i),c=t.variables||n.variables,u=n.store,h=u.toReference,f=u.canRead;return{args:lh(t),field:t.field||null,fieldName:o,storeFieldName:i,variables:c,isReference:rr,toReference:h,storage:a,cache:r.cache,canRead:f,readField:function(){return r.readField(dh(arguments,e,c),n)},mergeObjects:Py(n.store)}}function dh(r,e,t){var n=r[0],a=r[1],i=r.length,o;return typeof n=="string"?o={fieldName:n,from:i>1?a:e}:(o=we({},n),Ar.call(o,"from")||(o.from=e)),globalThis.__DEV__!==!1&&o.from===void 0&&globalThis.__DEV__!==!1&&Rt.warn(7,Uv(Array.from(r))),o.variables===void 0&&(o.variables=t),o}function Py(r){return function(t,n){if(vr(t)||vr(n))throw Nr(8);if(pr(t)&&pr(n)){var a=r.getFieldValue(t,"__typename"),i=r.getFieldValue(n,"__typename"),o=a&&i&&a!==i;if(o)return n;if(rr(t)&&Ri(n))return r.merge(t.__ref,n),t;if(Ri(t)&&rr(n))return r.merge(t,n.__ref),n;if(Ri(t)&&Ri(n))return we(we({},t),n)}return n}}function ph(r,e,t){var n="".concat(e).concat(t),a=r.flavors.get(n);return a||r.flavors.set(n,a=r.clientOnly===e&&r.deferred===t?r:we(we({},r),{clientOnly:e,deferred:t})),a}var xw=function(){function r(e,t,n){this.cache=e,this.reader=t,this.fragments=n}return r.prototype.writeToStore=function(e,t){var n=this,a=t.query,i=t.result,o=t.dataId,c=t.variables,u=t.overwrite,h=fa(a),f=cw();c=we(we({},Pc(h)),c);var d=we(we({store:e,written:Object.create(null),merge:function(y,m){return f.merge(y,m)},variables:c,varString:Nn(c)},yy(a,this.fragments)),{overwrite:!!u,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),l=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:h.selectionSet,mergeTree:{map:new Map},context:d});if(!rr(l))throw Nr(11,i);return d.incomingById.forEach(function(y,m){var w=y.storeObject,E=y.mergeTree,x=y.fieldNodeSet,P=_i(m);if(E&&E.map.size){var L=n.applyMerges(E,P,w,d);if(rr(L))return;w=L}if(globalThis.__DEV__!==!1&&!d.overwrite){var U=Object.create(null);x.forEach(function(re){re.selectionSet&&(U[re.name.value]=!0)});var z=function(re){return U[jn(re)]===!0},W=function(re){var ie=E&&E.map.get(re);return!!(ie&&ie.info&&ie.info.merge)};Object.keys(w).forEach(function(re){z(re)&&!W(re)&&Sw(P,w,re,d.store)})}e.merge(m,w)}),e.retain(l.__ref),l},r.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,a=e.result,i=e.selectionSet,o=e.context,c=e.mergeTree,u=this.cache.policies,h=Object.create(null),f=n&&u.rootTypenamesById[n]||Oc(a,i,o.fragmentMap)||n&&o.store.get(n,"__typename");typeof f=="string"&&(h.__typename=f);var d=function(){var L=dh(arguments,h,o.variables);if(rr(L.from)){var U=o.incomingById.get(L.from.__ref);if(U){var z=u.readField(we(we({},L),{from:U.storeObject}),o);if(z!==void 0)return z}}return u.readField(L,o)},l=new Set;this.flattenFields(i,a,o,f).forEach(function(L,U){var z,W=qn(U),re=a[W];if(l.add(U),re!==void 0){var ie=u.getStoreFieldName({typename:f,fieldName:U.name.value,field:U,variables:L.variables}),se=Ny(c,ie),ve=t.processFieldValue(re,U,U.selectionSet?ph(L,!1,!1):L,se),Q=void 0;U.selectionSet&&(rr(ve)||Ri(ve))&&(Q=d("__typename",ve));var M=u.getMergeFunction(f,U.name.value,Q);M?se.info={field:U,typename:f,merge:M}:qy(c,ie),h=L.merge(h,(z={},z[ie]=ve,z))}else globalThis.__DEV__!==!1&&!L.clientOnly&&!L.deferred&&!Uc.added(U)&&!u.getReadFunction(f,U.name.value)&&globalThis.__DEV__!==!1&&Rt.error(12,qn(U),a)});try{var y=u.identify(a,{typename:f,selectionSet:i,fragmentMap:o.fragmentMap,storeObject:h,readField:d}),m=y[0],w=y[1];n=n||m,w&&(h=o.merge(h,w))}catch(L){if(!n)throw L}if(typeof n=="string"){var E=_i(n),x=o.written[n]||(o.written[n]=[]);if(x.indexOf(i)>=0||(x.push(i),this.reader&&this.reader.isFresh(a,E,i,o)))return E;var P=o.incomingById.get(n);return P?(P.storeObject=o.merge(P.storeObject,h),P.mergeTree=vh(P.mergeTree,c),l.forEach(function(L){return P.fieldNodeSet.add(L)})):o.incomingById.set(n,{storeObject:h,mergeTree:Bo(c)?void 0:c,fieldNodeSet:l}),E}return h},r.prototype.processFieldValue=function(e,t,n,a){var i=this;return!t.selectionSet||e===null?globalThis.__DEV__!==!1?G1(e):e:vr(e)?e.map(function(o,c){var u=i.processFieldValue(o,t,n,Ny(a,c));return qy(a,c),u}):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:a})},r.prototype.flattenFields=function(e,t,n,a){a===void 0&&(a=Oc(t,e,n.fragmentMap));var i=new Map,o=this.cache.policies,c=new mi(!1);return function u(h,f){var d=c.lookup(h,f.clientOnly,f.deferred);d.visited||(d.visited=!0,h.selections.forEach(function(l){if(ia(l,n.variables)){var y=f.clientOnly,m=f.deferred;if(!(y&&m)&&ln(l.directives)&&l.directives.forEach(function(x){var P=x.name.value;if(P==="client"&&(y=!0),P==="defer"){var L=xo(x,n.variables);(!L||L.if!==!1)&&(m=!0)}}),Ln(l)){var w=i.get(l);w&&(y=y&&w.clientOnly,m=m&&w.deferred),i.set(l,ph(n,y,m))}else{var E=wo(l,n.lookupFragment);if(!E&&l.kind===yt.FRAGMENT_SPREAD)throw Nr(13,l.name.value);E&&o.fragmentMatches(E,a,t,n.variables)&&u(E.selectionSet,ph(n,y,m))}}}))}(e,n),i},r.prototype.applyMerges=function(e,t,n,a,i){var o,c=this;if(e.map.size&&!rr(n)){var u=!vr(n)&&(rr(t)||Ri(t))?t:void 0,h=n;u&&!i&&(i=[rr(u)?u.__ref:u]);var f,d=function(l,y){return vr(l)?typeof y=="number"?l[y]:void 0:a.store.getFieldValue(l,String(y))};e.map.forEach(function(l,y){var m=d(u,y),w=d(h,y);if(w!==void 0){i&&i.push(y);var E=c.applyMerges(l,m,w,a,i);E!==w&&(f=f||new Map,f.set(y,E)),i&&Rt(i.pop()===y)}}),f&&(n=vr(h)?h.slice(0):we({},h),f.forEach(function(l,y){n[y]=l}))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,a,i&&(o=a.store).getStorage.apply(o,i)):n},r}(),Dy=[];function Ny(r,e){var t=r.map;return t.has(e)||t.set(e,Dy.pop()||{map:new Map}),t.get(e)}function vh(r,e){if(r===e||!e||Bo(e))return r;if(!r||Bo(r))return e;var t=r.info&&e.info?we(we({},r.info),e.info):r.info||e.info,n=r.map.size&&e.map.size,a=n?new Map:r.map.size?r.map:e.map,i={info:t,map:a};if(n){var o=new Set(e.map.keys());r.map.forEach(function(c,u){i.map.set(u,vh(c,e.map.get(u))),o.delete(u)}),o.forEach(function(c){i.map.set(c,vh(e.map.get(c),r.map.get(c)))})}return i}function Bo(r){return!r||!(r.info||r.map.size)}function qy(r,e){var t=r.map,n=t.get(e);n&&Bo(n)&&(Dy.push(n),t.delete(e))}var Ly=new Set;function Sw(r,e,t,n){var a=function(d){var l=n.getFieldValue(d,t);return typeof l=="object"&&l},i=a(r);if(i){var o=a(e);if(o&&!rr(i)&&!fr(i,o)&&!Object.keys(i).every(function(d){return n.getFieldValue(o,d)!==void 0})){var c=n.getFieldValue(r,"__typename")||n.getFieldValue(e,"__typename"),u=jn(t),h="".concat(c,".").concat(u);if(!Ly.has(h)){Ly.add(h);var f=[];!vr(i)&&!vr(o)&&[i,o].forEach(function(d){var l=n.getFieldValue(d,"__typename");typeof l=="string"&&!f.includes(l)&&f.push(l)}),globalThis.__DEV__!==!1&&Rt.warn(14,u,c,f.length?"either ensure all objects of type "+f.join(" and ")+" have an ID or a custom merge function, or ":"",h,i,o)}}}}var Fy=function(r){Xr(e,r);function e(t){t===void 0&&(t={});var n=r.call(this)||this;return n.watches=new Set,n.addTypenameTransform=new D1(Uc),n.assumeImmutableResults=!0,n.makeVar=mw,n.txCount=0,n.config=fw(t),n.addTypename=!!n.config.addTypename,n.policies=new _w({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return e.prototype.init=function(){var t=this.data=new ba.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=t.stump,this.resetResultCache()},e.prototype.resetResultCache=function(t){var n=this,a=this.storeReader,i=this.config.fragments;this.storeWriter=new xw(this,this.storeReader=new pw({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:py(this.config),canon:t?void 0:a&&a.canon,fragments:i}),i),this.maybeBroadcastWatch=ha(function(o,c){return n.broadcastWatch(o,c)},{max:this.config.resultCacheMaxSize||Sn["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(o){var c=o.optimistic?n.optimisticData:n.data;if(ma(c)){var u=o.optimistic,h=o.id,f=o.variables;return c.makeCacheKey(o.query,o.callback,Nn({optimistic:u,id:h,variables:f}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(o){return o.resetCaching()})},e.prototype.restore=function(t){return this.init(),t&&this.data.replace(t),this},e.prototype.extract=function(t){return t===void 0&&(t=!1),(t?this.optimisticData:this.data).extract()},e.prototype.read=function(t){var n=t.returnPartialData,a=n===void 0?!1:n;try{return this.storeReader.diffQueryAgainstStore(we(we({},t),{store:t.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:a})).result||null}catch(i){if(i instanceof hy)return null;throw i}},e.prototype.write=function(t){try{return++this.txCount,this.storeWriter.writeToStore(this.data,t)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(t){if(Ar.call(t,"id")&&!t.id)return!1;var n=t.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(t.id||"ROOT_QUERY",t.fields)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(t){return this.storeReader.diffQueryAgainstStore(we(we({},t),{store:t.optimistic?this.optimisticData:this.data,rootId:t.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(t){var n=this;return this.watches.size||bw(this),this.watches.add(t),t.immediate&&this.maybeBroadcastWatch(t),function(){n.watches.delete(t)&&!n.watches.size&&Sy(n),n.maybeBroadcastWatch.forget(t)}},e.prototype.gc=function(t){var n;Nn.reset(),To.reset(),this.addTypenameTransform.resetCache(),(n=this.config.fragments)===null||n===void 0||n.resetCaches();var a=this.optimisticData.gc();return t&&!this.txCount&&(t.resetResultCache?this.resetResultCache(t.resetResultIdentities):t.resetResultIdentities&&this.storeReader.resetCanon()),a},e.prototype.retain=function(t,n){return(n?this.optimisticData:this.data).retain(t)},e.prototype.release=function(t,n){return(n?this.optimisticData:this.data).release(t)},e.prototype.identify=function(t){if(rr(t))return t.__ref;try{return this.policies.identify(t)[0]}catch(n){globalThis.__DEV__!==!1&&Rt.warn(n)}},e.prototype.evict=function(t){if(!t.id){if(Ar.call(t,"id"))return!1;t=we(we({},t),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(t,this.data)}finally{!--this.txCount&&t.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(t){var n=this;return this.init(),Nn.reset(),t&&t.discardWatches?(this.watches.forEach(function(a){return n.maybeBroadcastWatch.forget(a)}),this.watches.clear(),Sy(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(t){var n=this.optimisticData.removeLayer(t);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},e.prototype.batch=function(t){var n=this,a=t.update,i=t.optimistic,o=i===void 0?!0:i,c=t.removeOptimistic,u=t.onWatchUpdated,h,f=function(l){var y=n,m=y.data,w=y.optimisticData;++n.txCount,l&&(n.data=n.optimisticData=l);try{return h=a(n)}finally{--n.txCount,n.data=m,n.optimisticData=w}},d=new Set;return u&&!this.txCount&&this.broadcastWatches(we(we({},t),{onWatchUpdated:function(l){return d.add(l),!1}})),typeof o=="string"?this.optimisticData=this.optimisticData.addLayer(o,f):o===!1?f(this.data):f(),typeof c=="string"&&(this.optimisticData=this.optimisticData.removeLayer(c)),u&&d.size?(this.broadcastWatches(we(we({},t),{onWatchUpdated:function(l,y){var m=u.call(this,l,y);return m!==!1&&d.delete(l),m}})),d.size&&d.forEach(function(l){return n.maybeBroadcastWatch.dirty(l)})):this.broadcastWatches(t),h},e.prototype.performTransaction=function(t,n){return this.batch({update:t,optimistic:n||n!==null})},e.prototype.transformDocument=function(t){return this.addTypenameToDocument(this.addFragmentsToDocument(t))},e.prototype.broadcastWatches=function(t){var n=this;this.txCount||this.watches.forEach(function(a){return n.maybeBroadcastWatch(a,t)})},e.prototype.addFragmentsToDocument=function(t){var n=this.config.fragments;return n?n.transform(t):t},e.prototype.addTypenameToDocument=function(t){return this.addTypename?this.addTypenameTransform.transformDocument(t):t},e.prototype.broadcastWatch=function(t,n){var a=t.lastDiff,i=this.diff(t);n&&(t.optimistic&&typeof n.optimistic=="string"&&(i.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,t,i,a)===!1)||(!a||!fr(a.result,i.result))&&t.callback(t.lastDiff=i,a)},e}(cy);globalThis.__DEV__!==!1&&(Fy.prototype.getMemoryInternals=x6);var ir;(function(r){r[r.loading=1]="loading",r[r.setVariables=2]="setVariables",r[r.fetchMore=3]="fetchMore",r[r.refetch=4]="refetch",r[r.poll=6]="poll",r[r.ready=7]="ready",r[r.error=8]="error"})(ir||(ir={}));function wa(r){return r?r<7:!1}function Ew(r,e,t,n){var a=e.data,i=On(e,["data"]),o=t.data,c=On(t,["data"]);return fr(i,c)&&Po(ua(r).selectionSet,a,o,{fragmentMap:go(So(r)),variables:n})}function Po(r,e,t,n){if(e===t)return!0;var a=new Set;return r.selections.every(function(i){if(a.has(i)||(a.add(i),!ia(i,n.variables))||Uy(i))return!0;if(Ln(i)){var o=qn(i),c=e&&e[o],u=t&&t[o],h=i.selectionSet;if(!h)return fr(c,u);var f=Array.isArray(c),d=Array.isArray(u);if(f!==d)return!1;if(f&&d){var l=c.length;if(u.length!==l)return!1;for(var y=0;y<l;++y)if(!Po(h,c[y],u[y],n))return!1;return!0}return Po(h,c,u,n)}else{var m=wo(i,n.fragmentMap);if(m)return Uy(m)?!0:Po(m.selectionSet,e,t,n)}})}function Uy(r){return!!r.directives&&r.directives.some(Mw)}function Mw(r){return r.name.value==="nonreactive"}var jy=Object.assign,Aw=Object.hasOwnProperty,yh=function(r){Xr(e,r);function e(t){var n=t.queryManager,a=t.queryInfo,i=t.options,o=r.call(this,function(E){try{var x=E._subscription._observer;x&&!x.error&&(x.error=Tw)}catch(U){}var P=!o.observers.size;o.observers.add(E);var L=o.last;return L&&L.error?E.error&&E.error(L.error):L&&L.result&&E.next&&E.next(L.result),P&&o.reobserve().catch(function(){}),function(){o.observers.delete(E)&&!o.observers.size&&o.tearDownQuery()}})||this;o.observers=new Set,o.subscriptions=new Set,o.queryInfo=a,o.queryManager=n,o.waitForOwnResult=bh(i.fetchPolicy),o.isTornDown=!1;var c=n.defaultOptions.watchQuery,u=c===void 0?{}:c,h=u.fetchPolicy,f=h===void 0?"cache-first":h,d=i.fetchPolicy,l=d===void 0?f:d,y=i.initialFetchPolicy,m=y===void 0?l==="standby"?f:l:y;o.options=we(we({},i),{initialFetchPolicy:m,fetchPolicy:l}),o.queryId=a.queryId||n.generateQueryId();var w=fa(o.query);return o.queryName=w&&w.name&&w.name.value,o}return Object.defineProperty(e.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var t=this;return new Promise(function(n,a){var i={next:function(c){n(c),t.observers.delete(i),t.observers.size||t.queryManager.removeQuery(t.queryId),setTimeout(function(){o.unsubscribe()},0)},error:a},o=t.subscribe(i)})},e.prototype.resetDiff=function(){this.queryInfo.resetDiff()},e.prototype.getCurrentResult=function(t){t===void 0&&(t=!0);var n=this.getLastResult(!0),a=this.queryInfo.networkStatus||n&&n.networkStatus||ir.ready,i=we(we({},n),{loading:wa(a),networkStatus:a}),o=this.options.fetchPolicy,c=o===void 0?"cache-first":o;if(!(bh(c)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var u=this.queryInfo.getDiff();(u.complete||this.options.returnPartialData)&&(i.data=u.result),fr(i.data,{})&&(i.data=void 0),u.complete?(delete i.partial,u.complete&&i.networkStatus===ir.loading&&(c==="cache-first"||c==="cache-only")&&(i.networkStatus=ir.ready,i.loading=!1)):i.partial=!0,globalThis.__DEV__!==!1&&!u.complete&&!this.options.partialRefetch&&!i.loading&&!i.data&&!i.error&&Hy(u.missing)}return t&&this.updateLastResult(i),i},e.prototype.isDifferentFromLastResult=function(t,n){if(!this.last)return!0;var a=this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!Ew(this.query,this.last.result,t,this.variables):!fr(this.last.result,t);return a||n&&!fr(this.last.variables,n)},e.prototype.getLast=function(t,n){var a=this.last;if(a&&a[t]&&(!n||fr(a.variables,this.variables)))return a[t]},e.prototype.getLastResult=function(t){return this.getLast("result",t)},e.prototype.getLastError=function(t){return this.getLast("error",t)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(t){var n,a={pollInterval:0},i=this.options.fetchPolicy;if(i==="cache-and-network"?a.fetchPolicy=i:i==="no-cache"?a.fetchPolicy="no-cache":a.fetchPolicy="network-only",globalThis.__DEV__!==!1&&t&&Aw.call(t,"variables")){var o=y1(this.query),c=o.variableDefinitions;(!c||!c.some(function(u){return u.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&Rt.warn(20,t,((n=o.name)===null||n===void 0?void 0:n.value)||o)}return t&&!fr(this.options.variables,t)&&(a.variables=this.options.variables=we(we({},this.options.variables),t)),this.queryInfo.resetLastWrite(),this.reobserve(a,ir.refetch)},e.prototype.fetchMore=function(t){var n=this,a=we(we({},t.query?t:we(we(we(we({},this.options),{query:this.options.query}),t),{variables:we(we({},this.options.variables),t.variables)})),{fetchPolicy:"no-cache"});a.query=this.transformDocument(a.query);var i=this.queryManager.generateQueryId();this.lastQuery=t.query?this.transformDocument(this.options.query):a.query;var o=this.queryInfo,c=o.networkStatus;o.networkStatus=ir.fetchMore,a.notifyOnNetworkStatusChange&&this.observe();var u=new Set;return this.queryManager.fetchQuery(i,a,ir.fetchMore).then(function(h){return n.queryManager.removeQuery(i),o.networkStatus===ir.fetchMore&&(o.networkStatus=c),n.queryManager.cache.batch({update:function(f){var d=t.updateQuery;d?f.updateQuery({query:n.query,variables:n.variables,returnPartialData:!0,optimistic:!1},function(l){return d(l,{fetchMoreResult:h.data,variables:a.variables})}):f.writeQuery({query:a.query,variables:a.variables,data:h.data})},onWatchUpdated:function(f){u.add(f.query)}}),h}).finally(function(){u.has(n.query)||$y(n)})},e.prototype.subscribeToMore=function(t){var n=this,a=this.queryManager.startGraphQLSubscription({query:t.document,variables:t.variables,context:t.context}).subscribe({next:function(i){var o=t.updateQuery;o&&n.updateQuery(function(c,u){var h=u.variables;return o(c,{subscriptionData:i,variables:h})})},error:function(i){if(t.onError){t.onError(i);return}globalThis.__DEV__!==!1&&Rt.error(21,i)}});return this.subscriptions.add(a),function(){n.subscriptions.delete(a)&&a.unsubscribe()}},e.prototype.setOptions=function(t){return this.reobserve(t)},e.prototype.silentSetOptions=function(t){var n=ki(this.options,t||{});jy(this.options,n)},e.prototype.setVariables=function(t){return fr(this.variables,t)?this.observers.size?this.result():Promise.resolve():(this.options.variables=t,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:t},ir.setVariables):Promise.resolve())},e.prototype.updateQuery=function(t){var n=this.queryManager,a=n.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,i=t(a,{variables:this.variables});i&&(n.cache.writeQuery({query:this.options.query,data:i,variables:this.variables}),n.broadcastQueries())},e.prototype.startPolling=function(t){this.options.pollInterval=t,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(t,n){if(n.nextFetchPolicy){var a=n.fetchPolicy,i=a===void 0?"cache-first":a,o=n.initialFetchPolicy,c=o===void 0?i:o;i==="standby"||(typeof n.nextFetchPolicy=="function"?n.fetchPolicy=n.nextFetchPolicy(i,{reason:t,options:n,observable:this,initialFetchPolicy:c}):t==="variables-changed"?n.fetchPolicy=c:n.fetchPolicy=n.nextFetchPolicy)}return n.fetchPolicy},e.prototype.fetch=function(t,n,a){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,t,n,a)},e.prototype.updatePolling=function(){var t=this;if(!this.queryManager.ssrMode){var n=this,a=n.pollingInfo,i=n.options.pollInterval;if(!i){a&&(clearTimeout(a.timeout),delete this.pollingInfo);return}if(!(a&&a.interval===i)){Rt(i,22);var o=a||(this.pollingInfo={});o.interval=i;var c=function(){var h,f;t.pollingInfo&&(!wa(t.queryInfo.networkStatus)&&!(!((f=(h=t.options).skipPollAttempt)===null||f===void 0)&&f.call(h))?t.reobserve({fetchPolicy:t.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},ir.poll).then(u,u):u())},u=function(){var h=t.pollingInfo;h&&(clearTimeout(h.timeout),h.timeout=setTimeout(c,h.interval))};u()}}},e.prototype.updateLastResult=function(t,n){n===void 0&&(n=this.variables);var a=this.getLastError();return a&&this.last&&!fr(n,this.last.variables)&&(a=void 0),this.last=we({result:this.queryManager.assumeImmutableResults?t:G1(t),variables:n},a?{error:a}:null)},e.prototype.reobserveAsConcast=function(t,n){var a=this;this.isTornDown=!1;var i=n===ir.refetch||n===ir.fetchMore||n===ir.poll,o=this.options.variables,c=this.options.fetchPolicy,u=ki(this.options,t||{}),h=i?u:jy(this.options,u),f=this.transformDocument(h.query);this.lastQuery=f,i||(this.updatePolling(),t&&t.variables&&!fr(t.variables,o)&&h.fetchPolicy!=="standby"&&h.fetchPolicy===c&&(this.applyNextFetchPolicy("variables-changed",h),n===void 0&&(n=ir.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=bh(h.fetchPolicy));var d=function(){a.concast===m&&(a.waitForOwnResult=!1)},l=h.variables&&we({},h.variables),y=this.fetch(h,n,f),m=y.concast,w=y.fromLink,E={next:function(x){fr(a.variables,l)&&(d(),a.reportResult(x,l))},error:function(x){fr(a.variables,l)&&(d(),a.reportError(x,l))}};return!i&&(w||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=m,this.observer=E),m.addObserver(E),m},e.prototype.reobserve=function(t,n){return this.reobserveAsConcast(t,n).promise},e.prototype.resubscribeAfterError=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=this.last;this.resetLastResults();var i=this.subscribe.apply(this,t);return this.last=a,i},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(t,n){var a=this.getLastError(),i=this.isDifferentFromLastResult(t,n);(a||!t.partial||this.options.returnPartialData)&&this.updateLastResult(t,n),(a||i)&&pa(this.observers,"next",t)},e.prototype.reportError=function(t,n){var a=we(we({},this.getLastResult()),{error:t,errors:t.graphQLErrors,networkStatus:ir.error,loading:!1});this.updateLastResult(a,n),pa(this.observers,"error",this.last.error=t)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(t){return t.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e.prototype.transformDocument=function(t){return this.queryManager.transform(t)},e}(ar);J1(yh);function $y(r){var e=r.options,t=e.fetchPolicy,n=e.nextFetchPolicy;return t==="cache-and-network"||t==="network-only"?r.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(a,i){return this.nextFetchPolicy=n,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(a,i):t}}):r.reobserve()}function Tw(r){globalThis.__DEV__!==!1&&Rt.error(23,r.message,r.stack)}function Hy(r){globalThis.__DEV__!==!1&&r&&globalThis.__DEV__!==!1&&Rt.debug(24,r)}function bh(r){return r==="network-only"||r==="no-cache"||r==="standby"}var zy=function(){function r(e){var t=e.cache,n=e.client,a=e.resolvers,i=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,n&&(this.client=n),a&&this.addResolvers(a),i&&this.setFragmentMatcher(i)}return r.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(n){t.resolvers=j1(t.resolvers,n)}):this.resolvers=j1(this.resolvers,e)},r.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},r.prototype.getResolvers=function(){return this.resolvers||{}},r.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,a=e.context,i=e.variables,o=e.onlyRunForcedResolvers,c=o===void 0?!1:o;return Bn(this,void 0,void 0,function(){return Pn(this,function(u){return t?[2,this.resolveDocument(t,n.data,a,i,this.fragmentMatcher,c).then(function(h){return we(we({},n),{data:h.result})})]:[2,n]})})},r.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},r.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},r.prototype.clientQuery=function(e){return aa(["client"],e)&&this.resolvers?e:null},r.prototype.serverQuery=function(e){return U1(e)},r.prototype.prepareContext=function(e){var t=this.cache;return we(we({},e),{cache:t,getCacheKey:function(n){return t.identify(n)}})},r.prototype.addExportedVariables=function(e,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),Bn(this,void 0,void 0,function(){return Pn(this,function(a){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then(function(i){return we(we({},t),i.exportedVariables)})]:[2,we({},t)]})})},r.prototype.shouldForceResolvers=function(e){var t=!1;return xn(e,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(t=n.arguments.some(function(a){return a.name.value==="always"&&a.value.kind==="BooleanValue"&&a.value.value===!0}),t))return Ac}}}),t},r.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:s3(e),variables:t,returnPartialData:!0,optimistic:!1}).result},r.prototype.resolveDocument=function(e,t,n,a,i,o){return n===void 0&&(n={}),a===void 0&&(a={}),i===void 0&&(i=function(){return!0}),o===void 0&&(o=!1),Bn(this,void 0,void 0,function(){var c,u,h,f,d,l,y,m,w,E,x;return Pn(this,function(P){return c=ua(e),u=So(e),h=go(u),f=this.collectSelectionsToResolve(c,h),d=c.operation,l=d?d.charAt(0).toUpperCase()+d.slice(1):"Query",y=this,m=y.cache,w=y.client,E={fragmentMap:h,context:we(we({},n),{cache:m,client:w}),variables:a,fragmentMatcher:i,defaultOperationType:l,exportedVariables:{},selectionsToResolve:f,onlyRunForcedResolvers:o},x=!1,[2,this.resolveSelectionSet(c.selectionSet,x,t,E).then(function(L){return{result:L,exportedVariables:E.exportedVariables}})]})})},r.prototype.resolveSelectionSet=function(e,t,n,a){return Bn(this,void 0,void 0,function(){var i,o,c,u,h,f=this;return Pn(this,function(d){return i=a.fragmentMap,o=a.context,c=a.variables,u=[n],h=function(l){return Bn(f,void 0,void 0,function(){var y,m;return Pn(this,function(w){return!t&&!a.selectionsToResolve.has(l)?[2]:ia(l,c)?Ln(l)?[2,this.resolveField(l,t,n,a).then(function(E){var x;typeof E!="undefined"&&u.push((x={},x[qn(l)]=E,x))})]:($6(l)?y=l:(y=i[l.name.value],Rt(y,18,l.name.value)),y&&y.typeCondition&&(m=y.typeCondition.name.value,a.fragmentMatcher(n,m,o))?[2,this.resolveSelectionSet(y.selectionSet,t,n,a).then(function(E){u.push(E)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(h)).then(function(){return jc(u)})]})})},r.prototype.resolveField=function(e,t,n,a){return Bn(this,void 0,void 0,function(){var i,o,c,u,h,f,d,l,y,m=this;return Pn(this,function(w){return n?(i=a.variables,o=e.name.value,c=qn(e),u=o!==c,h=n[c]||n[o],f=Promise.resolve(h),(!a.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(d=n.__typename||a.defaultOperationType,l=this.resolvers&&this.resolvers[d],l&&(y=l[u?o:c],y&&(f=Promise.resolve(uh.withValue(this.cache,y,[n,xo(e,i),a.context,{field:e,fragmentMap:a.fragmentMap}]))))),[2,f.then(function(E){var x,P;if(E===void 0&&(E=h),e.directives&&e.directives.forEach(function(U){U.name.value==="export"&&U.arguments&&U.arguments.forEach(function(z){z.name.value==="as"&&z.value.kind==="StringValue"&&(a.exportedVariables[z.value.value]=E)})}),!e.selectionSet||E==null)return E;var L=(P=(x=e.directives)===null||x===void 0?void 0:x.some(function(U){return U.name.value==="client"}))!==null&&P!==void 0?P:!1;if(Array.isArray(E))return m.resolveSubSelectedArray(e,t||L,E,a);if(e.selectionSet)return m.resolveSelectionSet(e.selectionSet,t||L,E,a)})]):[2,null]})})},r.prototype.resolveSubSelectedArray=function(e,t,n,a){var i=this;return Promise.all(n.map(function(o){if(o===null)return null;if(Array.isArray(o))return i.resolveSubSelectedArray(e,t,o,a);if(e.selectionSet)return i.resolveSelectionSet(e.selectionSet,t,o,a)}))},r.prototype.collectSelectionsToResolve=function(e,t){var n=function(o){return!Array.isArray(o)},a=this.selectionsToResolveCache;function i(o){if(!a.has(o)){var c=new Set;a.set(o,c),xn(o,{Directive:function(u,h,f,d,l){u.name.value==="client"&&l.forEach(function(y){n(y)&&a1(y)&&c.add(y)})},FragmentSpread:function(u,h,f,d,l){var y=t[u.name.value];Rt(y,19,u.name.value);var m=i(y);m.size>0&&(l.forEach(function(w){n(w)&&a1(w)&&c.add(w)}),c.add(u),m.forEach(function(w){c.add(w)}))}})}return a.get(o)}return i(e)},r}(),Oi=new(gi?WeakMap:Map);function mh(r,e){var t=r[e];typeof t=="function"&&(r[e]=function(){return Oi.set(r,(Oi.get(r)+1)%1e15),t.apply(this,arguments)})}function Vy(r){r.notifyTimeout&&(clearTimeout(r.notifyTimeout),r.notifyTimeout=void 0)}var gh=function(){function r(e,t){t===void 0&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;Oi.has(n)||(Oi.set(n,0),mh(n,"evict"),mh(n,"modify"),mh(n,"reset"))}return r.prototype.init=function(e){var t=e.networkStatus||ir.loading;return this.variables&&this.networkStatus!==ir.loading&&!fr(this.variables,e.variables)&&(t=ir.setVariables),fr(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},r.prototype.reset=function(){Vy(this),this.dirty=!1},r.prototype.resetDiff=function(){this.lastDiff=void 0},r.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&fr(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var t=this.observableQuery;if(t&&t.options.fetchPolicy==="no-cache")return{complete:!1};var n=this.cache.diff(e);return this.updateLastDiff(n,e),n},r.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},r.prototype.getDiffOptions=function(e){var t;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(t=this.observableQuery)===null||t===void 0?void 0:t.options.canonizeResults}},r.prototype.setDiff=function(e){var t=this,n,a=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&!(!((n=this.observableQuery)===null||n===void 0)&&n.options.returnPartialData)&&!(a&&a.complete)||(this.updateLastDiff(e),!this.dirty&&!fr(a&&a.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return t.notify()},0))))},r.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var n=t.getDiff();n.fromOptimisticTransaction?e.observe():$y(e)})):delete this.oqListener)},r.prototype.notify=function(){var e=this;Vy(this),this.shouldNotify()&&this.listeners.forEach(function(t){return t(e)}),this.dirty=!1},r.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(wa(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},r.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=r.prototype.cancel;var e=this.observableQuery;e&&e.stopPolling()}},r.prototype.cancel=function(){},r.prototype.updateWatch=function(e){var t=this;e===void 0&&(e=this.variables);var n=this.observableQuery;if(!(n&&n.options.fetchPolicy==="no-cache")){var a=we(we({},this.getDiffOptions(e)),{watcher:this,callback:function(i){return t.setDiff(i)}});(!this.lastWatch||!fr(a,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=a))}},r.prototype.resetLastWrite=function(){this.lastWrite=void 0},r.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===Oi.get(this.cache)&&fr(t,n.variables)&&fr(e.data,n.result.data))},r.prototype.markResult=function(e,t,n,a){var i=this,o=new Un,c=ln(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&ln(e.incremental)){var u=X1(this.getDiff().result,e);e.data=u}else if("hasNext"in e&&e.hasNext){var h=this.getDiff();e.data=o.merge(h.result,e.data)}this.graphQLErrors=c,n.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):a!==0&&(wh(e,n.errorPolicy)?this.cache.performTransaction(function(f){if(i.shouldWrite(e,n.variables))f.writeQuery({query:t,data:e.data,variables:n.variables,overwrite:a===1}),i.lastWrite={result:e,variables:n.variables,dmCount:Oi.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete){e.data=i.lastDiff.diff.result;return}var d=i.getDiffOptions(n.variables),l=f.diff(d);!i.stopped&&fr(i.variables,n.variables)&&i.updateWatch(n.variables),i.updateLastDiff(l,d),l.complete&&(e.data=l.result)}):this.lastWrite=void 0)},r.prototype.markReady=function(){return this.networkError=null,this.networkStatus=ir.ready},r.prototype.markError=function(e){return this.networkStatus=ir.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},r}();function wh(r,e){e===void 0&&(e="none");var t=e==="ignore"||e==="all",n=!Ro(r);return!n&&t&&r.data&&(n=!0),n}var kw=Object.prototype.hasOwnProperty,Wy=Object.create(null),Iw=function(){function r(e){var t=e.cache,n=e.link,a=e.defaultOptions,i=e.documentTransform,o=e.queryDeduplication,c=o===void 0?!1:o,u=e.onBroadcast,h=e.ssrMode,f=h===void 0?!1:h,d=e.clientAwareness,l=d===void 0?{}:d,y=e.localState,m=e.assumeImmutableResults,w=m===void 0?!!t.assumeImmutableResults:m,E=e.defaultContext,x=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new c1(Sn["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new mi(!1);var P=new D1(function(L){return x.cache.transformDocument(L)},{cache:!1});this.cache=t,this.link=n,this.defaultOptions=a||Object.create(null),this.queryDeduplication=c,this.clientAwareness=l,this.localState=y||new zy({cache:t}),this.ssrMode=f,this.assumeImmutableResults=w,this.documentTransform=i?P.concat(i).concat(P):P,this.defaultContext=E||Object.create(null),(this.onBroadcast=u)&&(this.mutationStore=Object.create(null))}return r.prototype.stop=function(){var e=this;this.queries.forEach(function(t,n){e.stopQueryNoBroadcast(n)}),this.cancelPendingFetches(Nr(25))},r.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(t){return t(e)}),this.fetchCancelFns.clear()},r.prototype.mutate=function(e){var t,n,a=e.mutation,i=e.variables,o=e.optimisticResponse,c=e.updateQueries,u=e.refetchQueries,h=u===void 0?[]:u,f=e.awaitRefetchQueries,d=f===void 0?!1:f,l=e.update,y=e.onQueryUpdated,m=e.fetchPolicy,w=m===void 0?((t=this.defaultOptions.mutate)===null||t===void 0?void 0:t.fetchPolicy)||"network-only":m,E=e.errorPolicy,x=E===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.errorPolicy)||"none":E,P=e.keepRootFields,L=e.context;return Bn(this,void 0,void 0,function(){var U,z,W,re,ie;return Pn(this,function(se){switch(se.label){case 0:return Rt(a,26),Rt(w==="network-only"||w==="no-cache",27),U=this.generateMutationId(),a=this.cache.transformForLink(this.transform(a)),z=this.getDocumentInfo(a).hasClientExports,i=this.getVariables(a,i),z?[4,this.localState.addExportedVariables(a,i,L)]:[3,2];case 1:i=se.sent(),se.label=2;case 2:return W=this.mutationStore&&(this.mutationStore[U]={mutation:a,variables:i,loading:!0,error:null}),re=o&&this.markMutationOptimistic(o,{mutationId:U,document:a,variables:i,fetchPolicy:w,errorPolicy:x,context:L,updateQueries:c,update:l,keepRootFields:P}),this.broadcastQueries(),ie=this,[2,new Promise(function(ve,Q){return Yc(ie.getObservableFromLink(a,we(we({},L),{optimisticResponse:re?o:void 0}),i,!1),function(M){if(Ro(M)&&x==="none")throw new Ii({graphQLErrors:Xc(M)});W&&(W.loading=!1,W.error=null);var b=we({},M);return typeof h=="function"&&(h=h(b)),x==="ignore"&&Ro(b)&&delete b.errors,ie.markMutationResult({mutationId:U,result:b,document:a,variables:i,fetchPolicy:w,errorPolicy:x,context:L,update:l,updateQueries:c,awaitRefetchQueries:d,refetchQueries:h,removeOptimistic:re?U:void 0,onQueryUpdated:y,keepRootFields:P})}).subscribe({next:function(M){ie.broadcastQueries(),(!("hasNext"in M)||M.hasNext===!1)&&ve(M)},error:function(M){W&&(W.loading=!1,W.error=M),re&&ie.cache.removeOptimistic(U),ie.broadcastQueries(),Q(M instanceof Ii?M:new Ii({networkError:M}))}})})]}})})},r.prototype.markMutationResult=function(e,t){var n=this;t===void 0&&(t=this.cache);var a=e.result,i=[],o=e.fetchPolicy==="no-cache";if(!o&&wh(a,e.errorPolicy)){if(Ti(a)||i.push({result:a.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),Ti(a)&&ln(a.incremental)){var c=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),u=void 0;c.result&&(u=X1(c.result,a)),typeof u!="undefined"&&(a.data=u,i.push({result:u,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var h=e.updateQueries;h&&this.queries.forEach(function(d,l){var y=d.observableQuery,m=y&&y.queryName;if(!(!m||!kw.call(h,m))){var w=h[m],E=n.queries.get(l),x=E.document,P=E.variables,L=t.diff({query:x,variables:P,returnPartialData:!0,optimistic:!1}),U=L.result,z=L.complete;if(z&&U){var W=w(U,{mutationResult:a,queryName:x&&Bc(x)||void 0,queryVariables:P});W&&i.push({result:W,dataId:"ROOT_QUERY",query:x,variables:P})}}})}if(i.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var f=[];if(this.refetchQueries({updateCache:function(d){o||i.forEach(function(w){return d.write(w)});var l=e.update,y=!x3(a)||Ti(a)&&!a.hasNext;if(l){if(!o){var m=d.diff({id:"ROOT_MUTATION",query:n.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});m.complete&&(a=we(we({},a),{data:m.result}),"incremental"in a&&delete a.incremental,"hasNext"in a&&delete a.hasNext)}y&&l(d,a,{context:e.context,variables:e.variables})}!o&&!e.keepRootFields&&y&&d.modify({id:"ROOT_MUTATION",fields:function(w,E){var x=E.fieldName,P=E.DELETE;return x==="__typename"?w:P}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(d){return f.push(d)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(f).then(function(){return a})}return Promise.resolve(a)},r.prototype.markMutationOptimistic=function(e,t){var n=this,a=typeof e=="function"?e(t.variables,{IGNORE:Wy}):e;return a===Wy?!1:(this.cache.recordOptimisticTransaction(function(i){try{n.markMutationResult(we(we({},t),{result:{data:a}}),i)}catch(o){globalThis.__DEV__!==!1&&Rt.error(o)}},t.mutationId),!0)},r.prototype.fetchQuery=function(e,t,n){return this.fetchConcastWithInfo(e,t,n).concast.promise},r.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}}),e},r.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},r.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},r.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var n={hasClientExports:a6(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:aa(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:F1([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:Pc(fa(e)),asQuery:we(we({},e),{definitions:e.definitions.map(function(a){return a.kind==="OperationDefinition"&&a.operation!=="query"?we(we({},a),{operation:"query"}):a})})};t.set(e,n)}return t.get(e)},r.prototype.getVariables=function(e,t){return we(we({},this.getDocumentInfo(e).defaultVars),t)},r.prototype.watchQuery=function(e){var t=this.transform(e.query);e=we(we({},e),{variables:this.getVariables(t,e.variables)}),typeof e.notifyOnNetworkStatusChange=="undefined"&&(e.notifyOnNetworkStatusChange=!1);var n=new gh(this),a=new yh({queryManager:this,queryInfo:n,options:e});return a.lastQuery=t,this.queries.set(a.queryId,n),n.init({document:t,observableQuery:a,variables:a.variables}),a},r.prototype.query=function(e,t){var n=this;return t===void 0&&(t=this.generateQueryId()),Rt(e.query,28),Rt(e.query.kind==="Document",29),Rt(!e.returnPartialData,30),Rt(!e.pollInterval,31),this.fetchQuery(t,we(we({},e),{query:this.transform(e.query)})).finally(function(){return n.stopQuery(t)})},r.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},r.prototype.generateRequestId=function(){return this.requestIdCounter++},r.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},r.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},r.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},r.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(Nr(32)),this.queries.forEach(function(t){t.observableQuery?t.networkStatus=ir.loading:t.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},r.prototype.getObservableQueries=function(e){var t=this;e===void 0&&(e="active");var n=new Map,a=new Map,i=new Set;return Array.isArray(e)&&e.forEach(function(o){typeof o=="string"?a.set(o,!1):R6(o)?a.set(t.transform(o),!1):pr(o)&&o.query&&i.add(o)}),this.queries.forEach(function(o,c){var u=o.observableQuery,h=o.document;if(u){if(e==="all"){n.set(c,u);return}var f=u.queryName,d=u.options.fetchPolicy;if(d==="standby"||e==="active"&&!u.hasObservers())return;(e==="active"||f&&a.has(f)||h&&a.has(h))&&(n.set(c,u),f&&a.set(f,!0),h&&a.set(h,!0))}}),i.size&&i.forEach(function(o){var c=bc("legacyOneTimeQuery"),u=t.getQuery(c).init({document:o.query,variables:o.variables}),h=new yh({queryManager:t,queryInfo:u,options:we(we({},o),{fetchPolicy:"network-only"})});Rt(h.queryId===c),u.setObservableQuery(h),n.set(c,h)}),globalThis.__DEV__!==!1&&a.size&&a.forEach(function(o,c){o||globalThis.__DEV__!==!1&&Rt.warn(typeof c=="string"?33:34,c)}),n},r.prototype.reFetchObservableQueries=function(e){var t=this;e===void 0&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach(function(a,i){var o=a.options.fetchPolicy;a.resetLastResults(),(e||o!=="standby"&&o!=="cache-only")&&n.push(a.refetch()),t.getQuery(i).setDiff(null)}),this.broadcastQueries(),Promise.all(n)},r.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},r.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,a=e.fetchPolicy,i=e.errorPolicy,o=i===void 0?"none":i,c=e.variables,u=e.context,h=u===void 0?{}:u;n=this.transform(n),c=this.getVariables(n,c);var f=function(l){return t.getObservableFromLink(n,h,l).map(function(y){a!=="no-cache"&&(wh(y,o)&&t.cache.write({query:n,result:y.data,dataId:"ROOT_SUBSCRIPTION",variables:l}),t.broadcastQueries());var m=Ro(y),w=U3(y);if(m||w){var E={};if(m&&(E.graphQLErrors=y.errors),w&&(E.protocolErrors=y.extensions[rh]),o==="none"||w)throw new Ii(E)}return o==="ignore"&&delete y.errors,y})};if(this.getDocumentInfo(n).hasClientExports){var d=this.localState.addExportedVariables(n,c,h).then(f);return new ar(function(l){var y=null;return d.then(function(m){return y=m.subscribe(l)},l.error),function(){return y&&y.unsubscribe()}})}return f(c)},r.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},r.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},r.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},r.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},r.prototype.getLocalState=function(){return this.localState},r.prototype.getObservableFromLink=function(e,t,n,a){var i=this,o;a===void 0&&(a=(o=t==null?void 0:t.queryDeduplication)!==null&&o!==void 0?o:this.queryDeduplication);var c,u=this.getDocumentInfo(e),h=u.serverQuery,f=u.clientQuery;if(h){var d=this,l=d.inFlightLinkObservables,y=d.link,m={query:h,variables:n,operationName:Bc(h)||void 0,context:this.prepareContext(we(we({},t),{forceFetch:!a}))};if(t=m.context,a){var w=To(h),E=Nn(n),x=l.lookup(w,E);if(c=x.observable,!c){var P=new Ai([th(y,m)]);c=x.observable=P,P.beforeNext(function(){l.remove(w,E)})}}else c=new Ai([th(y,m)])}else c=new Ai([ar.of({data:{}})]),t=this.prepareContext(t);return f&&(c=Yc(c,function(L){return i.localState.runResolvers({document:f,remoteResult:L,context:t,variables:n})})),c},r.prototype.getResultsFromLink=function(e,t,n){var a=e.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(n.query);return Yc(this.getObservableFromLink(i,n.context,n.variables),function(o){var c=Xc(o),u=c.length>0;if(a>=e.lastRequestId){if(u&&n.errorPolicy==="none")throw e.markError(new Ii({graphQLErrors:c}));e.markResult(o,i,n,t),e.markReady()}var h={data:o.data,loading:!1,networkStatus:ir.ready};return u&&n.errorPolicy!=="ignore"&&(h.errors=c,h.networkStatus=ir.error),h},function(o){var c=j3(o)?o:new Ii({networkError:o});throw a>=e.lastRequestId&&e.markError(c),c})},r.prototype.fetchConcastWithInfo=function(e,t,n,a){var i=this;n===void 0&&(n=ir.loading),a===void 0&&(a=t.query);var o=this.getVariables(a,t.variables),c=this.getQuery(e),u=this.defaultOptions.watchQuery,h=t.fetchPolicy,f=h===void 0?u&&u.fetchPolicy||"cache-first":h,d=t.errorPolicy,l=d===void 0?u&&u.errorPolicy||"none":d,y=t.returnPartialData,m=y===void 0?!1:y,w=t.notifyOnNetworkStatusChange,E=w===void 0?!1:w,x=t.context,P=x===void 0?{}:x,L=Object.assign({},t,{query:a,variables:o,fetchPolicy:f,errorPolicy:l,returnPartialData:m,notifyOnNetworkStatusChange:E,context:P}),U=function(se){L.variables=se;var ve=i.fetchQueryByPolicy(c,L,n);return L.fetchPolicy!=="standby"&&ve.sources.length>0&&c.observableQuery&&c.observableQuery.applyNextFetchPolicy("after-fetch",t),ve},z=function(){return i.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(se){z(),setTimeout(function(){return W.cancel(se)})});var W,re;if(this.getDocumentInfo(L.query).hasClientExports)W=new Ai(this.localState.addExportedVariables(L.query,L.variables,L.context).then(U).then(function(se){return se.sources})),re=!0;else{var ie=U(L.variables);re=ie.fromLink,W=new Ai(ie.sources)}return W.promise.then(z,z),{concast:W,fromLink:re}},r.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,a=e.include,i=e.optimistic,o=i===void 0?!1:i,c=e.removeOptimistic,u=c===void 0?o?bc("refetchQueries"):void 0:c,h=e.onQueryUpdated,f=new Map;a&&this.getObservableQueries(a).forEach(function(l,y){f.set(y,{oq:l,lastDiff:t.getQuery(y).getDiff()})});var d=new Map;return n&&this.cache.batch({update:n,optimistic:o&&u||!1,removeOptimistic:u,onWatchUpdated:function(l,y,m){var w=l.watcher instanceof gh&&l.watcher.observableQuery;if(w){if(h){f.delete(w.queryId);var E=h(w,y,m);return E===!0&&(E=w.refetch()),E!==!1&&d.set(w,E),E}h!==null&&f.set(w.queryId,{oq:w,lastDiff:m,diff:y})}}}),f.size&&f.forEach(function(l,y){var m=l.oq,w=l.lastDiff,E=l.diff,x;if(h){if(!E){var P=m.queryInfo;P.reset(),E=P.getDiff()}x=h(m,E,w)}(!h||x===!0)&&(x=m.refetch()),x!==!1&&d.set(m,x),y.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(y)}),u&&this.cache.removeOptimistic(u),d},r.prototype.fetchQueryByPolicy=function(e,t,n){var a=this,i=t.query,o=t.variables,c=t.fetchPolicy,u=t.refetchWritePolicy,h=t.errorPolicy,f=t.returnPartialData,d=t.context,l=t.notifyOnNetworkStatusChange,y=e.networkStatus;e.init({document:i,variables:o,networkStatus:n});var m=function(){return e.getDiff()},w=function(U,z){z===void 0&&(z=e.networkStatus||ir.loading);var W=U.result;globalThis.__DEV__!==!1&&!f&&!fr(W,{})&&Hy(U.missing);var re=function(ie){return ar.of(we({data:ie,loading:wa(z),networkStatus:z},U.complete?null:{partial:!0}))};return W&&a.getDocumentInfo(i).hasForcedResolvers?a.localState.runResolvers({document:i,remoteResult:{data:W},context:d,variables:o,onlyRunForcedResolvers:!0}).then(function(ie){return re(ie.data||void 0)}):h==="none"&&z===ir.refetch&&Array.isArray(U.missing)?re(void 0):re(W)},E=c==="no-cache"?0:n===ir.refetch&&u!=="merge"?1:2,x=function(){return a.getResultsFromLink(e,E,{query:i,variables:o,context:d,fetchPolicy:c,errorPolicy:h})},P=l&&typeof y=="number"&&y!==n&&wa(n);switch(c){default:case"cache-first":{var L=m();return L.complete?{fromLink:!1,sources:[w(L,e.markReady())]}:f||P?{fromLink:!0,sources:[w(L),x()]}:{fromLink:!0,sources:[x()]}}case"cache-and-network":{var L=m();return L.complete||f||P?{fromLink:!0,sources:[w(L),x()]}:{fromLink:!0,sources:[x()]}}case"cache-only":return{fromLink:!1,sources:[w(m(),e.markReady())]};case"network-only":return P?{fromLink:!0,sources:[w(m()),x()]}:{fromLink:!0,sources:[x()]};case"no-cache":return P?{fromLink:!0,sources:[w(e.getDiff()),x()]}:{fromLink:!0,sources:[x()]};case"standby":return{fromLink:!1,sources:[]}}},r.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new gh(this,e)),this.queries.get(e)},r.prototype.prepareContext=function(e){e===void 0&&(e={});var t=this.localState.prepareContext(e);return we(we(we({},this.defaultContext),t),{clientAwareness:this.clientAwareness})},r}(),Ky=!1,Qy=function(){function r(e){var t=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw Nr(15);var n=e.uri,a=e.credentials,i=e.headers,o=e.cache,c=e.documentTransform,u=e.ssrMode,h=u===void 0?!1:u,f=e.ssrForceFetchDelay,d=f===void 0?0:f,l=e.connectToDevTools,y=l===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&globalThis.__DEV__!==!1:l,m=e.queryDeduplication,w=m===void 0?!0:m,E=e.defaultOptions,x=e.defaultContext,P=e.assumeImmutableResults,L=P===void 0?o.assumeImmutableResults:P,U=e.resolvers,z=e.typeDefs,W=e.fragmentMatcher,re=e.name,ie=e.version,se=e.link;se||(se=n?new ay({uri:n,credentials:a,headers:i}):Gr.empty()),this.link=se,this.cache=o,this.disableNetworkFetches=h||d>0,this.queryDeduplication=w,this.defaultOptions=E||Object.create(null),this.typeDefs=z,d&&setTimeout(function(){return t.disableNetworkFetches=!1},d),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=vc,this.localState=new zy({cache:o,client:this,resolvers:U,fragmentMatcher:W}),this.queryManager=new Iw({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:x,documentTransform:c,queryDeduplication:w,ssrMode:h,clientAwareness:{name:re,version:ie},localState:this.localState,assumeImmutableResults:L,onBroadcast:y?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0}),y&&this.connectToDevTools()}return r.prototype.connectToDevTools=function(){if(typeof window=="object"){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this}!Ky&&globalThis.__DEV__!==!1&&(Ky=!0,setTimeout(function(){if(typeof window!="undefined"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var n=window.navigator,a=n&&n.userAgent,i=void 0;typeof a=="string"&&(a.indexOf("Chrome/")>-1?i="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":a.indexOf("Firefox/")>-1&&(i="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),i&&globalThis.__DEV__!==!1&&Rt.log("Download the Apollo DevTools for a better development experience: %s",i)}},1e4))},Object.defineProperty(r.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),r.prototype.stop=function(){this.queryManager.stop()},r.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Zc(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=we(we({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},r.prototype.query=function(e){return this.defaultOptions.query&&(e=Zc(this.defaultOptions.query,e)),Rt(e.fetchPolicy!=="cache-and-network",16),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=we(we({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},r.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Zc(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},r.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},r.prototype.readQuery=function(e,t){return t===void 0&&(t=!1),this.cache.readQuery(e,t)},r.prototype.readFragment=function(e,t){return t===void 0&&(t=!1),this.cache.readFragment(e,t)},r.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t},r.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),t},r.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},r.prototype.__requestRaw=function(e){return th(this.link,e)},r.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(t){return t()}))}).then(function(){return e.reFetchObservableQueries()})},r.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(t){return t()}))})},r.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(n){return n!==e})}},r.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(n){return n!==e})}},r.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},r.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],a=[];t.forEach(function(o,c){n.push(c),a.push(o)});var i=Promise.all(a);return i.queries=n,i.results=a,i.catch(function(o){globalThis.__DEV__!==!1&&Rt.debug(17,o)}),i},r.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},r.prototype.extract=function(e){return this.cache.extract(e)},r.prototype.restore=function(e){return this.cache.restore(e)},r.prototype.addResolvers=function(e){this.localState.addResolvers(e)},r.prototype.setResolvers=function(e){this.localState.setResolvers(e)},r.prototype.getResolvers=function(){return this.localState.getResolvers()},r.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},r.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(r.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),r}();globalThis.__DEV__!==!1&&(Qy.prototype.getMemoryInternals=_6);var Do=new Map,_h=new Map,Gy=!0,No=!1;function Jy(r){return r.replace(/[\s,]+/g," ").trim()}function Rw(r){return Jy(r.source.body.substring(r.start,r.end))}function Cw(r){var e=new Set,t=[];return r.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var a=n.name.value,i=Rw(n.loc),o=_h.get(a);o&&!o.has(i)?Gy&&console.warn("Warning: fragment with name "+a+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):o||_h.set(a,o=new Set),o.add(i),e.has(i)||(e.add(i),t.push(n))}else t.push(n)}),we(we({},r),{definitions:t})}function Ow(r){var e=new Set(r.definitions);e.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(a){var i=n[a];i&&typeof i=="object"&&e.add(i)})});var t=r.loc;return t&&(delete t.startToken,delete t.endToken),r}function Bw(r){var e=Jy(r);if(!Do.has(e)){var t=J2(r,{experimentalFragmentVariables:No,allowLegacyFragmentVariables:No});if(!t||t.kind!=="Document")throw new Error("Not a valid GraphQL document.");Do.set(e,Ow(Cw(t)))}return Do.get(e)}function sr(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];typeof r=="string"&&(r=[r]);var n=r[0];return e.forEach(function(a,i){a&&a.kind==="Document"?n+=a.loc.source.body:n+=a,n+=r[i+1]}),Bw(n)}function Pw(){Do.clear(),_h.clear()}function Dw(){Gy=!1}function Nw(){No=!0}function qw(){No=!1}var _a={gql:sr,resetCaches:Pw,disableFragmentWarnings:Dw,enableExperimentalFragmentVariables:Nw,disableExperimentalFragmentVariables:qw};(function(r){r.gql=_a.gql,r.resetCaches=_a.resetCaches,r.disableFragmentWarnings=_a.disableFragmentWarnings,r.enableExperimentalFragmentVariables=_a.enableExperimentalFragmentVariables,r.disableExperimentalFragmentVariables=_a.disableExperimentalFragmentVariables})(sr||(sr={})),sr.default=sr;class Lw extends Lr{constructor(e){super(e),this.$__query=sr`query ($bundle: String!) {
      ContinuId(bundle: $bundle) {
        address,
        bundleHash,
        tokenSlug,
        position,
        batchId,
        characters,
        pubkey,
        amount,
        createdAt
      }
    }`}createResponse(e){return new b2({query:this,json:e})}}class Fw extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.WalletBundle"})}payload(){const e=this.data();if(!e||e.length===0)return null;const t={};return e.forEach(n=>{n.metas=Fi.aggregateMeta(n.metas),t[n.bundleHash]=n}),t}}class Uw extends Lr{constructor(e){super(e),this.$__query=sr`query( $bundleHashes: [ String! ] ) {
      WalletBundle( bundleHashes: $bundleHashes ) {
        bundleHash,
        metas {
          molecularHash,
          position,
          key,
          value,
          createdAt
        },
        createdAt
      }
    }`}createResponse(e){return new Fw({query:this,json:e})}}class qo extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.Wallet"})}static toClientWallet({data:e,secret:t=null}){let n;if(e.position===null||typeof e.position=="undefined"?n=Zt.create({secretOrBundle:e.bundleHash,token:e.tokenSlug,batchId:e.batchId,characters:e.characters}):(n=new Zt({secret:t,token:e.tokenSlug,position:e.position,batchId:e.batchId,characters:e.characters}),n.address=e.address,n.bundle=e.bundleHash),e.token&&(n.tokenName=e.token.name,n.tokenAmount=e.token.amount,n.tokenSupply=e.token.supply,n.tokenFungibility=e.token.fungibility),e.tokenUnits.length)for(let a of e.tokenUnits)n.tokenUnits.push(ui.createFromGraphQL(a));if(e.tradeRates.length)for(let a of e.tradeRates)n.tradeRates[a.tokenSlug]=a.amount;return n.balance=Number(e.amount),n.pubkey=e.pubkey,n.createdAt=e.createdAt,n}getWallets(e=null){const t=this.data();if(!t)return null;const n=[];for(let a of t)n.push(qo.toClientWallet({data:a,secret:e}));return n}payload(){return this.getWallets()}}class jw extends Lr{constructor(e){super(e),this.$__query=sr`query( $bundleHash: String, $tokenSlug: String ) {
      Wallet( bundleHash: $bundleHash, tokenSlug: $tokenSlug ) {
        address,
        bundleHash,
        token {
          name,
          amount,
          fungibility,
          supply
        },
        tokenSlug,
        batchId,
        position,
        amount,
        characters,
        pubkey,
        createdAt,
        tokenUnits {
          id,
          name,
          metas
        },
        tradeRates {
          tokenSlug,
          amount
        }
      }
    }`}createResponse(e){return new qo({query:this,json:e})}}class $w extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.Balance"})}payload(){const e=this.data();return!e||!e.bundleHash||!e.tokenSlug?null:qo.toClientWallet({data:e})}}class Hw extends Lr{constructor(e){super(e),this.$__query=sr`query( $address: String, $bundleHash: String, $type: String, $token: String, $position: String ) {
      Balance( address: $address, bundleHash: $bundleHash, type: $type, token: $token, position: $position ) {
        address,
        bundleHash,
        type,
        tokenSlug,
        batchId,
        position,
        amount,
        characters,
        pubkey,
        createdAt,
        tokenUnits {
          id,
          name,
          metas
        },
        tradeRates {
          tokenSlug,
          amount
        }
      }
    }`}createResponse(e){return new $w({query:this,json:e})}}class zw extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.MetaType"})}payload(){const e=this.data();if(!e||e.length===0)return null;let t={instances:{},instanceCount:{},paginatorInfo:{}},n=e.pop();return n.instances&&(t.instances=n.instances),n.instanceCount&&(t.instanceCount=n.instanceCount),n.paginatorInfo&&(t.paginatorInfo=n.paginatorInfo),t}}class xh extends Lr{constructor(e){super(e),this.$__query=sr`query( $metaType: String, $metaTypes: [ String! ], $metaId: String, $metaIds: [ String! ], $key: String, $keys: [ String! ], $value: String, $values: [ String! ], $count: String, $latest: Boolean, $filter: [ MetaFilter! ], $latestMetas: Boolean, $queryArgs: QueryArgs, $countBy: String ) {
      MetaType( metaType: $metaType, metaTypes: $metaTypes, metaId: $metaId, metaIds: $metaIds, key: $key, keys: $keys, value: $value, values: $values, count: $count, filter: $filter, latestMetas: $latestMetas, queryArgs: $queryArgs, countBy: $countBy ) {
        metaType,
        instanceCount {
          key,
          value
        },
        instances {
          metaType,
          metaId,
          createdAt,
          metas(latest:$latest) {
            molecularHash,
            position,
            key,
            value,
            createdAt
          }
        },
        paginatorInfo {
          currentPage,
          total
        }
      }
    }`}static createVariables({metaType:e=null,metaId:t=null,key:n=null,value:a=null,latest:i=null,latestMetas:o=!0,filter:c=null,queryArgs:u=null,count:h=null,countBy:f=null}){const d={};return e&&(d[typeof e=="string"?"metaType":"metaTypes"]=e),t&&(d[typeof t=="string"?"metaId":"metaIds"]=t),n&&(d[typeof n=="string"?"key":"keys"]=n),a&&(d[typeof a=="string"?"value":"values"]=a),i&&(d.latest=!!i),o&&(d.latestMetas=!!o),c&&(d.filter=c),u&&((typeof u.limit=="undefined"||u.limit===0)&&(u.limit="*"),d.queryArgs=u),h&&(d.count=h),f&&(d.countBy=f),d}createResponse(e){return new zw({query:this,json:e})}}class xa extends Lr{constructor(e){super(e),this.$__query=sr`query( $batchId: String ) {
      Batch( batchId: $batchId ) {
        ${xa.getFields()},
        children {
          ${xa.getFields()}
        }
      }
    }`}static getFields(){return`batchId,
              molecularHash,
              type,
              status,
              createdAt,
              wallet {
                  address,
                  bundleHash,
                  amount,
                  tokenSlug,
                  token {
                      name,
                      amount
                  },
                  tokenUnits {
                      id,
                      name,
                      metas
                  }
              },
              fromWallet {
                  address,
                  bundleHash,
                  amount,
                  batchId
              },
              toWallet {
                  address,
                  bundleHash,
                  amount,
                  batchId
              },
              sourceTokenUnits {
                  id,
                  name,
                  metas
              },
              transferTokenUnits {
                  id,
                  name,
                  metas
              },
              metas {
                  key,
                  value,
              },
              throughMetas {
                  key,
                  value
              }`}createResponse(e){let t=new Cr({query:this,json:e});return t.dataKey="data.Batch",t}}class Vw extends Lr{constructor(e){super(e),this.$__query=sr`query( $batchId: String ) {
      BatchHistory( batchId: $batchId ) {
        ${xa.getFields()}
      }
    }`}createResponse(e){let t=new Cr({query:this,json:e});return t.dataKey="data.BatchHistory",t}}class rn extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.ProposeMolecule"}),this.$__clientMolecule=e.molecule()}init(){const e=ur.get(this.data(),"payload");try{this.$__payload=Object.prototype.toString.call(e)==="[object String]"?JSON.parse(e):e}catch(t){this.$__payload=null}}clientMolecule(){return this.$__clientMolecule}molecule(){const e=this.data();if(!e)return null;const t=new hn({});return t.molecularHash=ur.get(e,"molecularHash"),t.status=ur.get(e,"status"),t.createdAt=ur.get(e,"createdAt"),t}success(){return this.status()==="accepted"}status(){return ur.get(this.data(),"status","rejected")}reason(){return ur.get(this.data(),"reason","Invalid response from server")}payload(){return this.$__payload}}class Sh extends Lr{constructor(e){super(e)}createQuery({variables:e=null}){const t=super.createQuery({variables:e});return t.mutation=t.query,delete t.query,t}execute(t){return wt(this,arguments,function*({variables:e=null}){this.$__request=this.createQuery({variables:e});let n=yield this.client.mutate(this.$__request);return this.$__response=yield this.createResponseRaw(n),this.$__response})}}class Tr extends Sh{constructor(e,t=null){super(e),this.$__molecule=t,this.$__remainderWallet=null,this.$__query=sr`mutation( $molecule: MoleculeInput! ) {
      ProposeMolecule( molecule: $molecule ) {
        molecularHash,
        height,
        depth,
        status,
        reason,
        payload,
        createdAt,
        receivedAt,
        processedAt,
        broadcastedAt,
      }
    }`}compiledVariables(e){const t=super.compiledVariables(e);return Nh(ni({},t),{molecule:this.molecule()})}createResponse(e){return new rn({query:this,json:e})}execute(t){return wt(this,arguments,function*({variables:e=null}){return e=e||{},e.molecule=this.molecule(),kb(Tr.prototype,this,"execute").call(this,{variables:e})})}remainderWallet(){return this.$__remainderWallet}molecule(){return this.$__molecule}}class Ww extends rn{payloadKey(e){if(!ur.has(this.payload(),e))throw new ea(`ResponseRequestAuthorization::payloadKey() - '${e}' key was not found in the payload!`);return ur.get(this.payload(),e)}token(){return this.payloadKey("token")}time(){return this.payloadKey("time")}encrypt(){return this.payloadKey("encrypt")}pubKey(){return this.payloadKey("key")}}class Kw extends Tr{fillMolecule({meta:e}){this.$__molecule.initAuthorization({meta:e}),this.$__molecule.sign({}),this.$__molecule.check()}createResponse(e){return new Ww({query:this,json:e})}}class Qw extends rn{}class Gw extends Tr{fillMolecule({recipientWallet:e,amount:t,meta:n=null}){this.$__molecule.initTokenCreation({recipientWallet:e,amount:t,meta:n||{}}),this.$__molecule.sign({bundle:e.bundle}),this.$__molecule.check()}createResponse(e){return new Qw({query:this,json:e})}}class Jw extends rn{}class Yw extends Tr{fillMolecule({token:e,amount:t,metaType:n,metaId:a,meta:i=null,batchId:o=null}){this.$__molecule.initTokenRequest({token:e,amount:t,metaType:n,metaId:a,meta:i||{},batchId:o}),this.$__molecule.sign({}),this.$__molecule.check()}createResponse(e){return new Jw({query:this,json:e})}}class Xw extends rn{payload(){const e={reason:null,status:null},t=this.data();return e.reason=typeof t.reason=="undefined"?"Invalid response from server":t.reason,e.status=typeof t.status=="undefined"?"rejected":t.status,e}}class Zw extends Tr{fillMolecule({recipientWallet:e,amount:t}){this.$__molecule.initValue({recipientWallet:e,amount:t}),this.$__molecule.sign({}),this.$__molecule.check(this.$__molecule.sourceWallet)}createResponse(e){return new Xw({query:this,json:e})}}class e4 extends rn{}class t4 extends Tr{fillMolecule({type:e,contact:t,code:n}){this.$__molecule.initIdentifierCreation({type:e,contact:t,code:n}),this.$__molecule.sign({}),this.$__molecule.check()}createResponse(e){return new e4({query:this,json:e})}}class r4 extends rn{}class n4 extends Tr{fillMolecule({token:e,batchId:t=null}){let n=Zt.create({secretOrBundle:this.$__molecule.secret,token:e,batchId:t});this.$__molecule.initShadowWalletClaim(n),this.$__molecule.sign({}),this.$__molecule.check()}createResponse(e){return new r4({query:this,json:e})}}class i4 extends rn{}class a4 extends Tr{fillMolecule({metaType:e,metaId:t,meta:n,policy:a}){this.$__molecule.initMeta({meta:n,metaType:e,metaId:t,policy:a}),this.$__molecule.sign({}),this.$__molecule.check()}createResponse(e){return new i4({query:this,json:e})}}class o4 extends rn{}class s4 extends Tr{fillMolecule(e){this.$__molecule.initWalletCreation(e),this.$__molecule.sign({}),this.$__molecule.check()}createResponse(e){return new o4({query:this,json:e})}}class f4 extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.AccessToken"})}reason(){return"Invalid response from server"}success(){return this.payload()!==null}payload(){return this.data()}payloadKey(e){if(!ur.has(this.payload(),e))throw new ea(`ResponseAuthorizationGuest::payloadKey() - '${e}' key is not found in the payload!`);return ur.get(this.payload(),e)}token(){return this.payloadKey("token")}time(){return this.payloadKey("time")}pubKey(){return this.payloadKey("key")}encrypt(){return this.payloadKey("encrypt")}}class u4 extends Sh{constructor(e){super(e),this.$__query=sr`mutation( $cellSlug: String, $pubkey: String, $encrypt: Boolean ) {
      AccessToken( cellSlug: $cellSlug, pubkey: $pubkey, encrypt: $encrypt ) {
        token,
        pubkey,
        expiresAt
      }
    }`}createResponse(e){return new f4({query:this,json:e})}}class Yy extends or{constructor(e="The shadow wallet does not exist",t=null,n=null){super(e,t,n),this.name="WalletShadowException"}}class c4 extends or{constructor(e="Stackable tokens with unit IDs cannot have decimal places!",t=null,n=null){super(e,t,n),this.name="StackableUnitDecimalsException"}}class Lo extends or{constructor(e="Stackable tokens with unit IDs cannot have an amount!",t=null,n=null){super(e,t,n),this.name="StackableUnitAmountException"}}function Xy(r){return r.query.definitions.find(n=>n.kind==="OperationDefinition").selectionSet.selections.find(n=>n.kind==="Field").name.value}function h4(r){return r.query.definitions.find(t=>t.kind==="OperationDefinition").operation}function l4({graphQLErrors:r,networkError:e,operation:t,forward:n,response:a}){if(r&&r.map(({message:i,debugMessage:o,locations:c,path:u})=>console.error(`[GraphQL error]: ${i}\r
`,`  Message : ${o}\r
`,`  Path    : ${u}\r
`,`  Location: ${c}\r
`)),e){const{name:i,statusCode:o,result:c={}}=e;console.error(`[Network error]: ${i}, status code: ${o}`)}}var Dr=typeof globalThis!="undefined"&&globalThis||typeof self!="undefined"&&self||typeof Dr!="undefined"&&Dr,Fr={searchParams:"URLSearchParams"in Dr,iterable:"Symbol"in Dr&&"iterator"in Symbol,blob:"FileReader"in Dr&&"Blob"in Dr&&function(){try{return new Blob,!0}catch(r){return!1}}(),formData:"FormData"in Dr,arrayBuffer:"ArrayBuffer"in Dr};function d4(r){return r&&DataView.prototype.isPrototypeOf(r)}if(Fr.arrayBuffer)var p4=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v4=ArrayBuffer.isView||function(r){return r&&p4.indexOf(Object.prototype.toString.call(r))>-1};function Sa(r){if(typeof r!="string"&&(r=String(r)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(r)||r==="")throw new TypeError('Invalid character in header field name: "'+r+'"');return r.toLowerCase()}function Eh(r){return typeof r!="string"&&(r=String(r)),r}function Mh(r){var e={next:function(){var t=r.shift();return{done:t===void 0,value:t}}};return Fr.iterable&&(e[Symbol.iterator]=function(){return e}),e}function xr(r){this.map={},r instanceof xr?r.forEach(function(e,t){this.append(t,e)},this):Array.isArray(r)?r.forEach(function(e){this.append(e[0],e[1])},this):r&&Object.getOwnPropertyNames(r).forEach(function(e){this.append(e,r[e])},this)}xr.prototype.append=function(r,e){r=Sa(r),e=Eh(e);var t=this.map[r];this.map[r]=t?t+", "+e:e},xr.prototype.delete=function(r){delete this.map[Sa(r)]},xr.prototype.get=function(r){return r=Sa(r),this.has(r)?this.map[r]:null},xr.prototype.has=function(r){return this.map.hasOwnProperty(Sa(r))},xr.prototype.set=function(r,e){this.map[Sa(r)]=Eh(e)},xr.prototype.forEach=function(r,e){for(var t in this.map)this.map.hasOwnProperty(t)&&r.call(e,this.map[t],t,this)},xr.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),Mh(r)},xr.prototype.values=function(){var r=[];return this.forEach(function(e){r.push(e)}),Mh(r)},xr.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),Mh(r)},Fr.iterable&&(xr.prototype[Symbol.iterator]=xr.prototype.entries);function Ah(r){if(r.bodyUsed)return Promise.reject(new TypeError("Already read"));r.bodyUsed=!0}function Zy(r){return new Promise(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function y4(r){var e=new FileReader,t=Zy(e);return e.readAsArrayBuffer(r),t}function b4(r){var e=new FileReader,t=Zy(e);return e.readAsText(r),t}function m4(r){for(var e=new Uint8Array(r),t=new Array(e.length),n=0;n<e.length;n++)t[n]=String.fromCharCode(e[n]);return t.join("")}function eb(r){if(r.slice)return r.slice(0);var e=new Uint8Array(r.byteLength);return e.set(new Uint8Array(r)),e.buffer}function tb(){return this.bodyUsed=!1,this._initBody=function(r){this.bodyUsed=this.bodyUsed,this._bodyInit=r,r?typeof r=="string"?this._bodyText=r:Fr.blob&&Blob.prototype.isPrototypeOf(r)?this._bodyBlob=r:Fr.formData&&FormData.prototype.isPrototypeOf(r)?this._bodyFormData=r:Fr.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)?this._bodyText=r.toString():Fr.arrayBuffer&&Fr.blob&&d4(r)?(this._bodyArrayBuffer=eb(r.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Fr.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(r)||v4(r))?this._bodyArrayBuffer=eb(r):this._bodyText=r=Object.prototype.toString.call(r):this._bodyText="",this.headers.get("content-type")||(typeof r=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Fr.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Fr.blob&&(this.blob=function(){var r=Ah(this);if(r)return r;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var r=Ah(this);return r||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(y4)}),this.text=function(){var r=Ah(this);if(r)return r;if(this._bodyBlob)return b4(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(m4(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Fr.formData&&(this.formData=function(){return this.text().then(_4)}),this.json=function(){return this.text().then(JSON.parse)},this}var g4=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w4(r){var e=r.toUpperCase();return g4.indexOf(e)>-1?e:r}function Zn(r,e){if(!(this instanceof Zn))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var t=e.body;if(r instanceof Zn){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,e.headers||(this.headers=new xr(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,!t&&r._bodyInit!=null&&(t=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new xr(e.headers)),this.method=w4(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&t)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(t),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var a=/\?/;this.url+=(a.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Zn.prototype.clone=function(){return new Zn(this,{body:this._bodyInit})};function _4(r){var e=new FormData;return r.trim().split("&").forEach(function(t){if(t){var n=t.split("="),a=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(a),decodeURIComponent(i))}}),e}function x4(r){var e=new xr,t=r.replace(/\r?\n[\t ]+/g," ");return t.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var a=n.split(":"),i=a.shift().trim();if(i){var o=a.join(":").trim();e.append(i,o)}}),e}tb.call(Zn.prototype);function dn(r,e){if(!(this instanceof dn))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new xr(e.headers),this.url=e.url||"",this._initBody(r)}tb.call(dn.prototype),dn.prototype.clone=function(){return new dn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new xr(this.headers),url:this.url})},dn.error=function(){var r=new dn(null,{status:0,statusText:""});return r.type="error",r};var S4=[301,302,303,307,308];dn.redirect=function(r,e){if(S4.indexOf(e)===-1)throw new RangeError("Invalid status code");return new dn(null,{status:e,headers:{location:r}})};var ei=Dr.DOMException;try{new ei}catch(r){ei=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},ei.prototype=Object.create(Error.prototype),ei.prototype.constructor=ei}function rb(r,e){return new Promise(function(t,n){var a=new Zn(r,e);if(a.signal&&a.signal.aborted)return n(new ei("Aborted","AbortError"));var i=new XMLHttpRequest;function o(){i.abort()}i.onload=function(){var u={status:i.status,statusText:i.statusText,headers:x4(i.getAllResponseHeaders()||"")};u.url="responseURL"in i?i.responseURL:u.headers.get("X-Request-URL");var h="response"in i?i.response:i.responseText;setTimeout(function(){t(new dn(h,u))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.onabort=function(){setTimeout(function(){n(new ei("Aborted","AbortError"))},0)};function c(u){try{return u===""&&Dr.location.href?Dr.location.href:u}catch(h){return u}}i.open(a.method,c(a.url),!0),a.credentials==="include"?i.withCredentials=!0:a.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(Fr.blob?i.responseType="blob":Fr.arrayBuffer&&a.headers.get("Content-Type")&&a.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(i.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof xr)?Object.getOwnPropertyNames(e.headers).forEach(function(u){i.setRequestHeader(u,Eh(e.headers[u]))}):a.headers.forEach(function(u,h){i.setRequestHeader(h,u)}),a.signal&&(a.signal.addEventListener("abort",o),i.onreadystatechange=function(){i.readyState===4&&a.signal.removeEventListener("abort",o)}),i.send(typeof a._bodyInit=="undefined"?null:a._bodyInit)})}rb.polyfill=!0,Dr.fetch||(Dr.fetch=rb,Dr.Headers=xr,Dr.Request=Zn,Dr.Response=dn);var E4=self.fetch.bind(self);const M4=fi(E4);function nb(r){return new Gr(function(e,t){return new ar(function(n){var a,i,o;try{a=t(e).subscribe({next:function(c){if(c.errors&&(o=r({graphQLErrors:c.errors,response:c,operation:e,forward:t}),o)){i=o.subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return}n.next(c)},error:function(c){if(o=r({operation:e,networkError:c,graphQLErrors:c&&c.result&&c.result.errors,forward:t}),o){i=o.subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return}n.error(c)},complete:function(){o||n.complete.bind(n)()}})}catch(c){r({networkError:c,operation:e,forward:t}),n.error(c)}return function(){a&&a.unsubscribe(),i&&a.unsubscribe()}})})}(function(r){Xr(e,r);function e(t){var n=r.call(this)||this;return n.link=nb(t),n}return e.prototype.request=function(t,n){return this.link.request(t,n)},e})(Gr);class A4 extends ay{constructor(e){super(e)}request(e,t){return t(e)}}var ib={exports:{}};/*!
 * Pusher JavaScript Library v7.6.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(r,e){(function(n,a){r.exports=a()})(window,function(){return function(t){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=t,a.c=n,a.d=function(i,o,c){a.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:c})},a.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,o){if(o&1&&(i=a(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var u in i)a.d(c,u,function(h){return i[h]}.bind(null,u));return c},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=2)}([function(t,n,a){var i=this&&this.__extends||function(){var w=function(E,x){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,L){P.__proto__=L}||function(P,L){for(var U in L)L.hasOwnProperty(U)&&(P[U]=L[U])},w(E,x)};return function(E,x){w(E,x);function P(){this.constructor=E}E.prototype=x===null?Object.create(x):(P.prototype=x.prototype,new P)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=256,c=function(){function w(E){E===void 0&&(E="="),this._paddingCharacter=E}return w.prototype.encodedLength=function(E){return this._paddingCharacter?(E+2)/3*4|0:(E*8+5)/6|0},w.prototype.encode=function(E){for(var x="",P=0;P<E.length-2;P+=3){var L=E[P]<<16|E[P+1]<<8|E[P+2];x+=this._encodeByte(L>>>3*6&63),x+=this._encodeByte(L>>>2*6&63),x+=this._encodeByte(L>>>1*6&63),x+=this._encodeByte(L>>>0*6&63)}var U=E.length-P;if(U>0){var L=E[P]<<16|(U===2?E[P+1]<<8:0);x+=this._encodeByte(L>>>3*6&63),x+=this._encodeByte(L>>>2*6&63),U===2?x+=this._encodeByte(L>>>1*6&63):x+=this._paddingCharacter||"",x+=this._paddingCharacter||""}return x},w.prototype.maxDecodedLength=function(E){return this._paddingCharacter?E/4*3|0:(E*6+7)/8|0},w.prototype.decodedLength=function(E){return this.maxDecodedLength(E.length-this._getPaddingLength(E))},w.prototype.decode=function(E){if(E.length===0)return new Uint8Array(0);for(var x=this._getPaddingLength(E),P=E.length-x,L=new Uint8Array(this.maxDecodedLength(P)),U=0,z=0,W=0,re=0,ie=0,se=0,ve=0;z<P-4;z+=4)re=this._decodeChar(E.charCodeAt(z+0)),ie=this._decodeChar(E.charCodeAt(z+1)),se=this._decodeChar(E.charCodeAt(z+2)),ve=this._decodeChar(E.charCodeAt(z+3)),L[U++]=re<<2|ie>>>4,L[U++]=ie<<4|se>>>2,L[U++]=se<<6|ve,W|=re&o,W|=ie&o,W|=se&o,W|=ve&o;if(z<P-1&&(re=this._decodeChar(E.charCodeAt(z)),ie=this._decodeChar(E.charCodeAt(z+1)),L[U++]=re<<2|ie>>>4,W|=re&o,W|=ie&o),z<P-2&&(se=this._decodeChar(E.charCodeAt(z+2)),L[U++]=ie<<4|se>>>2,W|=se&o),z<P-3&&(ve=this._decodeChar(E.charCodeAt(z+3)),L[U++]=se<<6|ve,W|=ve&o),W!==0)throw new Error("Base64Coder: incorrect characters for decoding");return L},w.prototype._encodeByte=function(E){var x=E;return x+=65,x+=25-E>>>8&6,x+=51-E>>>8&-75,x+=61-E>>>8&-15,x+=62-E>>>8&3,String.fromCharCode(x)},w.prototype._decodeChar=function(E){var x=o;return x+=(42-E&E-44)>>>8&-o+E-43+62,x+=(46-E&E-48)>>>8&-o+E-47+63,x+=(47-E&E-58)>>>8&-o+E-48+52,x+=(64-E&E-91)>>>8&-o+E-65+0,x+=(96-E&E-123)>>>8&-o+E-97+26,x},w.prototype._getPaddingLength=function(E){var x=0;if(this._paddingCharacter){for(var P=E.length-1;P>=0&&E[P]===this._paddingCharacter;P--)x++;if(E.length<4||x>2)throw new Error("Base64Coder: incorrect padding")}return x},w}();n.Coder=c;var u=new c;function h(w){return u.encode(w)}n.encode=h;function f(w){return u.decode(w)}n.decode=f;var d=function(w){i(E,w);function E(){return w!==null&&w.apply(this,arguments)||this}return E.prototype._encodeByte=function(x){var P=x;return P+=65,P+=25-x>>>8&6,P+=51-x>>>8&-75,P+=61-x>>>8&-13,P+=62-x>>>8&49,String.fromCharCode(P)},E.prototype._decodeChar=function(x){var P=o;return P+=(44-x&x-46)>>>8&-o+x-45+62,P+=(94-x&x-96)>>>8&-o+x-95+63,P+=(47-x&x-58)>>>8&-o+x-48+52,P+=(64-x&x-91)>>>8&-o+x-65+0,P+=(96-x&x-123)>>>8&-o+x-97+26,P},E}(c);n.URLSafeCoder=d;var l=new d;function y(w){return l.encode(w)}n.encodeURLSafe=y;function m(w){return l.decode(w)}n.decodeURLSafe=m,n.encodedLength=function(w){return u.encodedLength(w)},n.maxDecodedLength=function(w){return u.maxDecodedLength(w)},n.decodedLength=function(w){return u.decodedLength(w)}},function(t,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i="utf8: invalid string",o="utf8: invalid source encoding";function c(f){for(var d=new Uint8Array(u(f)),l=0,y=0;y<f.length;y++){var m=f.charCodeAt(y);m<128?d[l++]=m:m<2048?(d[l++]=192|m>>6,d[l++]=128|m&63):m<55296?(d[l++]=224|m>>12,d[l++]=128|m>>6&63,d[l++]=128|m&63):(y++,m=(m&1023)<<10,m|=f.charCodeAt(y)&1023,m+=65536,d[l++]=240|m>>18,d[l++]=128|m>>12&63,d[l++]=128|m>>6&63,d[l++]=128|m&63)}return d}n.encode=c;function u(f){for(var d=0,l=0;l<f.length;l++){var y=f.charCodeAt(l);if(y<128)d+=1;else if(y<2048)d+=2;else if(y<55296)d+=3;else if(y<=57343){if(l>=f.length-1)throw new Error(i);l++,d+=4}else throw new Error(i)}return d}n.encodedLength=u;function h(f){for(var d=[],l=0;l<f.length;l++){var y=f[l];if(y&128){var m=void 0;if(y<224){if(l>=f.length)throw new Error(o);var w=f[++l];if((w&192)!==128)throw new Error(o);y=(y&31)<<6|w&63,m=128}else if(y<240){if(l>=f.length-1)throw new Error(o);var w=f[++l],E=f[++l];if((w&192)!==128||(E&192)!==128)throw new Error(o);y=(y&15)<<12|(w&63)<<6|E&63,m=2048}else if(y<248){if(l>=f.length-2)throw new Error(o);var w=f[++l],E=f[++l],x=f[++l];if((w&192)!==128||(E&192)!==128||(x&192)!==128)throw new Error(o);y=(y&15)<<18|(w&63)<<12|(E&63)<<6|x&63,m=65536}else throw new Error(o);if(y<m||y>=55296&&y<=57343)throw new Error(o);if(y>=65536){if(y>1114111)throw new Error(o);y-=65536,d.push(String.fromCharCode(55296|y>>10)),y=56320|y&1023}}d.push(String.fromCharCode(y))}return d.join("")}n.decode=h},function(t,n,a){t.exports=a(3).default},function(t,n,a){a.r(n);var i=function(){function C(k,O){this.lastId=0,this.prefix=k,this.name=O}return C.prototype.create=function(k){this.lastId++;var O=this.lastId,H=this.prefix+O,V=this.name+"["+O+"]",te=!1,Ee=function(){te||(k.apply(null,arguments),te=!0)};return this[O]=Ee,{number:O,id:H,name:V,callback:Ee}},C.prototype.remove=function(k){delete this[k.number]},C}(),o=new i("_pusher_script_","Pusher.ScriptReceivers"),c={VERSION:"7.6.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},u=c,h=function(){function C(k){this.options=k,this.receivers=k.receivers||o,this.loading={}}return C.prototype.load=function(k,O,H){var V=this;if(V.loading[k]&&V.loading[k].length>0)V.loading[k].push(H);else{V.loading[k]=[H];var te=Dt.createScriptRequest(V.getPath(k,O)),Ee=V.receivers.create(function(Ke){if(V.receivers.remove(Ee),V.loading[k]){var At=V.loading[k];delete V.loading[k];for(var ct=function(wr){wr||te.cleanup()},zt=0;zt<At.length;zt++)At[zt](Ke,ct)}});te.send(Ee)}},C.prototype.getRoot=function(k){var O,H=Dt.getDocument().location.protocol;return k&&k.useTLS||H==="https:"?O=this.options.cdn_https:O=this.options.cdn_http,O.replace(/\/*$/,"")+"/"+this.options.version},C.prototype.getPath=function(k,O){return this.getRoot(O)+"/"+k+this.options.suffix+".js"},C}(),f=h,d=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),l=new f({cdn_http:u.cdn_http,cdn_https:u.cdn_https,version:u.VERSION,suffix:u.dependency_suffix,receivers:d}),y={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},m=function(C){var k="See:",O=y.urls[C];if(!O)return"";var H;return O.fullUrl?H=O.fullUrl:O.path&&(H=y.baseUrl+O.path),H?k+" "+H:""},w={buildLogSuffix:m},E;(function(C){C.UserAuthentication="user-authentication",C.ChannelAuthorization="channel-authorization"})(E||(E={}));var x=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),P=function(C){x(k,C);function k(O){var H=this.constructor,V=C.call(this,O)||this;return Object.setPrototypeOf(V,H.prototype),V}return k}(Error),L=function(C){x(k,C);function k(O){var H=this.constructor,V=C.call(this,O)||this;return Object.setPrototypeOf(V,H.prototype),V}return k}(Error),U=function(C){x(k,C);function k(O){var H=this.constructor,V=C.call(this,O)||this;return Object.setPrototypeOf(V,H.prototype),V}return k}(Error),z=function(C){x(k,C);function k(O){var H=this.constructor,V=C.call(this,O)||this;return Object.setPrototypeOf(V,H.prototype),V}return k}(Error),W=function(C){x(k,C);function k(O){var H=this.constructor,V=C.call(this,O)||this;return Object.setPrototypeOf(V,H.prototype),V}return k}(Error),re=function(C){x(k,C);function k(O){var H=this.constructor,V=C.call(this,O)||this;return Object.setPrototypeOf(V,H.prototype),V}return k}(Error),ie=function(C){x(k,C);function k(O){var H=this.constructor,V=C.call(this,O)||this;return Object.setPrototypeOf(V,H.prototype),V}return k}(Error),se=function(C){x(k,C);function k(O){var H=this.constructor,V=C.call(this,O)||this;return Object.setPrototypeOf(V,H.prototype),V}return k}(Error),ve=function(C){x(k,C);function k(O,H){var V=this.constructor,te=C.call(this,H)||this;return te.status=O,Object.setPrototypeOf(te,V.prototype),te}return k}(Error),Q=function(C,k,O,H,V){var te=Dt.createXHR();te.open("POST",O.endpoint,!0),te.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Ee in O.headers)te.setRequestHeader(Ee,O.headers[Ee]);if(O.headersProvider!=null){var Ke=O.headersProvider();for(var Ee in Ke)te.setRequestHeader(Ee,Ke[Ee])}return te.onreadystatechange=function(){if(te.readyState===4)if(te.status===200){var At=void 0,ct=!1;try{At=JSON.parse(te.responseText),ct=!0}catch(wr){V(new ve(200,"JSON returned from "+H.toString()+" endpoint was invalid, yet status code was 200. Data was: "+te.responseText),null)}ct&&V(null,At)}else{var zt="";switch(H){case E.UserAuthentication:zt=w.buildLogSuffix("authenticationEndpoint");break;case E.ChannelAuthorization:zt="Clients must be authorized to join private or presence channels. "+w.buildLogSuffix("authorizationEndpoint");break}V(new ve(te.status,"Unable to retrieve auth string from "+H.toString()+" endpoint - "+("received status: "+te.status+" from "+O.endpoint+". "+zt)),null)}},te.send(k),te},M=Q;function b(C){return R(A(C))}var s=String.fromCharCode,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=function(C){var k=C.charCodeAt(0);return k<128?C:k<2048?s(192|k>>>6)+s(128|k&63):s(224|k>>>12&15)+s(128|k>>>6&63)+s(128|k&63)},A=function(C){return C.replace(/[^\x00-\x7F]/g,g)},I=function(C){var k=[0,2,1][C.length%3],O=C.charCodeAt(0)<<16|(C.length>1?C.charCodeAt(1):0)<<8|(C.length>2?C.charCodeAt(2):0),H=[v.charAt(O>>>18),v.charAt(O>>>12&63),k>=2?"=":v.charAt(O>>>6&63),k>=1?"=":v.charAt(O&63)];return H.join("")},R=window.btoa||function(C){return C.replace(/[\s\S]{1,3}/g,I)},S=function(){function C(k,O,H,V){var te=this;this.clear=O,this.timer=k(function(){te.timer&&(te.timer=V(te.timer))},H)}return C.prototype.isRunning=function(){return this.timer!==null},C.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},C}(),T=S,p=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}();function B(C){window.clearTimeout(C)}function ee(C){window.clearInterval(C)}var oe=function(C){p(k,C);function k(O,H){return C.call(this,setTimeout,B,O,function(V){return H(),null})||this}return k}(T),Z=function(C){p(k,C);function k(O,H){return C.call(this,setInterval,ee,O,function(V){return H(),V})||this}return k}(T),ne={now:function(){return Date.now?Date.now():new Date().valueOf()},defer:function(C){return new oe(0,C)},method:function(C){var k=Array.prototype.slice.call(arguments,1);return function(O){return O[C].apply(O,k.concat(arguments))}}},fe=ne;function le(C){for(var k=[],O=1;O<arguments.length;O++)k[O-1]=arguments[O];for(var H=0;H<k.length;H++){var V=k[H];for(var te in V)V[te]&&V[te].constructor&&V[te].constructor===Object?C[te]=le(C[te]||{},V[te]):C[te]=V[te]}return C}function ke(){for(var C=["Pusher"],k=0;k<arguments.length;k++)typeof arguments[k]=="string"?C.push(arguments[k]):C.push(dt(arguments[k]));return C.join(" : ")}function X(C,k){var O=Array.prototype.indexOf;if(C===null)return-1;if(O&&C.indexOf===O)return C.indexOf(k);for(var H=0,V=C.length;H<V;H++)if(C[H]===k)return H;return-1}function G(C,k){for(var O in C)Object.prototype.hasOwnProperty.call(C,O)&&k(C[O],O,C)}function _e(C){var k=[];return G(C,function(O,H){k.push(H)}),k}function Ae(C){var k=[];return G(C,function(O){k.push(O)}),k}function Oe(C,k,O){for(var H=0;H<C.length;H++)k.call(O||window,C[H],H,C)}function qe(C,k){for(var O=[],H=0;H<C.length;H++)O.push(k(C[H],H,C,O));return O}function Ue(C,k){var O={};return G(C,function(H,V){O[V]=k(H)}),O}function ze(C,k){k=k||function(V){return!!V};for(var O=[],H=0;H<C.length;H++)k(C[H],H,C,O)&&O.push(C[H]);return O}function ge(C,k){var O={};return G(C,function(H,V){(k&&k(H,V,C,O)||H)&&(O[V]=H)}),O}function lt(C){var k=[];return G(C,function(O,H){k.push([H,O])}),k}function je(C,k){for(var O=0;O<C.length;O++)if(k(C[O],O,C))return!0;return!1}function Et(C,k){for(var O=0;O<C.length;O++)if(!k(C[O],O,C))return!1;return!0}function ot(C){return Ue(C,function(k){return typeof k=="object"&&(k=dt(k)),encodeURIComponent(b(k.toString()))})}function Ve(C){var k=ge(C,function(H){return H!==void 0}),O=qe(lt(ot(k)),fe.method("join","=")).join("&");return O}function Mt(C){var k=[],O=[];return function H(V,te){var Ee,Ke,At;switch(typeof V){case"object":if(!V)return null;for(Ee=0;Ee<k.length;Ee+=1)if(k[Ee]===V)return{$ref:O[Ee]};if(k.push(V),O.push(te),Object.prototype.toString.apply(V)==="[object Array]")for(At=[],Ee=0;Ee<V.length;Ee+=1)At[Ee]=H(V[Ee],te+"["+Ee+"]");else{At={};for(Ke in V)Object.prototype.hasOwnProperty.call(V,Ke)&&(At[Ke]=H(V[Ke],te+"["+JSON.stringify(Ke)+"]"))}return At;case"number":case"string":case"boolean":return V}}(C,"$")}function dt(C){try{return JSON.stringify(C)}catch(k){return JSON.stringify(Mt(C))}}var Xe=function(){function C(){this.globalLog=function(k){window.console&&window.console.log&&window.console.log(k)}}return C.prototype.debug=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];this.log(this.globalLog,k)},C.prototype.warn=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];this.log(this.globalLogWarn,k)},C.prototype.error=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];this.log(this.globalLogError,k)},C.prototype.globalLogWarn=function(k){window.console&&window.console.warn?window.console.warn(k):this.globalLog(k)},C.prototype.globalLogError=function(k){window.console&&window.console.error?window.console.error(k):this.globalLogWarn(k)},C.prototype.log=function(k){var O=ke.apply(this,arguments);if(Bh.log)Bh.log(O);else if(Bh.logToConsole){var H=k.bind(this);H(O)}},C}(),st=new Xe,gt=function(C,k,O,H,V){(O.headers!==void 0||O.headersProvider!=null)&&st.warn("To send headers with the "+H.toString()+" request, you must use AJAX, rather than JSONP.");var te=C.nextAuthCallbackID.toString();C.nextAuthCallbackID++;var Ee=C.getDocument(),Ke=Ee.createElement("script");C.auth_callbacks[te]=function(zt){V(null,zt)};var At="Pusher.auth_callbacks['"+te+"']";Ke.src=O.endpoint+"?callback="+encodeURIComponent(At)+"&"+k;var ct=Ee.getElementsByTagName("head")[0]||Ee.documentElement;ct.insertBefore(Ke,ct.firstChild)},K=gt,q=function(){function C(k){this.src=k}return C.prototype.send=function(k){var O=this,H="Error loading "+O.src;O.script=document.createElement("script"),O.script.id=k.id,O.script.src=O.src,O.script.type="text/javascript",O.script.charset="UTF-8",O.script.addEventListener?(O.script.onerror=function(){k.callback(H)},O.script.onload=function(){k.callback(null)}):O.script.onreadystatechange=function(){(O.script.readyState==="loaded"||O.script.readyState==="complete")&&k.callback(null)},O.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(O.errorScript=document.createElement("script"),O.errorScript.id=k.id+"_error",O.errorScript.text=k.name+"('"+H+"');",O.script.async=O.errorScript.async=!1):O.script.async=!0;var V=document.getElementsByTagName("head")[0];V.insertBefore(O.script,V.firstChild),O.errorScript&&V.insertBefore(O.errorScript,O.script.nextSibling)},C.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},C}(),F=q,J=function(){function C(k,O){this.url=k,this.data=O}return C.prototype.send=function(k){if(!this.request){var O=Ve(this.data),H=this.url+"/"+k.number+"?"+O;this.request=Dt.createScriptRequest(H),this.request.send(k)}},C.prototype.cleanup=function(){this.request&&this.request.cleanup()},C}(),he=J,de=function(C,k){return function(O,H){var V="http"+(k?"s":"")+"://",te=V+(C.host||C.options.host)+C.options.path,Ee=Dt.createJSONPRequest(te,O),Ke=Dt.ScriptReceivers.create(function(At,ct){o.remove(Ke),Ee.cleanup(),ct&&ct.host&&(C.host=ct.host),H&&H(At,ct)});Ee.send(Ke)}},pe={name:"jsonp",getAgent:de},Je=pe;function tt(C,k,O){var H=C+(k.useTLS?"s":""),V=k.useTLS?k.hostTLS:k.hostNonTLS;return H+"://"+V+O}function Ne(C,k){var O="/app/"+C,H="?protocol="+u.PROTOCOL+"&client=js&version="+u.VERSION+(k?"&"+k:"");return O+H}var St={getInitial:function(C,k){var O=(k.httpPath||"")+Ne(C,"flash=false");return tt("ws",k,O)}},rt={getInitial:function(C,k){var O=(k.httpPath||"/pusher")+Ne(C);return tt("http",k,O)}},pt={getInitial:function(C,k){return tt("http",k,k.httpPath||"/pusher")},getPath:function(C,k){return Ne(C)}},er=function(){function C(){this._callbacks={}}return C.prototype.get=function(k){return this._callbacks[at(k)]},C.prototype.add=function(k,O,H){var V=at(k);this._callbacks[V]=this._callbacks[V]||[],this._callbacks[V].push({fn:O,context:H})},C.prototype.remove=function(k,O,H){if(!k&&!O&&!H){this._callbacks={};return}var V=k?[at(k)]:_e(this._callbacks);O||H?this.removeCallback(V,O,H):this.removeAllCallbacks(V)},C.prototype.removeCallback=function(k,O,H){Oe(k,function(V){this._callbacks[V]=ze(this._callbacks[V]||[],function(te){return O&&O!==te.fn||H&&H!==te.context}),this._callbacks[V].length===0&&delete this._callbacks[V]},this)},C.prototype.removeAllCallbacks=function(k){Oe(k,function(O){delete this._callbacks[O]},this)},C}(),mt=er;function at(C){return"_"+C}var jt=function(){function C(k){this.callbacks=new mt,this.global_callbacks=[],this.failThrough=k}return C.prototype.bind=function(k,O,H){return this.callbacks.add(k,O,H),this},C.prototype.bind_global=function(k){return this.global_callbacks.push(k),this},C.prototype.unbind=function(k,O,H){return this.callbacks.remove(k,O,H),this},C.prototype.unbind_global=function(k){return k?(this.global_callbacks=ze(this.global_callbacks||[],function(O){return O!==k}),this):(this.global_callbacks=[],this)},C.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},C.prototype.emit=function(k,O,H){for(var V=0;V<this.global_callbacks.length;V++)this.global_callbacks[V](k,O);var te=this.callbacks.get(k),Ee=[];if(H?Ee.push(O,H):O&&Ee.push(O),te&&te.length>0)for(var V=0;V<te.length;V++)te[V].fn.apply(te[V].context||window,Ee);else this.failThrough&&this.failThrough(k,O);return this},C}(),_t=jt,ft=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),Yt=function(C){ft(k,C);function k(O,H,V,te,Ee){var Ke=C.call(this)||this;return Ke.initialize=Dt.transportConnectionInitializer,Ke.hooks=O,Ke.name=H,Ke.priority=V,Ke.key=te,Ke.options=Ee,Ke.state="new",Ke.timeline=Ee.timeline,Ke.activityTimeout=Ee.activityTimeout,Ke.id=Ke.timeline.generateUniqueID(),Ke}return k.prototype.handlesActivityChecks=function(){return!!this.hooks.handlesActivityChecks},k.prototype.supportsPing=function(){return!!this.hooks.supportsPing},k.prototype.connect=function(){var O=this;if(this.socket||this.state!=="initialized")return!1;var H=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(H,this.options)}catch(V){return fe.defer(function(){O.onError(V),O.changeState("closed")}),!1}return this.bindListeners(),st.debug("Connecting",{transport:this.name,url:H}),this.changeState("connecting"),!0},k.prototype.close=function(){return this.socket?(this.socket.close(),!0):!1},k.prototype.send=function(O){var H=this;return this.state==="open"?(fe.defer(function(){H.socket&&H.socket.send(O)}),!0):!1},k.prototype.ping=function(){this.state==="open"&&this.supportsPing()&&this.socket.ping()},k.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},k.prototype.onError=function(O){this.emit("error",{type:"WebSocketError",error:O}),this.timeline.error(this.buildTimelineMessage({error:O.toString()}))},k.prototype.onClose=function(O){O?this.changeState("closed",{code:O.code,reason:O.reason,wasClean:O.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},k.prototype.onMessage=function(O){this.emit("message",O)},k.prototype.onActivity=function(){this.emit("activity")},k.prototype.bindListeners=function(){var O=this;this.socket.onopen=function(){O.onOpen()},this.socket.onerror=function(H){O.onError(H)},this.socket.onclose=function(H){O.onClose(H)},this.socket.onmessage=function(H){O.onMessage(H)},this.supportsPing()&&(this.socket.onactivity=function(){O.onActivity()})},k.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},k.prototype.changeState=function(O,H){this.state=O,this.timeline.info(this.buildTimelineMessage({state:O,params:H})),this.emit(O,H)},k.prototype.buildTimelineMessage=function(O){return le({cid:this.id},O)},k}(_t),Tt=Yt,Ze=function(){function C(k){this.hooks=k}return C.prototype.isSupported=function(k){return this.hooks.isSupported(k)},C.prototype.createConnection=function(k,O,H,V){return new Tt(this.hooks,k,O,H,V)},C}(),$t=Ze,$=new $t({urls:St,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!Dt.getWebSocketAPI()},isSupported:function(){return!!Dt.getWebSocketAPI()},getSocket:function(C){return Dt.createWebSocket(C)}}),N={urls:rt,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},D=le({getSocket:function(C){return Dt.HTTPFactory.createStreamingSocket(C)}},N),_=le({getSocket:function(C){return Dt.HTTPFactory.createPollingSocket(C)}},N),j={isSupported:function(){return Dt.isXHRSupported()}},Y=new $t(le({},D,j)),ae=new $t(le({},_,j)),ce={ws:$,xhr_streaming:Y,xhr_polling:ae},me=ce,Me=new $t({file:"sockjs",urls:pt,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(C,k){return new window.SockJS(C,null,{js_path:l.getPath("sockjs",{useTLS:k.useTLS}),ignore_null_origin:k.ignoreNullOrigin})},beforeOpen:function(C,k){C.send(JSON.stringify({path:k}))}}),Se={isSupported:function(C){var k=Dt.isXDRSupported(C.useTLS);return k}},Ge=new $t(le({},D,Se)),Be=new $t(le({},_,Se));me.xdr_streaming=Ge,me.xdr_polling=Be,me.sockjs=Me;var Ye=me,Pe=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),et=function(C){Pe(k,C);function k(){var O=C.call(this)||this,H=O;return window.addEventListener!==void 0&&(window.addEventListener("online",function(){H.emit("online")},!1),window.addEventListener("offline",function(){H.emit("offline")},!1)),O}return k.prototype.isOnline=function(){return window.navigator.onLine===void 0?!0:window.navigator.onLine},k}(_t),nt=new et,Qe=function(){function C(k,O,H){this.manager=k,this.transport=O,this.minPingDelay=H.minPingDelay,this.maxPingDelay=H.maxPingDelay,this.pingDelay=void 0}return C.prototype.createConnection=function(k,O,H,V){var te=this;V=le({},V,{activityTimeout:this.pingDelay});var Ee=this.transport.createConnection(k,O,H,V),Ke=null,At=function(){Ee.unbind("open",At),Ee.bind("closed",ct),Ke=fe.now()},ct=function(zt){if(Ee.unbind("closed",ct),zt.code===1002||zt.code===1003)te.manager.reportDeath();else if(!zt.wasClean&&Ke){var wr=fe.now()-Ke;wr<2*te.maxPingDelay&&(te.manager.reportDeath(),te.pingDelay=Math.max(wr/2,te.minPingDelay))}};return Ee.bind("open",At),Ee},C.prototype.isSupported=function(k){return this.manager.isAlive()&&this.transport.isSupported(k)},C}(),vt=Qe,ut={decodeMessage:function(C){try{var k=JSON.parse(C.data),O=k.data;if(typeof O=="string")try{O=JSON.parse(k.data)}catch(V){}var H={event:k.event,channel:k.channel,data:O};return k.user_id&&(H.user_id=k.user_id),H}catch(V){throw{type:"MessageParseError",error:V,data:C.data}}},encodeMessage:function(C){return JSON.stringify(C)},processHandshake:function(C){var k=ut.decodeMessage(C);if(k.event==="pusher:connection_established"){if(!k.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:k.data.socket_id,activityTimeout:k.data.activity_timeout*1e3}}else{if(k.event==="pusher:error")return{action:this.getCloseAction(k.data),error:this.getCloseError(k.data)};throw"Invalid handshake"}},getCloseAction:function(C){return C.code<4e3?C.code>=1002&&C.code<=1004?"backoff":null:C.code===4e3?"tls_only":C.code<4100?"refused":C.code<4200?"backoff":C.code<4300?"retry":"refused"},getCloseError:function(C){return C.code!==1e3&&C.code!==1001?{type:"PusherError",data:{code:C.code,message:C.reason||C.message}}:null}},Le=ut,it=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),$e=function(C){it(k,C);function k(O,H){var V=C.call(this)||this;return V.id=O,V.transport=H,V.activityTimeout=H.activityTimeout,V.bindListeners(),V}return k.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},k.prototype.send=function(O){return this.transport.send(O)},k.prototype.send_event=function(O,H,V){var te={event:O,data:H};return V&&(te.channel=V),st.debug("Event sent",te),this.send(Le.encodeMessage(te))},k.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},k.prototype.close=function(){this.transport.close()},k.prototype.bindListeners=function(){var O=this,H={message:function(te){var Ee;try{Ee=Le.decodeMessage(te)}catch(Ke){O.emit("error",{type:"MessageParseError",error:Ke,data:te.data})}if(Ee!==void 0){switch(st.debug("Event recd",Ee),Ee.event){case"pusher:error":O.emit("error",{type:"PusherError",data:Ee.data});break;case"pusher:ping":O.emit("ping");break;case"pusher:pong":O.emit("pong");break}O.emit("message",Ee)}},activity:function(){O.emit("activity")},error:function(te){O.emit("error",te)},closed:function(te){V(),te&&te.code&&O.handleCloseEvent(te),O.transport=null,O.emit("closed")}},V=function(){G(H,function(te,Ee){O.transport.unbind(Ee,te)})};G(H,function(te,Ee){O.transport.bind(Ee,te)})},k.prototype.handleCloseEvent=function(O){var H=Le.getCloseAction(O),V=Le.getCloseError(O);V&&this.emit("error",V),H&&this.emit(H,{action:H,error:V})},k}(_t),He=$e,We=function(){function C(k,O){this.transport=k,this.callback=O,this.bindListeners()}return C.prototype.close=function(){this.unbindListeners(),this.transport.close()},C.prototype.bindListeners=function(){var k=this;this.onMessage=function(O){k.unbindListeners();var H;try{H=Le.processHandshake(O)}catch(V){k.finish("error",{error:V}),k.transport.close();return}H.action==="connected"?k.finish("connected",{connection:new He(H.id,k.transport),activityTimeout:H.activityTimeout}):(k.finish(H.action,{error:H.error}),k.transport.close())},this.onClosed=function(O){k.unbindListeners();var H=Le.getCloseAction(O)||"backoff",V=Le.getCloseError(O);k.finish(H,{error:V})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},C.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},C.prototype.finish=function(k,O){this.callback(le({transport:this.transport,action:k},O))},C}(),Fe=We,ye=function(){function C(k,O){this.timeline=k,this.options=O||{}}return C.prototype.send=function(k,O){this.timeline.isEmpty()||this.timeline.send(Dt.TimelineTransport.getAgent(this,k),O)},C}(),be=ye,Re=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),Te=function(C){Re(k,C);function k(O,H){var V=C.call(this,function(te,Ee){st.debug("No callbacks on "+O+" for "+te)})||this;return V.name=O,V.pusher=H,V.subscribed=!1,V.subscriptionPending=!1,V.subscriptionCancelled=!1,V}return k.prototype.authorize=function(O,H){return H(null,{auth:""})},k.prototype.trigger=function(O,H){if(O.indexOf("client-")!==0)throw new P("Event '"+O+"' does not start with 'client-'");if(!this.subscribed){var V=w.buildLogSuffix("triggeringClientEvents");st.warn("Client event triggered before channel 'subscription_succeeded' event . "+V)}return this.pusher.send_event(O,H,this.name)},k.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},k.prototype.handleEvent=function(O){var H=O.event,V=O.data;if(H==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(O);else if(H==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(O);else if(H.indexOf("pusher_internal:")!==0){var te={};this.emit(H,V,te)}},k.prototype.handleSubscriptionSucceededEvent=function(O){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",O.data)},k.prototype.handleSubscriptionCountEvent=function(O){O.data.subscription_count&&(this.subscriptionCount=O.data.subscription_count),this.emit("pusher:subscription_count",O.data)},k.prototype.subscribe=function(){var O=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(H,V){H?(O.subscriptionPending=!1,st.error(H.toString()),O.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:H.message},H instanceof ve?{status:H.status}:{}))):O.pusher.send_event("pusher:subscribe",{auth:V.auth,channel_data:V.channel_data,channel:O.name})}))},k.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},k.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},k.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},k}(_t),Ie=Te,De=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),xt=function(C){De(k,C);function k(){return C!==null&&C.apply(this,arguments)||this}return k.prototype.authorize=function(O,H){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:O},H)},k}(Ie),It=xt,Ct=function(){function C(){this.reset()}return C.prototype.get=function(k){return Object.prototype.hasOwnProperty.call(this.members,k)?{id:k,info:this.members[k]}:null},C.prototype.each=function(k){var O=this;G(this.members,function(H,V){k(O.get(V))})},C.prototype.setMyID=function(k){this.myID=k},C.prototype.onSubscription=function(k){this.members=k.presence.hash,this.count=k.presence.count,this.me=this.get(this.myID)},C.prototype.addMember=function(k){return this.get(k.user_id)===null&&this.count++,this.members[k.user_id]=k.user_info,this.get(k.user_id)},C.prototype.removeMember=function(k){var O=this.get(k.user_id);return O&&(delete this.members[k.user_id],this.count--),O},C.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},C}(),kt=Ct,ue=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),qt=function(C,k,O,H){function V(te){return te instanceof O?te:new O(function(Ee){Ee(te)})}return new(O||(O=Promise))(function(te,Ee){function Ke(zt){try{ct(H.next(zt))}catch(wr){Ee(wr)}}function At(zt){try{ct(H.throw(zt))}catch(wr){Ee(wr)}}function ct(zt){zt.done?te(zt.value):V(zt.value).then(Ke,At)}ct((H=H.apply(C,k||[])).next())})},Qt=function(C,k){var O={label:0,sent:function(){if(te[0]&1)throw te[1];return te[1]},trys:[],ops:[]},H,V,te,Ee;return Ee={next:Ke(0),throw:Ke(1),return:Ke(2)},typeof Symbol=="function"&&(Ee[Symbol.iterator]=function(){return this}),Ee;function Ke(ct){return function(zt){return At([ct,zt])}}function At(ct){if(H)throw new TypeError("Generator is already executing.");for(;O;)try{if(H=1,V&&(te=ct[0]&2?V.return:ct[0]?V.throw||((te=V.return)&&te.call(V),0):V.next)&&!(te=te.call(V,ct[1])).done)return te;switch(V=0,te&&(ct=[ct[0]&2,te.value]),ct[0]){case 0:case 1:te=ct;break;case 4:return O.label++,{value:ct[1],done:!1};case 5:O.label++,V=ct[1],ct=[0];continue;case 7:ct=O.ops.pop(),O.trys.pop();continue;default:if(te=O.trys,!(te=te.length>0&&te[te.length-1])&&(ct[0]===6||ct[0]===2)){O=0;continue}if(ct[0]===3&&(!te||ct[1]>te[0]&&ct[1]<te[3])){O.label=ct[1];break}if(ct[0]===6&&O.label<te[1]){O.label=te[1],te=ct;break}if(te&&O.label<te[2]){O.label=te[2],O.ops.push(ct);break}te[2]&&O.ops.pop(),O.trys.pop();continue}ct=k.call(C,O)}catch(zt){ct=[6,zt],V=0}finally{H=te=0}if(ct[0]&5)throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}},Gt=function(C){ue(k,C);function k(O,H){var V=C.call(this,O,H)||this;return V.members=new kt,V}return k.prototype.authorize=function(O,H){var V=this;C.prototype.authorize.call(this,O,function(te,Ee){return qt(V,void 0,void 0,function(){var Ke,At;return Qt(this,function(ct){switch(ct.label){case 0:return te?[3,3]:(Ee=Ee,Ee.channel_data==null?[3,1]:(Ke=JSON.parse(Ee.channel_data),this.members.setMyID(Ke.user_id),[3,3]));case 1:return[4,this.pusher.user.signinDonePromise];case 2:if(ct.sent(),this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else return At=w.buildLogSuffix("authorizationEndpoint"),st.error("Invalid auth response for channel '"+this.name+"', "+("expected 'channel_data' field. "+At+", ")+"or the user should be signed in."),H("Invalid auth response"),[2];ct.label=3;case 3:return H(te,Ee),[2]}})})})},k.prototype.handleEvent=function(O){var H=O.event;if(H.indexOf("pusher_internal:")===0)this.handleInternalEvent(O);else{var V=O.data,te={};O.user_id&&(te.user_id=O.user_id),this.emit(H,V,te)}},k.prototype.handleInternalEvent=function(O){var H=O.event,V=O.data;switch(H){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(O);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(O);break;case"pusher_internal:member_added":var te=this.members.addMember(V);this.emit("pusher:member_added",te);break;case"pusher_internal:member_removed":var Ee=this.members.removeMember(V);Ee&&this.emit("pusher:member_removed",Ee);break}},k.prototype.handleSubscriptionSucceededEvent=function(O){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(O.data),this.emit("pusher:subscription_succeeded",this.members))},k.prototype.disconnect=function(){this.members.reset(),C.prototype.disconnect.call(this)},k}(It),Pt=Gt,Wt=a(1),Ht=a(0),dr=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),tr=function(C){dr(k,C);function k(O,H,V){var te=C.call(this,O,H)||this;return te.key=null,te.nacl=V,te}return k.prototype.authorize=function(O,H){var V=this;C.prototype.authorize.call(this,O,function(te,Ee){if(te){H(te,Ee);return}var Ke=Ee.shared_secret;if(!Ke){H(new Error("No shared_secret key in auth payload for encrypted channel: "+V.name),null);return}V.key=Object(Ht.decode)(Ke),delete Ee.shared_secret,H(null,Ee)})},k.prototype.trigger=function(O,H){throw new re("Client events are not currently supported for encrypted channels")},k.prototype.handleEvent=function(O){var H=O.event,V=O.data;if(H.indexOf("pusher_internal:")===0||H.indexOf("pusher:")===0){C.prototype.handleEvent.call(this,O);return}this.handleEncryptedEvent(H,V)},k.prototype.handleEncryptedEvent=function(O,H){var V=this;if(!this.key){st.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!H.ciphertext||!H.nonce){st.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+H);return}var te=Object(Ht.decode)(H.ciphertext);if(te.length<this.nacl.secretbox.overheadLength){st.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+te.length);return}var Ee=Object(Ht.decode)(H.nonce);if(Ee.length<this.nacl.secretbox.nonceLength){st.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+Ee.length);return}var Ke=this.nacl.secretbox.open(te,Ee,this.key);if(Ke===null){st.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,function(At,ct){if(At){st.error("Failed to make a request to the authEndpoint: "+ct+". Unable to fetch new key, so dropping encrypted event");return}if(Ke=V.nacl.secretbox.open(te,Ee,V.key),Ke===null){st.error("Failed to decrypt event with new key. Dropping encrypted event");return}V.emit(O,V.getDataToEmit(Ke))});return}this.emit(O,this.getDataToEmit(Ke))},k.prototype.getDataToEmit=function(O){var H=Object(Wt.decode)(O);try{return JSON.parse(H)}catch(V){return H}},k}(It),cr=tr,hr=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),lr=function(C){hr(k,C);function k(O,H){var V=C.call(this)||this;V.state="initialized",V.connection=null,V.key=O,V.options=H,V.timeline=V.options.timeline,V.usingTLS=V.options.useTLS,V.errorCallbacks=V.buildErrorCallbacks(),V.connectionCallbacks=V.buildConnectionCallbacks(V.errorCallbacks),V.handshakeCallbacks=V.buildHandshakeCallbacks(V.errorCallbacks);var te=Dt.getNetwork();return te.bind("online",function(){V.timeline.info({netinfo:"online"}),(V.state==="connecting"||V.state==="unavailable")&&V.retryIn(0)}),te.bind("offline",function(){V.timeline.info({netinfo:"offline"}),V.connection&&V.sendActivityCheck()}),V.updateStrategy(),V}return k.prototype.connect=function(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},k.prototype.send=function(O){return this.connection?this.connection.send(O):!1},k.prototype.send_event=function(O,H,V){return this.connection?this.connection.send_event(O,H,V):!1},k.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},k.prototype.isUsingTLS=function(){return this.usingTLS},k.prototype.startConnecting=function(){var O=this,H=function(V,te){V?O.runner=O.strategy.connect(0,H):te.action==="error"?(O.emit("error",{type:"HandshakeError",error:te.error}),O.timeline.error({handshakeError:te.error})):(O.abortConnecting(),O.handshakeCallbacks[te.action](te))};this.runner=this.strategy.connect(0,H)},k.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},k.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var O=this.abandonConnection();O.close()}},k.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},k.prototype.retryIn=function(O){var H=this;this.timeline.info({action:"retry",delay:O}),O>0&&this.emit("connecting_in",Math.round(O/1e3)),this.retryTimer=new oe(O||0,function(){H.disconnectInternally(),H.connect()})},k.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},k.prototype.setUnavailableTimer=function(){var O=this;this.unavailableTimer=new oe(this.options.unavailableTimeout,function(){O.updateState("unavailable")})},k.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},k.prototype.sendActivityCheck=function(){var O=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new oe(this.options.pongTimeout,function(){O.timeline.error({pong_timed_out:O.options.pongTimeout}),O.retryIn(0)})},k.prototype.resetActivityCheck=function(){var O=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new oe(this.activityTimeout,function(){O.sendActivityCheck()}))},k.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},k.prototype.buildConnectionCallbacks=function(O){var H=this;return le({},O,{message:function(V){H.resetActivityCheck(),H.emit("message",V)},ping:function(){H.send_event("pusher:pong",{})},activity:function(){H.resetActivityCheck()},error:function(V){H.emit("error",V)},closed:function(){H.abandonConnection(),H.shouldRetry()&&H.retryIn(1e3)}})},k.prototype.buildHandshakeCallbacks=function(O){var H=this;return le({},O,{connected:function(V){H.activityTimeout=Math.min(H.options.activityTimeout,V.activityTimeout,V.connection.activityTimeout||1/0),H.clearUnavailableTimer(),H.setConnection(V.connection),H.socket_id=H.connection.id,H.updateState("connected",{socket_id:H.socket_id})}})},k.prototype.buildErrorCallbacks=function(){var O=this,H=function(V){return function(te){te.error&&O.emit("error",{type:"WebSocketError",error:te.error}),V(te)}};return{tls_only:H(function(){O.usingTLS=!0,O.updateStrategy(),O.retryIn(0)}),refused:H(function(){O.disconnect()}),backoff:H(function(){O.retryIn(1e3)}),retry:H(function(){O.retryIn(0)})}},k.prototype.setConnection=function(O){this.connection=O;for(var H in this.connectionCallbacks)this.connection.bind(H,this.connectionCallbacks[H]);this.resetActivityCheck()},k.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var O in this.connectionCallbacks)this.connection.unbind(O,this.connectionCallbacks[O]);var H=this.connection;return this.connection=null,H}},k.prototype.updateState=function(O,H){var V=this.state;if(this.state=O,V!==O){var te=O;te==="connected"&&(te+=" with new socket ID "+H.socket_id),st.debug("State changed",V+" -> "+te),this.timeline.info({state:O,params:H}),this.emit("state_change",{previous:V,current:O}),this.emit(O,H)}},k.prototype.shouldRetry=function(){return this.state==="connecting"||this.state==="connected"},k}(_t),br=lr,kr=function(){function C(){this.channels={}}return C.prototype.add=function(k,O){return this.channels[k]||(this.channels[k]=Rr(k,O)),this.channels[k]},C.prototype.all=function(){return Ae(this.channels)},C.prototype.find=function(k){return this.channels[k]},C.prototype.remove=function(k){var O=this.channels[k];return delete this.channels[k],O},C.prototype.disconnect=function(){G(this.channels,function(k){k.disconnect()})},C}(),Ir=kr;function Rr(C,k){if(C.indexOf("private-encrypted-")===0){if(k.config.nacl)return En.createEncryptedChannel(C,k,k.config.nacl);var O="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",H=w.buildLogSuffix("encryptedChannelSupport");throw new re(O+". "+H)}else{if(C.indexOf("private-")===0)return En.createPrivateChannel(C,k);if(C.indexOf("presence-")===0)return En.createPresenceChannel(C,k);if(C.indexOf("#")===0)throw new L('Cannot create a channel with name "'+C+'".');return En.createChannel(C,k)}}var e_={createChannels:function(){return new Ir},createConnectionManager:function(C,k){return new br(C,k)},createChannel:function(C,k){return new Ie(C,k)},createPrivateChannel:function(C,k){return new It(C,k)},createPresenceChannel:function(C,k){return new Pt(C,k)},createEncryptedChannel:function(C,k,O){return new cr(C,k,O)},createTimelineSender:function(C,k){return new be(C,k)},createHandshake:function(C,k){return new Fe(C,k)},createAssistantToTheTransportManager:function(C,k,O){return new vt(C,k,O)}},En=e_,t_=function(){function C(k){this.options=k||{},this.livesLeft=this.options.lives||1/0}return C.prototype.getAssistant=function(k){return En.createAssistantToTheTransportManager(this,k,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},C.prototype.isAlive=function(){return this.livesLeft>0},C.prototype.reportDeath=function(){this.livesLeft-=1},C}(),cb=t_,r_=function(){function C(k,O){this.strategies=k,this.loop=!!O.loop,this.failFast=!!O.failFast,this.timeout=O.timeout,this.timeoutLimit=O.timeoutLimit}return C.prototype.isSupported=function(){return je(this.strategies,fe.method("isSupported"))},C.prototype.connect=function(k,O){var H=this,V=this.strategies,te=0,Ee=this.timeout,Ke=null,At=function(ct,zt){zt?O(null,zt):(te=te+1,H.loop&&(te=te%V.length),te<V.length?(Ee&&(Ee=Ee*2,H.timeoutLimit&&(Ee=Math.min(Ee,H.timeoutLimit))),Ke=H.tryStrategy(V[te],k,{timeout:Ee,failFast:H.failFast},At)):O(!0))};return Ke=this.tryStrategy(V[te],k,{timeout:Ee,failFast:this.failFast},At),{abort:function(){Ke.abort()},forceMinPriority:function(ct){k=ct,Ke&&Ke.forceMinPriority(ct)}}},C.prototype.tryStrategy=function(k,O,H,V){var te=null,Ee=null;return H.timeout>0&&(te=new oe(H.timeout,function(){Ee.abort(),V(!0)})),Ee=k.connect(O,function(Ke,At){Ke&&te&&te.isRunning()&&!H.failFast||(te&&te.ensureAborted(),V(Ke,At))}),{abort:function(){te&&te.ensureAborted(),Ee.abort()},forceMinPriority:function(Ke){Ee.forceMinPriority(Ke)}}},C}(),ti=r_,n_=function(){function C(k){this.strategies=k}return C.prototype.isSupported=function(){return je(this.strategies,fe.method("isSupported"))},C.prototype.connect=function(k,O){return i_(this.strategies,k,function(H,V){return function(te,Ee){if(V[H].error=te,te){a_(V)&&O(!0);return}Oe(V,function(Ke){Ke.forceMinPriority(Ee.transport.priority)}),O(null,Ee)}})},C}(),Ih=n_;function i_(C,k,O){var H=qe(C,function(V,te,Ee,Ke){return V.connect(k,O(te,Ke))});return{abort:function(){Oe(H,o_)},forceMinPriority:function(V){Oe(H,function(te){te.forceMinPriority(V)})}}}function a_(C){return Et(C,function(k){return!!k.error})}function o_(C){!C.error&&!C.aborted&&(C.abort(),C.aborted=!0)}var s_=function(){function C(k,O,H){this.strategy=k,this.transports=O,this.ttl=H.ttl||1800*1e3,this.usingTLS=H.useTLS,this.timeline=H.timeline}return C.prototype.isSupported=function(){return this.strategy.isSupported()},C.prototype.connect=function(k,O){var H=this.usingTLS,V=u_(H),te=[this.strategy];if(V&&V.timestamp+this.ttl>=fe.now()){var Ee=this.transports[V.transport];Ee&&(this.timeline.info({cached:!0,transport:V.transport,latency:V.latency}),te.push(new ti([Ee],{timeout:V.latency*2+1e3,failFast:!0})))}var Ke=fe.now(),At=te.pop().connect(k,function ct(zt,wr){zt?(hb(H),te.length>0?(Ke=fe.now(),At=te.pop().connect(k,ct)):O(zt)):(c_(H,wr.transport.name,fe.now()-Ke),O(null,wr))});return{abort:function(){At.abort()},forceMinPriority:function(ct){k=ct,At&&At.forceMinPriority(ct)}}},C}(),f_=s_;function Rh(C){return"pusherTransport"+(C?"TLS":"NonTLS")}function u_(C){var k=Dt.getLocalStorage();if(k)try{var O=k[Rh(C)];if(O)return JSON.parse(O)}catch(H){hb(C)}return null}function c_(C,k,O){var H=Dt.getLocalStorage();if(H)try{H[Rh(C)]=dt({timestamp:fe.now(),transport:k,latency:O})}catch(V){}}function hb(C){var k=Dt.getLocalStorage();if(k)try{delete k[Rh(C)]}catch(O){}}var h_=function(){function C(k,O){var H=O.delay;this.strategy=k,this.options={delay:H}}return C.prototype.isSupported=function(){return this.strategy.isSupported()},C.prototype.connect=function(k,O){var H=this.strategy,V,te=new oe(this.options.delay,function(){V=H.connect(k,O)});return{abort:function(){te.ensureAborted(),V&&V.abort()},forceMinPriority:function(Ee){k=Ee,V&&V.forceMinPriority(Ee)}}},C}(),Uo=h_,l_=function(){function C(k,O,H){this.test=k,this.trueBranch=O,this.falseBranch=H}return C.prototype.isSupported=function(){var k=this.test()?this.trueBranch:this.falseBranch;return k.isSupported()},C.prototype.connect=function(k,O){var H=this.test()?this.trueBranch:this.falseBranch;return H.connect(k,O)},C}(),Ea=l_,d_=function(){function C(k){this.strategy=k}return C.prototype.isSupported=function(){return this.strategy.isSupported()},C.prototype.connect=function(k,O){var H=this.strategy.connect(k,function(V,te){te&&H.abort(),O(V,te)});return H},C}(),p_=d_;function Ma(C){return function(){return C.isSupported()}}var v_=function(C,k,O){var H={};function V(Eb,x5,S5,E5,M5){var Mb=O(C,Eb,x5,S5,E5,M5);return H[Eb]=Mb,Mb}var te=Object.assign({},k,{hostNonTLS:C.wsHost+":"+C.wsPort,hostTLS:C.wsHost+":"+C.wssPort,httpPath:C.wsPath}),Ee=Object.assign({},te,{useTLS:!0}),Ke=Object.assign({},k,{hostNonTLS:C.httpHost+":"+C.httpPort,hostTLS:C.httpHost+":"+C.httpsPort,httpPath:C.httpPath}),At={loop:!0,timeout:15e3,timeoutLimit:6e4},ct=new cb({lives:2,minPingDelay:1e4,maxPingDelay:C.activityTimeout}),zt=new cb({lives:2,minPingDelay:1e4,maxPingDelay:C.activityTimeout}),wr=V("ws","ws",3,te,ct),pn=V("wss","ws",3,Ee,ct),b5=V("sockjs","sockjs",1,Ke),mb=V("xhr_streaming","xhr_streaming",1,Ke,zt),m5=V("xdr_streaming","xdr_streaming",1,Ke,zt),gb=V("xhr_polling","xhr_polling",1,Ke),g5=V("xdr_polling","xdr_polling",1,Ke),wb=new ti([wr],At),w5=new ti([pn],At),_5=new ti([b5],At),_b=new ti([new Ea(Ma(mb),mb,m5)],At),xb=new ti([new Ea(Ma(gb),gb,g5)],At),Sb=new ti([new Ea(Ma(_b),new Ih([_b,new Uo(xb,{delay:4e3})]),xb)],At),Ph=new Ea(Ma(Sb),Sb,_5),Dh;return k.useTLS?Dh=new Ih([wb,new Uo(Ph,{delay:2e3})]):Dh=new Ih([wb,new Uo(w5,{delay:2e3}),new Uo(Ph,{delay:5e3})]),new f_(new p_(new Ea(Ma(wr),Dh,Ph)),H,{ttl:18e5,timeline:k.timeline,useTLS:k.useTLS})},y_=v_,b_=function(){var C=this;C.timeline.info(C.buildTimelineMessage({transport:C.name+(C.options.useTLS?"s":"")})),C.hooks.isInitialized()?C.changeState("initialized"):C.hooks.file?(C.changeState("initializing"),l.load(C.hooks.file,{useTLS:C.options.useTLS},function(k,O){C.hooks.isInitialized()?(C.changeState("initialized"),O(!0)):(k&&C.onError(k),C.onClose(),O(!1))})):C.onClose()},m_={getRequest:function(C){var k=new window.XDomainRequest;return k.ontimeout=function(){C.emit("error",new U),C.close()},k.onerror=function(O){C.emit("error",O),C.close()},k.onprogress=function(){k.responseText&&k.responseText.length>0&&C.onChunk(200,k.responseText)},k.onload=function(){k.responseText&&k.responseText.length>0&&C.onChunk(200,k.responseText),C.emit("finished",200),C.close()},k},abortRequest:function(C){C.ontimeout=C.onerror=C.onprogress=C.onload=null,C.abort()}},g_=m_,w_=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),__=256*1024,x_=function(C){w_(k,C);function k(O,H,V){var te=C.call(this)||this;return te.hooks=O,te.method=H,te.url=V,te}return k.prototype.start=function(O){var H=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){H.close()},Dt.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(O)},k.prototype.close=function(){this.unloader&&(Dt.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},k.prototype.onChunk=function(O,H){for(;;){var V=this.advanceBuffer(H);if(V)this.emit("chunk",{status:O,data:V});else break}this.isBufferTooLong(H)&&this.emit("buffer_too_long")},k.prototype.advanceBuffer=function(O){var H=O.slice(this.position),V=H.indexOf(`
`);return V!==-1?(this.position+=V+1,H.slice(0,V)):null},k.prototype.isBufferTooLong=function(O){return this.position===O.length&&O.length>__},k}(_t),S_=x_,Ch;(function(C){C[C.CONNECTING=0]="CONNECTING",C[C.OPEN=1]="OPEN",C[C.CLOSED=3]="CLOSED"})(Ch||(Ch={}));var ri=Ch,E_=1,M_=function(){function C(k,O){this.hooks=k,this.session=db(1e3)+"/"+I_(8),this.location=A_(O),this.readyState=ri.CONNECTING,this.openStream()}return C.prototype.send=function(k){return this.sendRaw(JSON.stringify([k]))},C.prototype.ping=function(){this.hooks.sendHeartbeat(this)},C.prototype.close=function(k,O){this.onClose(k,O,!0)},C.prototype.sendRaw=function(k){if(this.readyState===ri.OPEN)try{return Dt.createSocketRequest("POST",lb(T_(this.location,this.session))).start(k),!0}catch(O){return!1}else return!1},C.prototype.reconnect=function(){this.closeStream(),this.openStream()},C.prototype.onClose=function(k,O,H){this.closeStream(),this.readyState=ri.CLOSED,this.onclose&&this.onclose({code:k,reason:O,wasClean:H})},C.prototype.onChunk=function(k){if(k.status===200){this.readyState===ri.OPEN&&this.onActivity();var O,H=k.data.slice(0,1);switch(H){case"o":O=JSON.parse(k.data.slice(1)||"{}"),this.onOpen(O);break;case"a":O=JSON.parse(k.data.slice(1)||"[]");for(var V=0;V<O.length;V++)this.onEvent(O[V]);break;case"m":O=JSON.parse(k.data.slice(1)||"null"),this.onEvent(O);break;case"h":this.hooks.onHeartbeat(this);break;case"c":O=JSON.parse(k.data.slice(1)||"[]"),this.onClose(O[0],O[1],!0);break}}},C.prototype.onOpen=function(k){this.readyState===ri.CONNECTING?(k&&k.hostname&&(this.location.base=k_(this.location.base,k.hostname)),this.readyState=ri.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},C.prototype.onEvent=function(k){this.readyState===ri.OPEN&&this.onmessage&&this.onmessage({data:k})},C.prototype.onActivity=function(){this.onactivity&&this.onactivity()},C.prototype.onError=function(k){this.onerror&&this.onerror(k)},C.prototype.openStream=function(){var k=this;this.stream=Dt.createSocketRequest("POST",lb(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(O){k.onChunk(O)}),this.stream.bind("finished",function(O){k.hooks.onFinished(k,O)}),this.stream.bind("buffer_too_long",function(){k.reconnect()});try{this.stream.start()}catch(O){fe.defer(function(){k.onError(O),k.onClose(1006,"Could not start streaming",!1)})}},C.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},C}();function A_(C){var k=/([^\?]*)\/*(\??.*)/.exec(C);return{base:k[1],queryString:k[2]}}function T_(C,k){return C.base+"/"+k+"/xhr_send"}function lb(C){var k=C.indexOf("?")===-1?"?":"&";return C+k+"t="+ +new Date+"&n="+E_++}function k_(C,k){var O=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(C);return O[1]+k+O[3]}function db(C){return Dt.randomInt(C)}function I_(C){for(var k=[],O=0;O<C;O++)k.push(db(32).toString(32));return k.join("")}var R_=M_,C_={getReceiveURL:function(C,k){return C.base+"/"+k+"/xhr_streaming"+C.queryString},onHeartbeat:function(C){C.sendRaw("[]")},sendHeartbeat:function(C){C.sendRaw("[]")},onFinished:function(C,k){C.onClose(1006,"Connection interrupted ("+k+")",!1)}},O_=C_,B_={getReceiveURL:function(C,k){return C.base+"/"+k+"/xhr"+C.queryString},onHeartbeat:function(){},sendHeartbeat:function(C){C.sendRaw("[]")},onFinished:function(C,k){k===200?C.reconnect():C.onClose(1006,"Connection interrupted ("+k+")",!1)}},P_=B_,D_={getRequest:function(C){var k=Dt.getXHRAPI(),O=new k;return O.onreadystatechange=O.onprogress=function(){switch(O.readyState){case 3:O.responseText&&O.responseText.length>0&&C.onChunk(O.status,O.responseText);break;case 4:O.responseText&&O.responseText.length>0&&C.onChunk(O.status,O.responseText),C.emit("finished",O.status),C.close();break}},O},abortRequest:function(C){C.onreadystatechange=null,C.abort()}},N_=D_,q_={createStreamingSocket:function(C){return this.createSocket(O_,C)},createPollingSocket:function(C){return this.createSocket(P_,C)},createSocket:function(C,k){return new R_(C,k)},createXHR:function(C,k){return this.createRequest(N_,C,k)},createRequest:function(C,k,O){return new S_(C,k,O)}},pb=q_;pb.createXDR=function(C,k){return this.createRequest(g_,C,k)};var L_=pb,F_={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:d,getDefaultStrategy:y_,Transports:Ye,transportConnectionInitializer:b_,HTTPFactory:L_,TimelineTransport:Je,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(C){var k=this;window.Pusher=C;var O=function(){k.onDocumentBody(C.ready)};window.JSON?O():l.load("json2",{},O)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:M,jsonp:K}},onDocumentBody:function(C){var k=this;document.body?C():setTimeout(function(){k.onDocumentBody(C)},0)},createJSONPRequest:function(C,k){return new he(C,k)},createScriptRequest:function(C){return new F(C)},getLocalStorage:function(){try{return window.localStorage}catch(C){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){var C=this.getXHRAPI();return new C},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return nt},createWebSocket:function(C){var k=this.getWebSocketAPI();return new k(C)},createSocketRequest:function(C,k){if(this.isXHRSupported())return this.HTTPFactory.createXHR(C,k);if(this.isXDRSupported(k.indexOf("https:")===0))return this.HTTPFactory.createXDR(C,k);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var C=this.getXHRAPI();return!!C&&new C().withCredentials!==void 0},isXDRSupported:function(C){var k=C?"https:":"http:",O=this.getProtocol();return!!window.XDomainRequest&&O===k},addUnloadListener:function(C){window.addEventListener!==void 0?window.addEventListener("unload",C,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",C)},removeUnloadListener:function(C){window.addEventListener!==void 0?window.removeEventListener("unload",C,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",C)},randomInt:function(C){var k=function(){var O=window.crypto||window.msCrypto,H=O.getRandomValues(new Uint32Array(1))[0];return H/Math.pow(2,32)};return Math.floor(k()*C)}},Dt=F_,Oh;(function(C){C[C.ERROR=3]="ERROR",C[C.INFO=6]="INFO",C[C.DEBUG=7]="DEBUG"})(Oh||(Oh={}));var jo=Oh,U_=function(){function C(k,O,H){this.key=k,this.session=O,this.events=[],this.options=H||{},this.sent=0,this.uniqueID=0}return C.prototype.log=function(k,O){k<=this.options.level&&(this.events.push(le({},O,{timestamp:fe.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},C.prototype.error=function(k){this.log(jo.ERROR,k)},C.prototype.info=function(k){this.log(jo.INFO,k)},C.prototype.debug=function(k){this.log(jo.DEBUG,k)},C.prototype.isEmpty=function(){return this.events.length===0},C.prototype.send=function(k,O){var H=this,V=le({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],k(V,function(te,Ee){te||H.sent++,O&&O(te,Ee)}),!0},C.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},C}(),j_=U_,$_=function(){function C(k,O,H,V){this.name=k,this.priority=O,this.transport=H,this.options=V||{}}return C.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},C.prototype.connect=function(k,O){var H=this;if(this.isSupported()){if(this.priority<k)return vb(new z,O)}else return vb(new se,O);var V=!1,te=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Ee=null,Ke=function(){te.unbind("initialized",Ke),te.connect()},At=function(){Ee=En.createHandshake(te,function(pn){V=!0,wr(),O(null,pn)})},ct=function(pn){wr(),O(pn)},zt=function(){wr();var pn;pn=dt(te),O(new W(pn))},wr=function(){te.unbind("initialized",Ke),te.unbind("open",At),te.unbind("error",ct),te.unbind("closed",zt)};return te.bind("initialized",Ke),te.bind("open",At),te.bind("error",ct),te.bind("closed",zt),te.initialize(),{abort:function(){V||(wr(),Ee?Ee.close():te.close())},forceMinPriority:function(pn){V||H.priority<pn&&(Ee?Ee.close():te.close())}}},C}(),H_=$_;function vb(C,k){return fe.defer(function(){k(C)}),{abort:function(){},forceMinPriority:function(){}}}var z_=Dt.Transports,V_=function(C,k,O,H,V,te){var Ee=z_[O];if(!Ee)throw new ie(O);var Ke=(!C.enabledTransports||X(C.enabledTransports,k)!==-1)&&(!C.disabledTransports||X(C.disabledTransports,k)===-1),At;return Ke?(V=Object.assign({ignoreNullOrigin:C.ignoreNullOrigin},V),At=new H_(k,H,te?te.getAssistant(Ee):Ee,V)):At=W_,At},W_={isSupported:function(){return!1},connect:function(C,k){var O=fe.defer(function(){k(new se)});return{abort:function(){O.ensureAborted()},forceMinPriority:function(){}}}},K_=function(C,k){var O="socket_id="+encodeURIComponent(C.socketId);for(var H in k.params)O+="&"+encodeURIComponent(H)+"="+encodeURIComponent(k.params[H]);if(k.paramsProvider!=null){var V=k.paramsProvider();for(var H in V)O+="&"+encodeURIComponent(H)+"="+encodeURIComponent(V[H])}return O},Q_=function(C){if(typeof Dt.getAuthorizers()[C.transport]=="undefined")throw"'"+C.transport+"' is not a recognized auth transport";return function(k,O){var H=K_(k,C);Dt.getAuthorizers()[C.transport](Dt,H,C,E.UserAuthentication,O)}},G_=Q_,J_=function(C,k){var O="socket_id="+encodeURIComponent(C.socketId);O+="&channel_name="+encodeURIComponent(C.channelName);for(var H in k.params)O+="&"+encodeURIComponent(H)+"="+encodeURIComponent(k.params[H]);if(k.paramsProvider!=null){var V=k.paramsProvider();for(var H in V)O+="&"+encodeURIComponent(H)+"="+encodeURIComponent(V[H])}return O},Y_=function(C){if(typeof Dt.getAuthorizers()[C.transport]=="undefined")throw"'"+C.transport+"' is not a recognized auth transport";return function(k,O){var H=J_(k,C);Dt.getAuthorizers()[C.transport](Dt,H,C,E.ChannelAuthorization,O)}},X_=Y_,Z_=function(C,k,O){var H={authTransport:k.transport,authEndpoint:k.endpoint,auth:{params:k.params,headers:k.headers}};return function(V,te){var Ee=C.channel(V.channelName),Ke=O(Ee,H);Ke.authorize(V.socketId,te)}},Bi=function(){return Bi=Object.assign||function(C){for(var k,O=1,H=arguments.length;O<H;O++){k=arguments[O];for(var V in k)Object.prototype.hasOwnProperty.call(k,V)&&(C[V]=k[V])}return C},Bi.apply(this,arguments)};function e5(C,k){var O={activityTimeout:C.activityTimeout||u.activityTimeout,cluster:C.cluster||u.cluster,httpPath:C.httpPath||u.httpPath,httpPort:C.httpPort||u.httpPort,httpsPort:C.httpsPort||u.httpsPort,pongTimeout:C.pongTimeout||u.pongTimeout,statsHost:C.statsHost||u.stats_host,unavailableTimeout:C.unavailableTimeout||u.unavailableTimeout,wsPath:C.wsPath||u.wsPath,wsPort:C.wsPort||u.wsPort,wssPort:C.wssPort||u.wssPort,enableStats:i5(C),httpHost:t5(C),useTLS:n5(C),wsHost:r5(C),userAuthenticator:a5(C),channelAuthorizer:s5(C,k)};return"disabledTransports"in C&&(O.disabledTransports=C.disabledTransports),"enabledTransports"in C&&(O.enabledTransports=C.enabledTransports),"ignoreNullOrigin"in C&&(O.ignoreNullOrigin=C.ignoreNullOrigin),"timelineParams"in C&&(O.timelineParams=C.timelineParams),"nacl"in C&&(O.nacl=C.nacl),O}function t5(C){return C.httpHost?C.httpHost:C.cluster?"sockjs-"+C.cluster+".pusher.com":u.httpHost}function r5(C){return C.wsHost?C.wsHost:C.cluster?yb(C.cluster):yb(u.cluster)}function yb(C){return"ws-"+C+".pusher.com"}function n5(C){return Dt.getProtocol()==="https:"?!0:C.forceTLS!==!1}function i5(C){return"enableStats"in C?C.enableStats:"disableStats"in C?!C.disableStats:!1}function a5(C){var k=Bi(Bi({},u.userAuthentication),C.userAuthentication);return"customHandler"in k&&k.customHandler!=null?k.customHandler:G_(k)}function o5(C,k){var O;return"channelAuthorization"in C?O=Bi(Bi({},u.channelAuthorization),C.channelAuthorization):(O={transport:C.authTransport||u.authTransport,endpoint:C.authEndpoint||u.authEndpoint},"auth"in C&&("params"in C.auth&&(O.params=C.auth.params),"headers"in C.auth&&(O.headers=C.auth.headers)),"authorizer"in C&&(O.customHandler=Z_(k,O,C.authorizer))),O}function s5(C,k){var O=o5(C,k);return"customHandler"in O&&O.customHandler!=null?O.customHandler:X_(O)}var f5=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),u5=function(C){f5(k,C);function k(O){var H=C.call(this,function(V,te){st.debug("No callbacks on watchlist events for "+V)})||this;return H.pusher=O,H.bindWatchlistInternalEvent(),H}return k.prototype.handleEvent=function(O){var H=this;O.data.events.forEach(function(V){H.emit(V.name,V)})},k.prototype.bindWatchlistInternalEvent=function(){var O=this;this.pusher.connection.bind("message",function(H){var V=H.event;V==="pusher_internal:watchlist_events"&&O.handleEvent(H)})},k}(_t),c5=u5;function h5(){var C,k,O=new Promise(function(H,V){C=H,k=V});return{promise:O,resolve:C,reject:k}}var l5=h5,d5=function(){var C=function(k,O){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,V){H.__proto__=V}||function(H,V){for(var te in V)V.hasOwnProperty(te)&&(H[te]=V[te])},C(k,O)};return function(k,O){C(k,O);function H(){this.constructor=k}k.prototype=O===null?Object.create(O):(H.prototype=O.prototype,new H)}}(),p5=function(C){d5(k,C);function k(O){var H=C.call(this,function(V,te){st.debug("No callbacks on user for "+V)})||this;return H.signin_requested=!1,H.user_data=null,H.serverToUserChannel=null,H.signinDonePromise=null,H._signinDoneResolve=null,H._onAuthorize=function(V,te){if(V){st.warn("Error during signin: "+V),H._cleanup();return}H.pusher.send_event("pusher:signin",{auth:te.auth,user_data:te.user_data})},H.pusher=O,H.pusher.connection.bind("state_change",function(V){var te=V.previous,Ee=V.current;te!=="connected"&&Ee==="connected"&&H._signin(),te==="connected"&&Ee!=="connected"&&(H._cleanup(),H._newSigninPromiseIfNeeded())}),H.watchlist=new c5(O),H.pusher.connection.bind("message",function(V){var te=V.event;te==="pusher:signin_success"&&H._onSigninSuccess(V.data),H.serverToUserChannel&&H.serverToUserChannel.name===V.channel&&H.serverToUserChannel.handleEvent(V)}),H}return k.prototype.signin=function(){this.signin_requested||(this.signin_requested=!0,this._signin())},k.prototype._signin=function(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))},k.prototype._onSigninSuccess=function(O){try{this.user_data=JSON.parse(O.user_data)}catch(H){st.error("Failed parsing user data after signin: "+O.user_data),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){st.error("user_data doesn't contain an id. user_data: "+this.user_data),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()},k.prototype._subscribeChannels=function(){var O=this,H=function(V){V.subscriptionPending&&V.subscriptionCancelled?V.reinstateSubscription():!V.subscriptionPending&&O.pusher.connection.state==="connected"&&V.subscribe()};this.serverToUserChannel=new Ie("#server-to-user-"+this.user_data.id,this.pusher),this.serverToUserChannel.bind_global(function(V,te){V.indexOf("pusher_internal:")===0||V.indexOf("pusher:")===0||O.emit(V,te)}),H(this.serverToUserChannel)},k.prototype._cleanup=function(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()},k.prototype._newSigninPromiseIfNeeded=function(){if(this.signin_requested&&!(this.signinDonePromise&&!this.signinDonePromise.done)){var O=l5(),H=O.promise,V=O.resolve;H.done=!1;var te=function(){H.done=!0};H.then(te).catch(te),this.signinDonePromise=H,this._signinDoneResolve=V}},k}(_t),v5=p5,bb=function(){function C(k,O){var H=this;if(y5(k),O=O||{},!O.cluster&&!(O.wsHost||O.httpHost)){var V=w.buildLogSuffix("javascriptQuickStart");st.warn("You should always specify a cluster when connecting. "+V)}"disableStats"in O&&st.warn("The disableStats option is deprecated in favor of enableStats"),this.key=k,this.config=e5(O,this),this.channels=En.createChannels(),this.global_emitter=new _t,this.sessionID=Dt.randomInt(1e9),this.timeline=new j_(this.key,this.sessionID,{cluster:this.config.cluster,features:C.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:jo.INFO,version:u.VERSION}),this.config.enableStats&&(this.timelineSender=En.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Dt.TimelineTransport.name}));var te=function(Ee){return Dt.getDefaultStrategy(H.config,Ee,V_)};this.connection=En.createConnectionManager(this.key,{getStrategy:te,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",function(){H.subscribeAll(),H.timelineSender&&H.timelineSender.send(H.connection.isUsingTLS())}),this.connection.bind("message",function(Ee){var Ke=Ee.event,At=Ke.indexOf("pusher_internal:")===0;if(Ee.channel){var ct=H.channel(Ee.channel);ct&&ct.handleEvent(Ee)}At||H.global_emitter.emit(Ee.event,Ee.data)}),this.connection.bind("connecting",function(){H.channels.disconnect()}),this.connection.bind("disconnected",function(){H.channels.disconnect()}),this.connection.bind("error",function(Ee){st.warn(Ee)}),C.instances.push(this),this.timeline.info({instances:C.instances.length}),this.user=new v5(this),C.isReady&&this.connect()}return C.ready=function(){C.isReady=!0;for(var k=0,O=C.instances.length;k<O;k++)C.instances[k].connect()},C.getClientFeatures=function(){return _e(ge({ws:Dt.Transports.ws},function(k){return k.isSupported({})}))},C.prototype.channel=function(k){return this.channels.find(k)},C.prototype.allChannels=function(){return this.channels.all()},C.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var k=this.connection.isUsingTLS(),O=this.timelineSender;this.timelineSenderTimer=new Z(6e4,function(){O.send(k)})}},C.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},C.prototype.bind=function(k,O,H){return this.global_emitter.bind(k,O,H),this},C.prototype.unbind=function(k,O,H){return this.global_emitter.unbind(k,O,H),this},C.prototype.bind_global=function(k){return this.global_emitter.bind_global(k),this},C.prototype.unbind_global=function(k){return this.global_emitter.unbind_global(k),this},C.prototype.unbind_all=function(k){return this.global_emitter.unbind_all(),this},C.prototype.subscribeAll=function(){var k;for(k in this.channels.channels)this.channels.channels.hasOwnProperty(k)&&this.subscribe(k)},C.prototype.subscribe=function(k){var O=this.channels.add(k,this);return O.subscriptionPending&&O.subscriptionCancelled?O.reinstateSubscription():!O.subscriptionPending&&this.connection.state==="connected"&&O.subscribe(),O},C.prototype.unsubscribe=function(k){var O=this.channels.find(k);O&&O.subscriptionPending?O.cancelSubscription():(O=this.channels.remove(k),O&&O.subscribed&&O.unsubscribe())},C.prototype.send_event=function(k,O,H){return this.connection.send_event(k,O,H)},C.prototype.shouldUseTLS=function(){return this.config.useTLS},C.prototype.signin=function(){this.user.signin()},C.instances=[],C.isReady=!1,C.logToConsole=!1,C.Runtime=Dt,C.ScriptReceivers=Dt.ScriptReceivers,C.DependenciesReceivers=Dt.DependenciesReceivers,C.auth_callbacks=Dt.auth_callbacks,C}(),Bh=n.default=bb;function y5(C){if(C==null)throw"You must pass your app key when you instantiate Pusher."}Dt.setup(bb)}])})})(ib);var T4=ib.exports;const k4=fi(T4);var Th={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(r,e){(function(t,n){n(e)})(Kt,function(t){function n(){for(var N=arguments.length,D=Array(N),_=0;_<N;_++)D[_]=arguments[_];if(D.length>1){D[0]=D[0].slice(0,-1);for(var j=D.length-1,Y=1;Y<j;++Y)D[Y]=D[Y].slice(1,-1);return D[j]=D[j].slice(1),D.join("")}else return D[0]}function a(N){return"(?:"+N+")"}function i(N){return N===void 0?"undefined":N===null?"null":Object.prototype.toString.call(N).split(" ").pop().split("]").shift().toLowerCase()}function o(N){return N.toUpperCase()}function c(N){return N!=null?N instanceof Array?N:typeof N.length!="number"||N.split||N.setInterval||N.call?[N]:Array.prototype.slice.call(N):[]}function u(N,D){var _=N;if(D)for(var j in D)_[j]=D[j];return _}function h(N){var D="[A-Za-z]",_="[0-9]",j=n(_,"[A-Fa-f]"),Y=a(a("%[EFef]"+j+"%"+j+j+"%"+j+j)+"|"+a("%[89A-Fa-f]"+j+"%"+j+j)+"|"+a("%"+j+j)),ae="[\\:\\/\\?\\#\\[\\]\\@]",ce="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",me=n(ae,ce),Me=N?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Se=N?"[\\uE000-\\uF8FF]":"[]",Ge=n(D,_,"[\\-\\.\\_\\~]",Me);a(D+n(D,_,"[\\+\\-\\.]")+"*"),a(a(Y+"|"+n(Ge,ce,"[\\:]"))+"*");var Be=a(a("25[0-5]")+"|"+a("2[0-4]"+_)+"|"+a("1"+_+_)+"|"+a("0?[1-9]"+_)+"|0?0?"+_),Ye=a(Be+"\\."+Be+"\\."+Be+"\\."+Be),Pe=a(j+"{1,4}"),et=a(a(Pe+"\\:"+Pe)+"|"+Ye),nt=a(a(Pe+"\\:")+"{6}"+et),Qe=a("\\:\\:"+a(Pe+"\\:")+"{5}"+et),vt=a(a(Pe)+"?\\:\\:"+a(Pe+"\\:")+"{4}"+et),ut=a(a(a(Pe+"\\:")+"{0,1}"+Pe)+"?\\:\\:"+a(Pe+"\\:")+"{3}"+et),Le=a(a(a(Pe+"\\:")+"{0,2}"+Pe)+"?\\:\\:"+a(Pe+"\\:")+"{2}"+et),it=a(a(a(Pe+"\\:")+"{0,3}"+Pe)+"?\\:\\:"+Pe+"\\:"+et),$e=a(a(a(Pe+"\\:")+"{0,4}"+Pe)+"?\\:\\:"+et),He=a(a(a(Pe+"\\:")+"{0,5}"+Pe)+"?\\:\\:"+Pe),We=a(a(a(Pe+"\\:")+"{0,6}"+Pe)+"?\\:\\:"),Fe=a([nt,Qe,vt,ut,Le,it,$e,He,We].join("|")),ye=a(a(Ge+"|"+Y)+"+");a("[vV]"+j+"+\\."+n(Ge,ce,"[\\:]")+"+"),a(a(Y+"|"+n(Ge,ce))+"*");var be=a(Y+"|"+n(Ge,ce,"[\\:\\@]"));return a(a(Y+"|"+n(Ge,ce,"[\\@]"))+"+"),a(a(be+"|"+n("[\\/\\?]",Se))+"*"),{NOT_SCHEME:new RegExp(n("[^]",D,_,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Ge,ce),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Ge,ce),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Ge,ce),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Ge,ce),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Ge,ce,"[\\:\\@\\/\\?]",Se),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Ge,ce,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Ge,ce),"g"),UNRESERVED:new RegExp(Ge,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Ge,me),"g"),PCT_ENCODED:new RegExp(Y,"g"),IPV4ADDRESS:new RegExp("^("+Ye+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Fe+")"+a(a("\\%25|\\%(?!"+j+"{2})")+"("+ye+")")+"?\\]?$")}}var f=h(!1),d=h(!0),l=function(){function N(D,_){var j=[],Y=!0,ae=!1,ce=void 0;try{for(var me=D[Symbol.iterator](),Me;!(Y=(Me=me.next()).done)&&(j.push(Me.value),!(_&&j.length===_));Y=!0);}catch(Se){ae=!0,ce=Se}finally{try{!Y&&me.return&&me.return()}finally{if(ae)throw ce}}return j}return function(D,_){if(Array.isArray(D))return D;if(Symbol.iterator in Object(D))return N(D,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(N){if(Array.isArray(N)){for(var D=0,_=Array(N.length);D<N.length;D++)_[D]=N[D];return _}else return Array.from(N)},m=2147483647,w=36,E=1,x=26,P=38,L=700,U=72,z=128,W="-",re=/^xn--/,ie=/[^\0-\x7E]/,se=/[\x2E\u3002\uFF0E\uFF61]/g,ve={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Q=w-E,M=Math.floor,b=String.fromCharCode;function s(N){throw new RangeError(ve[N])}function v(N,D){for(var _=[],j=N.length;j--;)_[j]=D(N[j]);return _}function g(N,D){var _=N.split("@"),j="";_.length>1&&(j=_[0]+"@",N=_[1]),N=N.replace(se,".");var Y=N.split("."),ae=v(Y,D).join(".");return j+ae}function A(N){for(var D=[],_=0,j=N.length;_<j;){var Y=N.charCodeAt(_++);if(Y>=55296&&Y<=56319&&_<j){var ae=N.charCodeAt(_++);(ae&64512)==56320?D.push(((Y&1023)<<10)+(ae&1023)+65536):(D.push(Y),_--)}else D.push(Y)}return D}var I=function(D){return String.fromCodePoint.apply(String,y(D))},R=function(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:w},S=function(D,_){return D+22+75*(D<26)-((_!=0)<<5)},T=function(D,_,j){var Y=0;for(D=j?M(D/L):D>>1,D+=M(D/_);D>Q*x>>1;Y+=w)D=M(D/Q);return M(Y+(Q+1)*D/(D+P))},p=function(D){var _=[],j=D.length,Y=0,ae=z,ce=U,me=D.lastIndexOf(W);me<0&&(me=0);for(var Me=0;Me<me;++Me)D.charCodeAt(Me)>=128&&s("not-basic"),_.push(D.charCodeAt(Me));for(var Se=me>0?me+1:0;Se<j;){for(var Ge=Y,Be=1,Ye=w;;Ye+=w){Se>=j&&s("invalid-input");var Pe=R(D.charCodeAt(Se++));(Pe>=w||Pe>M((m-Y)/Be))&&s("overflow"),Y+=Pe*Be;var et=Ye<=ce?E:Ye>=ce+x?x:Ye-ce;if(Pe<et)break;var nt=w-et;Be>M(m/nt)&&s("overflow"),Be*=nt}var Qe=_.length+1;ce=T(Y-Ge,Qe,Ge==0),M(Y/Qe)>m-ae&&s("overflow"),ae+=M(Y/Qe),Y%=Qe,_.splice(Y++,0,ae)}return String.fromCodePoint.apply(String,_)},B=function(D){var _=[];D=A(D);var j=D.length,Y=z,ae=0,ce=U,me=!0,Me=!1,Se=void 0;try{for(var Ge=D[Symbol.iterator](),Be;!(me=(Be=Ge.next()).done);me=!0){var Ye=Be.value;Ye<128&&_.push(b(Ye))}}catch(kt){Me=!0,Se=kt}finally{try{!me&&Ge.return&&Ge.return()}finally{if(Me)throw Se}}var Pe=_.length,et=Pe;for(Pe&&_.push(W);et<j;){var nt=m,Qe=!0,vt=!1,ut=void 0;try{for(var Le=D[Symbol.iterator](),it;!(Qe=(it=Le.next()).done);Qe=!0){var $e=it.value;$e>=Y&&$e<nt&&(nt=$e)}}catch(kt){vt=!0,ut=kt}finally{try{!Qe&&Le.return&&Le.return()}finally{if(vt)throw ut}}var He=et+1;nt-Y>M((m-ae)/He)&&s("overflow"),ae+=(nt-Y)*He,Y=nt;var We=!0,Fe=!1,ye=void 0;try{for(var be=D[Symbol.iterator](),Re;!(We=(Re=be.next()).done);We=!0){var Te=Re.value;if(Te<Y&&++ae>m&&s("overflow"),Te==Y){for(var Ie=ae,De=w;;De+=w){var xt=De<=ce?E:De>=ce+x?x:De-ce;if(Ie<xt)break;var It=Ie-xt,Ct=w-xt;_.push(b(S(xt+It%Ct,0))),Ie=M(It/Ct)}_.push(b(S(Ie,0))),ce=T(ae,He,et==Pe),ae=0,++et}}}catch(kt){Fe=!0,ye=kt}finally{try{!We&&be.return&&be.return()}finally{if(Fe)throw ye}}++ae,++Y}return _.join("")},ee=function(D){return g(D,function(_){return re.test(_)?p(_.slice(4).toLowerCase()):_})},oe=function(D){return g(D,function(_){return ie.test(_)?"xn--"+B(_):_})},Z={version:"2.1.0",ucs2:{decode:A,encode:I},decode:p,encode:B,toASCII:oe,toUnicode:ee},ne={};function fe(N){var D=N.charCodeAt(0),_=void 0;return D<16?_="%0"+D.toString(16).toUpperCase():D<128?_="%"+D.toString(16).toUpperCase():D<2048?_="%"+(D>>6|192).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase():_="%"+(D>>12|224).toString(16).toUpperCase()+"%"+(D>>6&63|128).toString(16).toUpperCase()+"%"+(D&63|128).toString(16).toUpperCase(),_}function le(N){for(var D="",_=0,j=N.length;_<j;){var Y=parseInt(N.substr(_+1,2),16);if(Y<128)D+=String.fromCharCode(Y),_+=3;else if(Y>=194&&Y<224){if(j-_>=6){var ae=parseInt(N.substr(_+4,2),16);D+=String.fromCharCode((Y&31)<<6|ae&63)}else D+=N.substr(_,6);_+=6}else if(Y>=224){if(j-_>=9){var ce=parseInt(N.substr(_+4,2),16),me=parseInt(N.substr(_+7,2),16);D+=String.fromCharCode((Y&15)<<12|(ce&63)<<6|me&63)}else D+=N.substr(_,9);_+=9}else D+=N.substr(_,3),_+=3}return D}function ke(N,D){function _(j){var Y=le(j);return Y.match(D.UNRESERVED)?Y:j}return N.scheme&&(N.scheme=String(N.scheme).replace(D.PCT_ENCODED,_).toLowerCase().replace(D.NOT_SCHEME,"")),N.userinfo!==void 0&&(N.userinfo=String(N.userinfo).replace(D.PCT_ENCODED,_).replace(D.NOT_USERINFO,fe).replace(D.PCT_ENCODED,o)),N.host!==void 0&&(N.host=String(N.host).replace(D.PCT_ENCODED,_).toLowerCase().replace(D.NOT_HOST,fe).replace(D.PCT_ENCODED,o)),N.path!==void 0&&(N.path=String(N.path).replace(D.PCT_ENCODED,_).replace(N.scheme?D.NOT_PATH:D.NOT_PATH_NOSCHEME,fe).replace(D.PCT_ENCODED,o)),N.query!==void 0&&(N.query=String(N.query).replace(D.PCT_ENCODED,_).replace(D.NOT_QUERY,fe).replace(D.PCT_ENCODED,o)),N.fragment!==void 0&&(N.fragment=String(N.fragment).replace(D.PCT_ENCODED,_).replace(D.NOT_FRAGMENT,fe).replace(D.PCT_ENCODED,o)),N}function X(N){return N.replace(/^0*(.*)/,"$1")||"0"}function G(N,D){var _=N.match(D.IPV4ADDRESS)||[],j=l(_,2),Y=j[1];return Y?Y.split(".").map(X).join("."):N}function _e(N,D){var _=N.match(D.IPV6ADDRESS)||[],j=l(_,3),Y=j[1],ae=j[2];if(Y){for(var ce=Y.toLowerCase().split("::").reverse(),me=l(ce,2),Me=me[0],Se=me[1],Ge=Se?Se.split(":").map(X):[],Be=Me.split(":").map(X),Ye=D.IPV4ADDRESS.test(Be[Be.length-1]),Pe=Ye?7:8,et=Be.length-Pe,nt=Array(Pe),Qe=0;Qe<Pe;++Qe)nt[Qe]=Ge[Qe]||Be[et+Qe]||"";Ye&&(nt[Pe-1]=G(nt[Pe-1],D));var vt=nt.reduce(function(He,We,Fe){if(!We||We==="0"){var ye=He[He.length-1];ye&&ye.index+ye.length===Fe?ye.length++:He.push({index:Fe,length:1})}return He},[]),ut=vt.sort(function(He,We){return We.length-He.length})[0],Le=void 0;if(ut&&ut.length>1){var it=nt.slice(0,ut.index),$e=nt.slice(ut.index+ut.length);Le=it.join(":")+"::"+$e.join(":")}else Le=nt.join(":");return ae&&(Le+="%"+ae),Le}else return N}var Ae=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Oe="".match(/(){0}/)[1]===void 0;function qe(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_={},j=D.iri!==!1?d:f;D.reference==="suffix"&&(N=(D.scheme?D.scheme+":":"")+"//"+N);var Y=N.match(Ae);if(Y){Oe?(_.scheme=Y[1],_.userinfo=Y[3],_.host=Y[4],_.port=parseInt(Y[5],10),_.path=Y[6]||"",_.query=Y[7],_.fragment=Y[8],isNaN(_.port)&&(_.port=Y[5])):(_.scheme=Y[1]||void 0,_.userinfo=N.indexOf("@")!==-1?Y[3]:void 0,_.host=N.indexOf("//")!==-1?Y[4]:void 0,_.port=parseInt(Y[5],10),_.path=Y[6]||"",_.query=N.indexOf("?")!==-1?Y[7]:void 0,_.fragment=N.indexOf("#")!==-1?Y[8]:void 0,isNaN(_.port)&&(_.port=N.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Y[4]:void 0)),_.host&&(_.host=_e(G(_.host,j),j)),_.scheme===void 0&&_.userinfo===void 0&&_.host===void 0&&_.port===void 0&&!_.path&&_.query===void 0?_.reference="same-document":_.scheme===void 0?_.reference="relative":_.fragment===void 0?_.reference="absolute":_.reference="uri",D.reference&&D.reference!=="suffix"&&D.reference!==_.reference&&(_.error=_.error||"URI is not a "+D.reference+" reference.");var ae=ne[(D.scheme||_.scheme||"").toLowerCase()];if(!D.unicodeSupport&&(!ae||!ae.unicodeSupport)){if(_.host&&(D.domainHost||ae&&ae.domainHost))try{_.host=Z.toASCII(_.host.replace(j.PCT_ENCODED,le).toLowerCase())}catch(ce){_.error=_.error||"Host's domain name can not be converted to ASCII via punycode: "+ce}ke(_,f)}else ke(_,j);ae&&ae.parse&&ae.parse(_,D)}else _.error=_.error||"URI can not be parsed.";return _}function Ue(N,D){var _=D.iri!==!1?d:f,j=[];return N.userinfo!==void 0&&(j.push(N.userinfo),j.push("@")),N.host!==void 0&&j.push(_e(G(String(N.host),_),_).replace(_.IPV6ADDRESS,function(Y,ae,ce){return"["+ae+(ce?"%25"+ce:"")+"]"})),(typeof N.port=="number"||typeof N.port=="string")&&(j.push(":"),j.push(String(N.port))),j.length?j.join(""):void 0}var ze=/^\.\.?\//,ge=/^\/\.(\/|$)/,lt=/^\/\.\.(\/|$)/,je=/^\/?(?:.|\n)*?(?=\/|$)/;function Et(N){for(var D=[];N.length;)if(N.match(ze))N=N.replace(ze,"");else if(N.match(ge))N=N.replace(ge,"/");else if(N.match(lt))N=N.replace(lt,"/"),D.pop();else if(N==="."||N==="..")N="";else{var _=N.match(je);if(_){var j=_[0];N=N.slice(j.length),D.push(j)}else throw new Error("Unexpected dot segment condition")}return D.join("")}function ot(N){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=D.iri?d:f,j=[],Y=ne[(D.scheme||N.scheme||"").toLowerCase()];if(Y&&Y.serialize&&Y.serialize(N,D),N.host&&!_.IPV6ADDRESS.test(N.host)){if(D.domainHost||Y&&Y.domainHost)try{N.host=D.iri?Z.toUnicode(N.host):Z.toASCII(N.host.replace(_.PCT_ENCODED,le).toLowerCase())}catch(me){N.error=N.error||"Host's domain name can not be converted to "+(D.iri?"Unicode":"ASCII")+" via punycode: "+me}}ke(N,_),D.reference!=="suffix"&&N.scheme&&(j.push(N.scheme),j.push(":"));var ae=Ue(N,D);if(ae!==void 0&&(D.reference!=="suffix"&&j.push("//"),j.push(ae),N.path&&N.path.charAt(0)!=="/"&&j.push("/")),N.path!==void 0){var ce=N.path;!D.absolutePath&&(!Y||!Y.absolutePath)&&(ce=Et(ce)),ae===void 0&&(ce=ce.replace(/^\/\//,"/%2F")),j.push(ce)}return N.query!==void 0&&(j.push("?"),j.push(N.query)),N.fragment!==void 0&&(j.push("#"),j.push(N.fragment)),j.join("")}function Ve(N,D){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments[3],Y={};return j||(N=qe(ot(N,_),_),D=qe(ot(D,_),_)),_=_||{},!_.tolerant&&D.scheme?(Y.scheme=D.scheme,Y.userinfo=D.userinfo,Y.host=D.host,Y.port=D.port,Y.path=Et(D.path||""),Y.query=D.query):(D.userinfo!==void 0||D.host!==void 0||D.port!==void 0?(Y.userinfo=D.userinfo,Y.host=D.host,Y.port=D.port,Y.path=Et(D.path||""),Y.query=D.query):(D.path?(D.path.charAt(0)==="/"?Y.path=Et(D.path):((N.userinfo!==void 0||N.host!==void 0||N.port!==void 0)&&!N.path?Y.path="/"+D.path:N.path?Y.path=N.path.slice(0,N.path.lastIndexOf("/")+1)+D.path:Y.path=D.path,Y.path=Et(Y.path)),Y.query=D.query):(Y.path=N.path,D.query!==void 0?Y.query=D.query:Y.query=N.query),Y.userinfo=N.userinfo,Y.host=N.host,Y.port=N.port),Y.scheme=N.scheme),Y.fragment=D.fragment,Y}function Mt(N,D,_){var j=u({scheme:"null"},_);return ot(Ve(qe(N,j),qe(D,j),j,!0),j)}function dt(N,D){return typeof N=="string"?N=ot(qe(N,D),D):i(N)==="object"&&(N=qe(ot(N,D),D)),N}function Xe(N,D,_){return typeof N=="string"?N=ot(qe(N,_),_):i(N)==="object"&&(N=ot(N,_)),typeof D=="string"?D=ot(qe(D,_),_):i(D)==="object"&&(D=ot(D,_)),N===D}function st(N,D){return N&&N.toString().replace(!D||!D.iri?f.ESCAPE:d.ESCAPE,fe)}function gt(N,D){return N&&N.toString().replace(!D||!D.iri?f.PCT_ENCODED:d.PCT_ENCODED,le)}var K={scheme:"http",domainHost:!0,parse:function(D,_){return D.host||(D.error=D.error||"HTTP URIs must have a host."),D},serialize:function(D,_){var j=String(D.scheme).toLowerCase()==="https";return(D.port===(j?443:80)||D.port==="")&&(D.port=void 0),D.path||(D.path="/"),D}},q={scheme:"https",domainHost:K.domainHost,parse:K.parse,serialize:K.serialize};function F(N){return typeof N.secure=="boolean"?N.secure:String(N.scheme).toLowerCase()==="wss"}var J={scheme:"ws",domainHost:!0,parse:function(D,_){var j=D;return j.secure=F(j),j.resourceName=(j.path||"/")+(j.query?"?"+j.query:""),j.path=void 0,j.query=void 0,j},serialize:function(D,_){if((D.port===(F(D)?443:80)||D.port==="")&&(D.port=void 0),typeof D.secure=="boolean"&&(D.scheme=D.secure?"wss":"ws",D.secure=void 0),D.resourceName){var j=D.resourceName.split("?"),Y=l(j,2),ae=Y[0],ce=Y[1];D.path=ae&&ae!=="/"?ae:void 0,D.query=ce,D.resourceName=void 0}return D.fragment=void 0,D}},he={scheme:"wss",domainHost:J.domainHost,parse:J.parse,serialize:J.serialize},de={},pe="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Je="[0-9A-Fa-f]",tt=a(a("%[EFef]"+Je+"%"+Je+Je+"%"+Je+Je)+"|"+a("%[89A-Fa-f]"+Je+"%"+Je+Je)+"|"+a("%"+Je+Je)),Ne="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",St="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",rt=n(St,'[\\"\\\\]'),pt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",er=new RegExp(pe,"g"),mt=new RegExp(tt,"g"),at=new RegExp(n("[^]",Ne,"[\\.]",'[\\"]',rt),"g"),jt=new RegExp(n("[^]",pe,pt),"g"),_t=jt;function ft(N){var D=le(N);return D.match(er)?D:N}var Yt={scheme:"mailto",parse:function(D,_){var j=D,Y=j.to=j.path?j.path.split(","):[];if(j.path=void 0,j.query){for(var ae=!1,ce={},me=j.query.split("&"),Me=0,Se=me.length;Me<Se;++Me){var Ge=me[Me].split("=");switch(Ge[0]){case"to":for(var Be=Ge[1].split(","),Ye=0,Pe=Be.length;Ye<Pe;++Ye)Y.push(Be[Ye]);break;case"subject":j.subject=gt(Ge[1],_);break;case"body":j.body=gt(Ge[1],_);break;default:ae=!0,ce[gt(Ge[0],_)]=gt(Ge[1],_);break}}ae&&(j.headers=ce)}j.query=void 0;for(var et=0,nt=Y.length;et<nt;++et){var Qe=Y[et].split("@");if(Qe[0]=gt(Qe[0]),_.unicodeSupport)Qe[1]=gt(Qe[1],_).toLowerCase();else try{Qe[1]=Z.toASCII(gt(Qe[1],_).toLowerCase())}catch(vt){j.error=j.error||"Email address's domain name can not be converted to ASCII via punycode: "+vt}Y[et]=Qe.join("@")}return j},serialize:function(D,_){var j=D,Y=c(D.to);if(Y){for(var ae=0,ce=Y.length;ae<ce;++ae){var me=String(Y[ae]),Me=me.lastIndexOf("@"),Se=me.slice(0,Me).replace(mt,ft).replace(mt,o).replace(at,fe),Ge=me.slice(Me+1);try{Ge=_.iri?Z.toUnicode(Ge):Z.toASCII(gt(Ge,_).toLowerCase())}catch(et){j.error=j.error||"Email address's domain name can not be converted to "+(_.iri?"Unicode":"ASCII")+" via punycode: "+et}Y[ae]=Se+"@"+Ge}j.path=Y.join(",")}var Be=D.headers=D.headers||{};D.subject&&(Be.subject=D.subject),D.body&&(Be.body=D.body);var Ye=[];for(var Pe in Be)Be[Pe]!==de[Pe]&&Ye.push(Pe.replace(mt,ft).replace(mt,o).replace(jt,fe)+"="+Be[Pe].replace(mt,ft).replace(mt,o).replace(_t,fe));return Ye.length&&(j.query=Ye.join("&")),j}},Tt=/^([^\:]+)\:(.*)/,Ze={scheme:"urn",parse:function(D,_){var j=D.path&&D.path.match(Tt),Y=D;if(j){var ae=_.scheme||Y.scheme||"urn",ce=j[1].toLowerCase(),me=j[2],Me=ae+":"+(_.nid||ce),Se=ne[Me];Y.nid=ce,Y.nss=me,Y.path=void 0,Se&&(Y=Se.parse(Y,_))}else Y.error=Y.error||"URN can not be parsed.";return Y},serialize:function(D,_){var j=_.scheme||D.scheme||"urn",Y=D.nid,ae=j+":"+(_.nid||Y),ce=ne[ae];ce&&(D=ce.serialize(D,_));var me=D,Me=D.nss;return me.path=(Y||_.nid)+":"+Me,me}},$t=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,$={scheme:"urn:uuid",parse:function(D,_){var j=D;return j.uuid=j.nss,j.nss=void 0,!_.tolerant&&(!j.uuid||!j.uuid.match($t))&&(j.error=j.error||"UUID is not valid."),j},serialize:function(D,_){var j=D;return j.nss=(D.uuid||"").toLowerCase(),j}};ne[K.scheme]=K,ne[q.scheme]=q,ne[J.scheme]=J,ne[he.scheme]=he,ne[Yt.scheme]=Yt,ne[Ze.scheme]=Ze,ne[$.scheme]=$,t.SCHEMES=ne,t.pctEncChar=fe,t.pctDecChars=le,t.parse=qe,t.removeDotSegments=Et,t.serialize=ot,t.resolveComponents=Ve,t.resolve=Mt,t.normalize=dt,t.equal=Xe,t.escapeComponent=st,t.unescapeComponent=gt,Object.defineProperty(t,"__esModule",{value:!0})})})(Th,Th.exports);var ab=Th.exports;class I4 extends Gr{constructor({socketUri:e,authEndpoint:t,appKey:n="knishio"}){console.log("PusherLink::constructor()..."),super(),this.socketUri=e,this.authEndpoint=t,this.appKey=n,this.setAuthToken(""),this.setTransport(this.getSocketUri())}setTransport(e){console.log(`Connecting to socket endpoint ${e}...`);const t=ab.parse(e);if(!["ws","wss"].includes(t.scheme))throw new $r("Incorrect scheme for the socket");this.transport=new k4(this.appKey,{auth:{headers:{"X-Auth-Token":this.getAuthToken(),Accept:"application/json"}},wsHost:t.host,wsPort:t.port,forceTLS:t.scheme==="wss",encrypted:!0,enabledTransports:[t.scheme],authEndpoint:this.authEndpoint})}disconnect(){this.transport.disconnect()}channel(e){return this.transport.channel(e)||null}getAuthToken(){return this.auth}setAuthToken(e){this.auth=e}getSocketUri(){return this.socketUri}request(e,t){this.transport.config.auth.headers["X-Auth-Token"]=this.getAuthToken();const n=new ar(i=>{}),a=n.subscribe.bind(n);return n.subscribe=(i,o,c)=>{a(i,o,c);const u=R4(i,o,c);let h;return t(e).subscribe({next:f=>{if(h=ur.get(f,"extensions.lighthouse_subscriptions.channel"),!h){u.next(f),u.complete();return}this.subscribeToChannel(h,u)}}),{closed:!1,unsubscribe:()=>{h&&this.unsubscribeFromChannel(h)}}},n}subscribeToChannel(e,t){this.transport.subscribe(e).bind("lighthouse-subscription",n=>{n.more||(this.unsubscribeFromChannel(e),t.complete());const a=n.result;a&&t.next(a)})}unsubscribeFromChannel(e){this.transport.unsubscribe(e)}}function R4(r,e,t){return typeof r=="function"?{next:n=>r(n),error:n=>e&&e(n),complete:()=>t&&t()}:{next:n=>r.next&&r.next(n),error:n=>r.error&&r.error(n),complete:()=>r.complete&&r.complete()}}class C4 extends Gr{constructor(){super(),this.auth=""}getAuthToken(){return this.auth}setAuthToken(e){this.auth=e}request(e,t){return e.setContext(({headers:n={}})=>({headers:Nh(ni({},n),{"X-Auth-Token":this.getAuthToken()})})),t(e)}}class O4 extends Gr{constructor(){super(),this.__wallet=null,this.__pubkey=null}setWallet(e){this.__wallet=e}getWallet(){return this.__wallet}setPubKey(e){this.__pubkey=e}getPubKey(){return this.__pubkey}request(e,t){const n=Xy(e),a=h4(e),i=a==="mutation"&&n==="ProposeMolecule",o=[a==="query"&&["__schema","ContinuId"].includes(n),a==="mutation"&&n==="AccessToken",i&&ur.get(e,"variables.molecule.atoms.0.isotope")==="U"],c={query:n1(e.query),variables:JSON.stringify(e.variables)},u=this.getWallet(),h=this.getPubKey();for(const f in o)if(o[f])return t(e);if(!h)throw new $r("CipherLink::request() - Node public key missing!");if(!u)throw new $r("CipherLink::request() - Authorized wallet missing!");return e.operationName=null,e.query=sr`query ( $Hash: String! ) { CipherHash ( Hash: $Hash ) { hash } }`,e.variables={Hash:JSON.stringify(u.encryptMessage(c,h))},t(e).map(f=>{let d=f.data;if(d.data&&(d=d.data),d.CipherHash&&d.CipherHash.hash){const l=JSON.parse(d.CipherHash.hash),y=u.decryptMessage(l);if(y===null)throw new $r("CipherLink::request() - Unable to decrypt response!");return y}return f})}}class B4 extends Qy{constructor({serverUri:e,soketi:t=null,encrypt:n=!1}){const a=ni({socketUri:null,appKey:"knishio"},t||{}),i=[],o=new A4({uri:e,fetch:M4,transportBatching:!0}),c=new C4;let u=null,h=null;if(i.push(c),n&&(u=new O4,i.push(u)),a&&a.socketUri){const f=ab.parse(e);h=new I4({socketUri:a.socketUri,authEndpoint:`${f.scheme}://${f.host}/graphql/subscriptions/auth`,appKey:a.appKey}),i.push(h)}i.push(I3(nb(l4),o)),super({link:k3(i),cache:new Fy,connectToDevTools:!0,defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"},mutate:{fetchPolicy:"no-cache",errorPolicy:"all"},subscribe:{fetchPolicy:"no-cache",errorPolicy:"all"}}}),this.__serverUri=e,this.__soketi=a,this.__authLink=c,this.__socket=h,this.__cipherLink=u,this.__pubkey=null,this.__wallet=null}getAuthToken(){return this.__authLink.getAuthToken()}getPubKey(){return this.__pubkey}getWallet(){return this.__wallet}setAuthData({token:e,pubkey:t=null,wallet:n=null}){this.__wallet=n,this.__pubkey=t,this.__authLink.setAuthToken(e),this.__socket&&this.__socket.setAuthToken(e),this.__cipherLink&&(this.__cipherLink.setWallet(this.__wallet),this.__cipherLink.setPubKey(this.__pubkey))}socketDisconnect(){this.__socket&&this.__socket.disconnect()}unsubscribeFromChannel(e){this.__socket&&this.__socket.unsubscribeFromChannel(e)}getServerUri(){return this.__serverUri}getSocketUri(){return this.__soketi.socketUri}}class P4{constructor({serverUri:e,socket:t=null,encrypt:n=!1}){this.$__subscribers={},this.$__uri=e,this.$__socket=ni({socketUri:null,appKey:"knishio"},t||{}),this.$__client=null,this.restartTransport(n)}restartTransport(e=!1){const t=new B4({serverUri:this.$__uri,soketi:this.$__socket,encrypt:e});this.$__client&&(t.setAuthData({token:this.$__client.getAuthToken(),pubkey:this.$__client.getPubKey(),wallet:this.$__client.getWallet()}),this.socketDisconnect()),this.$__client=t}setEncryption(e=!1){this.restartTransport(e)}unsubscribe(e){this.$__subscribers.hasOwnProperty(e)&&(this.$__subscribers[e].unsubscribe(),this.$__client.unsubscribeFromChannel(e),delete this.$__subscribers[e])}unsubscribeAll(){for(let e in this.$__subscribers)this.unsubscribe(e)}socketDisconnect(){this.$__client.socketDisconnect(),this.$__subscribers={}}subscribe(e,t){const n=Xy(e);return this.unsubscribe(n),this.$__subscribers[n]=this.$__client.subscribe(e).subscribe(a=>t(a)),n}query(e){return wt(this,null,function*(){return yield this.$__client.query(e)})}mutate(e){return wt(this,null,function*(){return yield this.$__client.mutate(e)})}setAuthData({token:e,pubkey:t,wallet:n}){this.$__client.setAuthData({token:e,pubkey:t,wallet:n})}getAuthToken(){let e=this.$__client.getAuthToken();return e?e.getToken():null}getUri(){return this.$__uri}setUri(e){this.$__uri=e}getSocketUri(){return this.$__socket?this.$__socket.socketUri:null}setSocketUri({socketUri:e,appKey:t}){this.$__socket=arguments.length?arguments[0]:this.$__socket}}class Fo{constructor(e){this.client=e,this.$__variables=null,this.$__subscribe=null}createSubscribe({variables:e=null}){if(this.$__variables=this.compiledVariables(e),!this.uri())throw new $r("Subscribe::createSubscribe() - Node URI was not initialized for this client instance!");if(this.$__subscribe===null)throw new $r("Subscribe::createSubscribe() - GraphQL subscription was not initialized!");return{query:this.$__subscribe,variables:this.variables(),fetchPolicy:"no-cache"}}execute(n){return wt(this,arguments,function*({variables:e=null,closure:t}){if(!t)throw new $r(`${this.constructor.name}::execute() - closure parameter is required!`);return this.$__request=this.createSubscribe({variables:e}),this.client.subscribe(this.$__request,t)})}compiledVariables(e=null){return e||{}}uri(){return this.client.getUri()}variables(){return this.$__variables}}class D4 extends Fo{constructor(e){super(e),this.$__subscribe=sr`
      subscription onCreateMolecule ( $bundle: String! ) {
        CreateMolecule( bundle: $bundle ) {
          molecularHash,
          cellSlug,
          counterparty,
          bundleHash,
          status,
          local,
          height,
          depth,
          createdAt,
          receivedAt,
          processedAt,
          broadcastedAt,
          reason,
          reasonPayload,
          payload,
          status,
          atoms {
            molecularHash,
            position,
            isotope,
            walletAddress,
            tokenSlug,
            batchId,
            value,
            index,
            metaType,
            metaId,
            metasJson,
            otsFragment,
            createdAt,
            metas {
              molecularHash,
              position,
              metaType,
              metaId,
              key,
              value,
              createdAt,
            }
          }
        }
      }
    `}}class N4 extends Fo{constructor(e){super(e),this.$__subscribe=sr`
      subscription onWalletStatus ( $bundle: String!, $token: String! ) {
        WalletStatus( bundle: $bundle, token: $token ) {
          bundle,
          token,
          admission,
          balance,
        }
      }
    `}}class q4 extends Fo{constructor(e){super(e),this.$__subscribe=sr`
      subscription onActiveWallet ( $bundle: String! ) {
        ActiveWallet( bundle: $bundle ) {
          address,
          bundleHash,
          walletBundle {
            bundleHash,
            slug,
            createdAt,
          },
          tokenSlug,
          token {
            slug,
            name,
            fungibility,
            supply,
            decimals,
            amount,
            icon,
            createdAt
          },
          batchId,
          position,
          characters,
          pubkey,
          amount,
          createdAt,
          metas {
            molecularHash,
            position,
            metaType,
            metaId,
            key,
            value,
            createdAt,
          }
        }
      }
    `}}class L4 extends Fo{constructor(e){super(e),this.$__subscribe=sr`
      subscription onActiveUser ( $metaType: String!, $metaId: String! ) {
        ActiveUser( metaType: $metaType, metaId: $metaId ) {
          bundleHash,
          metaType,
          metaId,
          jsonData,
          createdAt,
          updatedAt
        }
      }`}}class F4 extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.ActiveSession"})}}class U4 extends Sh{constructor(e){super(e),this.$__query=sr`mutation(
      $bundleHash: String!,
      $metaType: String!,
      $metaId: String!,
      $ipAddress: String,
      $browser: String,
      $osCpu: String,
      $resolution: String,
      $timeZone: String,
      $json: String ) {
      ActiveSession(
        bundleHash: $bundleHash,
        metaType: $metaType,
        metaId: $metaId,
        ipAddress: $ipAddress,
        browser: $browser,
        osCpu: $osCpu,
        resolution: $resolution,
        timeZone: $timeZone,
        json: $json
      ) {
        bundleHash,
        metaType,
        metaId,
        jsonData,
        createdAt,
        updatedAt
      }
    }`}createResponse(e){return new F4({query:this,json:e})}}class j4 extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.ActiveUser"})}payload(){const e=this.data();if(!e)return null;const t=[];for(let n of e){const a=ni({},n);a.jsonData&&(a.jsonData=JSON.parse(a.jsonData)),a.createdAt&&(a.createdAt=new Date(a.createdAt)),a.updatedAt&&(a.updatedAt=new Date(a.updatedAt)),t.push(a)}return t}}class $4 extends Lr{constructor(e){super(e),this.$__query=sr`query ActiveUserQuery ($bundleHash:String, $metaType: String, $metaId: String) {
      ActiveUser (bundleHash: $bundleHash, metaType: $metaType, metaId: $metaId) {
        bundleHash,
        metaType,
        metaId,
        jsonData,
        createdAt,
        updatedAt
      }
    }`}createResponse(e){return new j4({query:this,json:e})}}class H4 extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.UserActivity"})}payload(){const e=JSON.parse(JSON.stringify(this.data()));if(e.instances)for(const t of e.instances)t.jsonData=JSON.parse(t.jsonData);return e}}class z4 extends Lr{constructor(e){super(e),this.$__query=sr`query UserActivity (
      $bundleHash:String,
      $metaType: String,
      $metaId: String,
      $ipAddress: String,
      $browser: String,
      $osCpu: String,
      $resolution: String,
      $timeZone: String,
      $countBy: [CountByUserActivity],
      $interval: span
    ) {
      UserActivity (
        bundleHash: $bundleHash,
        metaType: $metaType,
        metaId: $metaId,
        ipAddress: $ipAddress,
        browser: $browser,
        osCpu: $osCpu,
        resolution: $resolution,
        timeZone: $timeZone,
        countBy: $countBy,
        interval: $interval
      ) {
        createdAt,
        bundleHash,
        metaType,
        metaId,
        instances {
          bundleHash,
          metaType,
          metaId,
          jsonData,
          createdAt,
          updatedAt
        },
        instanceCount {
          ...SubFields,
          ...Recursive
        }
      }
    }

    fragment SubFields on InstanceCountType {
      id,
      count
    }

    fragment Recursive on InstanceCountType {
      instances {
        ...SubFields
        instances {
          ...SubFields,
          instances {
            ...SubFields
            instances {
              ...SubFields
              instances {
                ...SubFields
                instances {
                  ...SubFields
                  instances {
                    ...SubFields
                    instances {
                      ...SubFields
                    }
                  }
                }
              }
            }
          }
        }
      }
    }`}createResponse(e){return new H4({query:this,json:e})}}class V4 extends Lr{constructor(e){super(e),this.$__query=sr`query( $slug: String, $slugs: [ String! ], $limit: Int, $order: String ) {
      Token( slug: $slug, slugs: $slugs, limit: $limit, order: $order ) {
        slug,
        name,
        fungibility,
        supply,
        decimals,
        amount,
        icon,
      }
    }`}createResponse(e){return new Cr({query:this,json:e,dataKey:"data.Token"})}}class ob extends or{constructor(e="Authorization attempt rejected by ledger.",t=null,n=null){super(e,t,n),this.name="AuthorizationRejectedException"}}class W4 extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.Atom"})}payload(){const e=this.data();if(!e)return null;let t={instances:[],instanceCount:{},paginatorInfo:{}};if(e.instances){t.instances=e.instances;for(let n in t.instances){let a=t.instances[n];a.metasJson&&(t.instances[n].metas=JSON.parse(a.metasJson))}}return e.instanceCount&&(t.instanceCount=e.instanceCount),e.paginatorInfo&&(t.paginatorInfo=e.paginatorInfo),t}metas(){const e=this.payload(),t=[];if(e&&e.instances)for(const n of e.instances)n.metasJson&&t.push(JSON.parse(n.metasJson));return t}}class sb extends Lr{constructor(e){super(e),this.$__query=sr`query(
      $molecularHashes: [String!],
      $bundleHashes: [String!],
      $positions:[String!],
      $walletAddresses: [String!],
      $isotopes: [String!],
      $tokenSlugs: [String!],
      $cellSlugs: [String!],
      $batchIds: [String!],
      $values: [String!],
      $metaTypes: [String!],
      $metaIds: [String!],
      $indexes: [String!],
      $filter: [ MetaFilter! ],
      $latest: Boolean,
      $queryArgs: QueryArgs,
    ) {
      Atom(
        molecularHashes: $molecularHashes,
        bundleHashes: $bundleHashes,
        positions: $positions,
        walletAddresses: $walletAddresses,
        isotopes: $isotopes,
        tokenSlugs: $tokenSlugs,
        cellSlugs: $cellSlugs,
        batchIds: $batchIds,
        values: $values,
        metaTypes: $metaTypes,
        metaIds: $metaIds,
        indexes: $indexes,
        filter: $filter,
        latest: $latest,
        queryArgs: $queryArgs,
      ) {
        instances {
          position,
          walletAddress,
          tokenSlug,
          isotope,
          index,
          molecularHash,
          metaId,
          metaType,
          metasJson,
          batchId,
          value,
          bundleHashes,
          cellSlugs,
          createdAt,
          otsFragment
        },
        paginatorInfo {
          currentPage,
          total
        }
      }
    }`}static createVariables({molecularHashes:e,molecularHash:t,bundleHashes:n,bundleHash:a,positions:i,position:o,walletAddresses:c,walletAddress:u,isotopes:h,isotope:f,tokenSlugs:d,tokenSlug:l,cellSlugs:y,cellSlug:m,batchIds:w,batchId:E,values:x,value:P,metaTypes:L,metaType:U,metaIds:z,metaId:W,indexes:re,index:ie,filter:se,latest:ve,queryArgs:Q}){return t&&(e=e||[],e.push(t)),a&&(n=n||[],n.push(a)),o&&(i=i||[],i.push(o)),u&&(c=c||[],c.push(u)),f&&(h=h||[],h.push(f)),l&&(d=d||[],d.push(l)),m&&(y=y||[],y.push(m)),E&&(w=w||[],w.push(E)),P&&(x=x||[],x.push(P)),U&&(L=L||[],L.push(U)),W&&(z=z||[],z.push(W)),ie&&(re=re||[],re.push(ie)),{molecularHashes:e,bundleHashes:n,positions:i,walletAddresses:c,isotopes:h,tokenSlugs:d,cellSlugs:y,batchIds:w,values:x,metaTypes:L,metaIds:z,indexes:re,filter:se,latest:ve,queryArgs:Q}}createResponse(e){return new W4({query:this,json:e})}}class K4 extends Cr{constructor({query:e,json:t}){super({query:e,json:t}),this.dataKey="data.Policy",this.init()}payload(){const e=this.data();return e&&e.callback?JSON.parse(e.callback):null}}class Q4 extends Lr{constructor(e){super(e),this.$__query=sr`query( $metaType: String, $metaId: String, ) {
      Policy( metaType: $metaType, metaId: $metaId ) {
        molecularHash,
        position,
        metaType,
        metaId,
        conditions,
        callback,
        rule,
        createdAt
      }
    }`}createResponse(e){return new K4({query:this,json:e})}}class G4 extends Cr{constructor({query:e,json:t}){super({query:e,json:t,dataKey:"data.MetaTypeViaAtom"})}payload(){const e=this.data();if(!e||e.length===0)return null;let t={instances:{},instanceCount:{},paginatorInfo:{}},n=e.pop();return n.instances&&(t.instances=n.instances),n.instanceCount&&(t.instanceCount=n.instanceCount),n.paginatorInfo&&(t.paginatorInfo=n.paginatorInfo),t}}class fb extends Lr{constructor(e){super(e),this.$__query=sr`query ($metaTypes: [String!], $metaIds: [String!], $values: [String!], $keys: [String!], $latest: Boolean, $filter: [MetaFilter!], $queryArgs: QueryArgs, $countBy: String, $atomValues: [String!] ) {
      MetaTypeViaAtom(
        metaTypes: $metaTypes
        metaIds: $metaIds
        atomValues: $atomValues
        filter: $filter,
        latest: $latest,
        queryArgs: $queryArgs
        countBy: $countBy
      ) {
        metaType,
        instanceCount {
          key,
          value
        },
        instances {
          metaType,
          metaId,
          createdAt,
          metas( values: $values, keys: $keys ) {
            molecularHash,
            position,
            key,
            value,
            createdAt
          }
        },
        paginatorInfo {
          currentPage,
          total
        }
      }
    }`}static createVariables({metaType:e=null,metaId:t=null,key:n=null,value:a=null,keys:i=null,values:o=null,atomValues:c=null,latest:u=null,latestMetas:h=!0,filter:f=null,queryArgs:d=null,countBy:l=null}){const y={};return c&&(y.atomValues=c),i&&(y.keys=i),o&&(y.values=o),e&&(y.metaTypes=typeof e=="string"?[e]:e),t&&(y.metaIds=typeof t=="string"?[t]:t),l&&(y.countBy=l),f&&(y.filter=f),n&&a&&(y.filter=y.filter||[],y.filter.push({key:n,value:a,comparison:"="})),u&&(y.latest=!!u,y.latest=!!h),d&&((typeof d.limit=="undefined"||d.limit===0)&&(d.limit="*"),y.queryArgs=d),y}createResponse(e){return new G4({query:this,json:e})}}class J4 extends rn{}class Y4 extends Tr{fillMolecule({metaType:e,metaId:t,rule:n,policy:a}){this.$__molecule.createRule({metaType:e,metaId:t,rule:n,policy:a}),this.$__molecule.sign({}),this.$__molecule.check()}createResponse(e){return new J4({query:this,json:e})}}class X4 extends Tr{fillMolecule({amount:e,tradeRates:t}){this.$__molecule.initDepositBuffer({amount:e,tradeRates:t}),this.$__molecule.sign({}),this.$__molecule.check(this.$__molecule.sourceWallet)}}class Z4 extends Tr{fillMolecule({recipients:e,signingWallet:t}){this.$__molecule.initWithdrawBuffer({recipients:e,signingWallet:t}),this.$__molecule.sign({}),this.$__molecule.check(this.$__molecule.sourceWallet)}}class ub{constructor({uri:e,cellSlug:t=null,client:n=null,socket:a=null,serverSdkVersion:i=3,logging:o=!1}){this.initialize({uri:e,cellSlug:t,socket:a,client:n,serverSdkVersion:i,logging:o})}initialize({uri:e,cellSlug:t=null,socket:n=null,client:a=null,serverSdkVersion:i=3,logging:o=!1}){this.$__logging=o,this.$__uris=typeof e=="object"?e:[e],this.$__authTokenObjects={},this.$__authInProcess=!1,t&&this.setCellSlug(t);for(let c in this.$__uris){let u=this.$__uris[c];this.$__authTokenObjects[u]=null}this.$__logging&&console.info(`KnishIOClient::initialize() - Initializing new Knish.IO client session for SDK version ${i}...`),this.reset(),this.$__client=a||new P4({socket:ni({socketUri:null,appKey:"knishio"},n||{}),serverUri:this.getRandomUri()}),this.$__serverSdkVersion=i}getRandomUri(){let e=Math.floor(Math.random()*this.$__uris.length);return this.$__uris[e]}switchEncryption(e){return this.$__encrypt===e?!1:(this.$__logging&&console.info(`KnishIOClient::switchEncryption() - Forcing encryption ${e?"on":"off"} to match node...`),this.$__encrypt=e,this.$__client.setEncryption(e),!0)}deinitialize(){this.$__logging&&console.info("KnishIOClient::deinitialize() - Clearing the Knish.IO client session..."),this.reset()}subscribe(){if(!this.client().getSocketUri())throw new $r("KnishIOClient::subscribe() - Socket client not initialized!");return this.client()}getServerSdkVersion(){return this.$__serverSdkVersion}reset(){this.$__secret="",this.$__bundle="",this.remainderWallet=null}cellSlug(){return this.$__cellSlug||null}setCellSlug(e){this.$__cellSlug=e}uri(){return this.$__client.getUri()}client(){if(!this.$__authInProcess){let e=this.getRandomUri();this.$__client.setUri(e);let t=this.$__authTokenObjects[e];t?this.$__client.setAuthData(t.getAuthData()):this.requestAuthToken({secret:this.$__secret,cellSlug:this.$__cellSlug,encrypt:this.$__encrypt}).then(()=>{})}return this.$__client}hasSecret(){return!!this.$__secret}setSecret(e){this.$__secret=e,this.$__bundle=bn(e)}getSecret(){if(!this.hasSecret())throw new lc("KnishIOClient::getSecret() - Unable to find a stored secret! Have you set a secret?");return this.$__secret}hasBundle(){return!!this.$__bundle}getBundle(){if(!this.hasBundle())throw new lc("KnishIOClient::getBundle() - Unable to find a stored bundle! Have you set a secret?");return this.$__bundle}getSourceWallet(){return wt(this,null,function*(){let e=(yield this.queryContinuId({bundle:this.getBundle()})).payload();return e?e.key=Zt.generateKey({secret:this.getSecret(),token:e.token,position:e.position}):e=new Zt({secret:this.getSecret()}),e})}getRemainderWallet(){return this.remainderWallet}createMolecule(a){return wt(this,arguments,function*({secret:e=null,sourceWallet:t=null,remainderWallet:n=null}){return this.$__logging&&console.info("KnishIOClient::createMolecule() - Creating a new molecule..."),e=e||this.getSecret(),!t&&this.lastMoleculeQuery&&this.getRemainderWallet().token==="USER"&&this.lastMoleculeQuery.response()&&this.lastMoleculeQuery.response().success()&&(t=this.getRemainderWallet()),t===null&&(t=yield this.getSourceWallet()),this.remainderWallet=n||Zt.create({secretOrBundle:e,token:"USER",batchId:t.batchId,characters:t.characters}),new hn({secret:e,sourceWallet:t,remainderWallet:this.getRemainderWallet(),cellSlug:this.cellSlug(),version:this.getServerSdkVersion()})})}createQuery(e){return new e(this.client())}createSubscribe(e){return new e(this.subscribe())}createMoleculeMutation(n){return wt(this,arguments,function*({mutationClass:e,molecule:t=null}){this.$__logging&&console.info(`KnishIOClient::createMoleculeQuery() - Creating a new ${e.name} query...`);let a=t||(yield this.createMolecule({}));const i=new e(this.client(),a);if(!(i instanceof Tr))throw new $r(`${this.constructor.name}::createMoleculeMutation() - This method only accepts MutationProposeMolecule!`);return this.lastMoleculeQuery=i,i})}executeQuery(e,t=null){return wt(this,null,function*(){return this.$__authToken&&this.$__authToken.isExpired()&&(console.info("KnishIOClient::executeQuery() - Access token is expired. Getting new one..."),yield this.requestAuthToken({secret:this.$__secret,cellSlug:this.$__cellSlug,encrypt:this.$__encrypt})),e.execute({variables:t})})}queryBalance(a){return wt(this,arguments,function*({token:e,bundle:t=null,type:n="regular"}){const i=this.createQuery(Hw);return this.executeQuery(i,{bundleHash:t||this.getBundle(),token:e,type:n})})}querySourceWallet(a){return wt(this,arguments,function*({token:e,amount:t,type:n="regular"}){let i=(yield this.queryBalance({token:e,type:n})).payload();if(i===null||vi.cmp(i.balance,t)<0)throw new _n;if(!i.position||!i.address)throw new _n("Source wallet can not be a shadow wallet.");return i})}subscribeCreateMolecule(n){return wt(this,arguments,function*({bundle:e,closure:t}){return yield this.createSubscribe(D4).execute({variables:{bundle:e||this.getBundle()},closure:t})})}subscribeWalletStatus({bundle:e,token:t,closure:n}){if(!t)throw new $r(`${this.constructor.name}::subscribeWalletStatus() - Token parameter is required!`);return this.createSubscribe(N4).execute({variables:{bundle:e||this.getBundle(),token:t},closure:n})}subscribeActiveWallet({bundle:e,closure:t}){return this.createSubscribe(q4).execute({variables:{bundle:e||this.getBundle()},closure:t})}subscribeActiveSession({metaType:e,metaId:t,closure:n}){return this.createSubscribe(L4).execute({variables:{metaType:e,metaId:t},closure:n})}unsubscribe(e){this.subscribe().unsubscribe(e)}unsubscribeAll(){this.subscribe().unsubscribeAll()}queryMeta({metaType:e,metaId:t=null,key:n=null,value:a=null,latest:i=null,latestMetas:o=null,fields:c=null,filter:u=null,queryArgs:h=null,count:f=null,countBy:d=null,throughAtom:l=!0,values:y=null,keys:m=null,atomValues:w=null}){this.$__logging&&console.info(`KnishIOClient::queryMeta() - Querying metaType: ${e}, metaId: ${t}...`);let E,x;return l?(E=this.createQuery(fb),x=fb.createVariables({metaType:e,metaId:t,key:n,value:a,latest:i,latestMetas:o,filter:u,queryArgs:h,countBy:d,values:y,keys:m,atomValues:w})):(E=this.createQuery(xh),x=xh.createVariables({metaType:e,metaId:t,key:n,value:a,latest:i,latestMetas:o,filter:u,queryArgs:h,count:f,countBy:d})),this.executeQuery(E,x).then(P=>P.payload())}queryMetaInstance({metaType:e,metaId:t=null,key:n=null,value:a=null,latest:i=null,filter:o=null,fields:c=null}){this.$__logging&&console.info(`KnishIOClient::queryMetaInstance() - Querying metaType: ${e}, metaId: ${t}...`);const u=this.createQuery(xh),h={metaType:e,metaIds:[t],keys:[n],values:[a],latest:i,filter:o};return this.executeQuery(u,h).then(f=>f.data())}queryBatch(t){return wt(this,arguments,function*({batchId:e}){this.$__logging&&console.info(`KnishIOClient::queryBatch() - Querying cascading meta instances for batchId: ${e}...`);const n=this.createQuery(xa);return yield this.executeQuery(n,{batchId:e})})}queryBatchHistory(t){return wt(this,arguments,function*({batchId:e}){this.$__logging&&console.info(`KnishIOClient::queryBatchHistory() - Querying cascading meta instances for batchId: ${e}...`);const n=this.createQuery(Vw);return yield this.executeQuery(n,{batchId:e})})}queryAtom(M){return wt(this,arguments,function*({molecularHashes:e,molecularHash:t,bundleHashes:n,bundleHash:a,positions:i,position:o,walletAddresses:c,walletAddress:u,isotopes:h,isotope:f,tokenSlugs:d,tokenSlug:l,cellSlugs:y,cellSlug:m,batchIds:w,batchId:E,values:x,value:P,metaTypes:L,metaType:U,metaIds:z,metaId:W,indexes:re,index:ie,filter:se,latest:ve,queryArgs:Q={limit:15,offset:1}}){this.$__logging&&console.info("KnishIOClient::queryAtom() - Querying atom instances");const b=this.createQuery(sb);return yield this.executeQuery(b,sb.createVariables({molecularHashes:e,molecularHash:t,bundleHashes:n,bundleHash:a,positions:i,position:o,walletAddresses:c,walletAddress:u,isotopes:h,isotope:f,tokenSlugs:d,tokenSlug:l,cellSlugs:y,cellSlug:m,batchIds:w,batchId:E,values:x,value:P,metaTypes:L,metaType:U,metaIds:z,metaId:W,indexes:re,index:ie,filter:se,latest:ve,queryArgs:Q}))})}createWallet(t){return wt(this,arguments,function*({token:e}){const n=new Zt({secret:this.getSecret(),token:e}),a=yield this.createMoleculeMutation({mutationClass:s4});return a.fillMolecule(n),yield this.executeQuery(a)})}queryActiveSession(a){return wt(this,arguments,function*({bundleHash:e,metaType:t,metaId:n}){const i=this.createQuery($4);return yield this.executeQuery(i,{bundleHash:e,metaType:t,metaId:n})})}queryUserActivity(d){return wt(this,arguments,function*({bundleHash:e,metaType:t,metaId:n,ipAddress:a,browser:i,osCpu:o,resolution:c,timeZone:u,countBy:h,interval:f}){const l=this.createQuery(z4);return yield this.executeQuery(l,{bundleHash:e,metaType:t,metaId:n,ipAddress:a,browser:i,osCpu:o,resolution:c,timeZone:u,countBy:h,interval:f})})}activeSession(f){return wt(this,arguments,function*({bundle:e,metaType:t,metaId:n,ipAddress:a,browser:i,osCpu:o,resolution:c,timeZone:u,json:h={}}){const d=this.createQuery(U4);return yield this.executeQuery(d,{bundleHash:e,metaType:t,metaId:n,ipAddress:a,browser:i,osCpu:o,resolution:c,timeZone:u,json:JSON.stringify(h)})})}createToken(o){return wt(this,arguments,function*({token:e,amount:t=null,meta:n=null,batchId:a=null,units:i=[]}){const c=ur.get(n||{},"fungibility");if(c==="stackable"&&(n.batchId=a||Pa({})),["nonfungible","stackable"].includes(c)&&i.length>0){if(ur.get(n||{},"decimals")>0)throw new c4;if(t>0)throw new Lo;t=i.length,n.splittable=1,n.decimals=0,n.tokenUnits=JSON.stringify(i)}const u=new Zt({secret:this.getSecret(),bundle:this.getBundle(),token:e,batchId:a}),h=yield this.createMoleculeMutation({mutationClass:Gw});return h.fillMolecule({recipientWallet:u,amount:t,meta:n||{}}),yield this.executeQuery(h)})}createRule(i){return wt(this,arguments,function*({metaType:e,metaId:t,rule:n,policy:a={}}){const o=yield this.createMoleculeMutation({mutationClass:Y4,molecule:yield this.createMolecule({secret:this.getSecret(),sourceWallet:yield this.getSourceWallet()})});return o.fillMolecule({metaType:e,metaId:t,rule:n,policy:a}),yield this.executeQuery(o)})}createMeta(i){return wt(this,arguments,function*({metaType:e,metaId:t,meta:n=null,policy:a={}}){const o=yield this.createMoleculeMutation({mutationClass:a4,molecule:yield this.createMolecule({secret:this.getSecret(),sourceWallet:yield this.getSourceWallet()})}),c=n||{};return o.fillMolecule({metaType:e,metaId:t,meta:c,policy:a}),yield this.executeQuery(o)})}createIdentifier(a){return wt(this,arguments,function*({type:e,contact:t,code:n}){const i=yield this.createMoleculeMutation({mutationClass:t4});return i.fillMolecule({type:e,contact:t,code:n}),yield this.executeQuery(i)})}createPolicy(a){return wt(this,arguments,function*({metaType:e,metaId:t,policy:n={}}){let i=yield this.createMolecule({});i.addPolicyAtom({metaType:e,metaId:t,meta:{},policy:n}),i.addContinuIdAtom(),i.sign({bundle:this.getBundle()}),i.check();const o=yield this.createMoleculeMutation({mutationClass:Tr,molecule:i});return yield this.executeQuery(o)})}queryPolicy(n){return wt(this,arguments,function*({metaType:e,metaId:t}){const a=this.createQuery(Q4);return yield this.executeQuery(a,{metaType:e,metaId:t})})}queryWallets({bundle:e=null,token:t=null,unspent:n=!0}){this.$__logging&&console.info(`KnishIOClient::queryWallets() - Querying wallets${e?` for ${e}`:""}...`);const a=this.createQuery(jw);return this.executeQuery(a,{bundleHash:e||this.getBundle(),tokenSlug:t,unspent:n}).then(i=>i.payload())}queryBundle({bundle:e=null,fields:t=null,raw:n=!1}){this.$__logging&&console.info(`KnishIOClient::queryBundle() - Querying wallet bundle metadata${e?` for ${e}`:""}...`),e||(e=this.getBundle()),typeof e=="string"&&(e=[e]);const a=this.createQuery(Uw);return this.executeQuery(a,{bundleHashes:e}).then(i=>n?i:i.payload())}queryContinuId(t){return wt(this,arguments,function*({bundle:e}){const n=this.createQuery(Lw);return this.executeQuery(n,{bundle:e})})}requestTokens(c){return wt(this,arguments,function*({token:e,to:t,amount:n=null,units:a=[],meta:i=null,batchId:o=null}){let u,h;i=i||{};const f=this.createQuery(V4),d=yield this.executeQuery(f,{slug:e}),l=ur.get(d.data(),"0.fungibility")==="stackable";if(!l&&o!==null)throw new fo("Expected Batch ID = null for non-stackable tokens.");if(l&&o===null&&(o=Pa({})),a.length>0){if(n>0)throw new Lo;n=a.length,i.tokenUnits=JSON.stringify(a)}t?(Object.prototype.toString.call(t)==="[object String]"&&(Zt.isBundleHash(t)?(u="walletBundle",h=t):t=Zt.create({secretOrBundle:t,token:e})),t instanceof Zt&&(u="wallet",i.position=t.position,i.bundle=t.bundle,h=t.address)):(u="walletBundle",h=this.getBundle());const y=yield this.createMoleculeMutation({mutationClass:Yw});return y.fillMolecule({token:e,amount:n,metaType:u,metaId:h,meta:i,batchId:o}),yield this.executeQuery(y)})}claimShadowWallet(a){return wt(this,arguments,function*({token:e,batchId:t=null,molecule:n=null}){const i=yield this.createMoleculeMutation({mutationClass:n4,molecule:n});return i.fillMolecule({token:e,batchId:t}),yield this.executeQuery(i)})}claimShadowWallets(t){return wt(this,arguments,function*({token:e}){const n=yield this.queryWallets({token:e});if(!n||!Array.isArray(n))throw new Yy;n.forEach(i=>{if(!i.isShadow())throw new Yy});let a=[];for(const i of n)a.push(yield this.claimShadowWallet({token:e,batchId:i.batchId}));return a})}transferToken(c){return wt(this,arguments,function*({bundleHash:e,token:t,amount:n=null,units:a=[],batchId:i=null,sourceWallet:o=null}){if(a.length>0){if(n>0)throw new Lo;n=a.length}if(o===null&&(o=yield this.querySourceWallet({token:t,amount:n})),o===null||vi.cmp(o.balance,n)<0)throw new _n;let u=Zt.create({secretOrBundle:e,token:t});i!==null?u.batchId=i:u.initBatchId({sourceWallet:o});let h=o.createRemainder(this.getSecret());o.splitUnits(a,h,u);const f=yield this.createMolecule({sourceWallet:o,remainderWallet:h}),d=yield this.createMoleculeMutation({mutationClass:Zw,molecule:f});return d.fillMolecule({recipientWallet:u,amount:n}),yield this.executeQuery(d)})}depositBufferToken(i){return wt(this,arguments,function*({tokenSlug:e,amount:t,tradeRates:n,sourceWallet:a=null}){a===null&&(a=yield this.querySourceWallet({token:e,amount:t}));let o=a.createRemainder(this.getSecret());const c=yield this.createMolecule({sourceWallet:a,remainderWallet:o}),u=yield this.createMoleculeMutation({mutationClass:X4,molecule:c});return u.fillMolecule({amount:t,tradeRates:n}),yield this.executeQuery(u)})}withdrawBufferToken(i){return wt(this,arguments,function*({tokenSlug:e,amount:t,sourceWallet:n=null,signingWallet:a=null}){n===null&&(n=yield this.querySourceWallet({token:e,amount:t,type:"buffer"}));let o=n;const c=yield this.createMolecule({sourceWallet:n,remainderWallet:o}),u=yield this.createMoleculeMutation({mutationClass:Z4,molecule:c});let h={};return h[this.getBundle()]=t,u.fillMolecule({recipients:h,signingWallet:a}),yield this.executeQuery(u)})}burnTokens(i){return wt(this,arguments,function*({token:e,amount:t=null,units:n=[],sourceWallet:a=null}){a===null&&(a=yield this.querySourceWallet({token:e,amount:t}));let o=a.createRemainder(this.getSecret());if(n.length>0){if(t>0)throw new Lo;t=n.length,a.splitUnits(n,o)}let c=yield this.createMolecule({sourceWallet:a,remainderWallet:o});c.burnToken({amount:t}),c.sign({bundle:this.getBundle()}),c.check();const u=yield this.createMoleculeMutation({mutationClass:Tr,molecule:c});return this.executeQuery(u)})}replenishToken(i){return wt(this,arguments,function*({token:e,amount:t=null,units:n=[],sourceWallet:a=null}){if(a===null&&(a=(yield this.queryBalance({token:e})).payload()),!a)throw new _n("Source wallet is missing or invalid.");let o=a.createRemainder(this.getSecret()),c=yield this.createMolecule({sourceWallet:a,remainderWallet:o});c.replenishToken({amount:t,units:n}),c.sign({bundle:this.getBundle()}),c.check();const u=yield this.createMoleculeMutation({mutationClass:Tr,molecule:c});return this.executeQuery(u)})}fuseToken(o){return wt(this,arguments,function*({bundleHash:e,tokenSlug:t,newTokenUnit:n,fusedTokenUnitIds:a,sourceWallet:i=null}){if(i===null&&(i=(yield this.queryBalance({token:t})).payload()),i===null)throw new _n("Source wallet is missing or invalid.");if(!i.tokenUnits||!i.tokenUnits.length)throw new _n("Source wallet does not have token units.");if(!a.length)throw new _n("Fused token unit list is empty.");let c=[];i.tokenUnits.forEach(l=>{c.push(l.id)}),a.forEach(l=>{if(!c.includes(l))throw new _n(`Fused token unit ID = ${l} does not found in the source wallet.`)});let u=Zt.create({secretOrBundle:e,token:t});u.initBatchId({sourceWallet:i});let h=i.createRemainder(this.getSecret());i.splitUnits(a,h),n.metas.fusedTokenUnits=i.getTokenUnitsData(),u.tokenUnits=[n];let f=yield this.createMolecule({sourceWallet:i,remainderWallet:h});f.fuseToken(i.tokenUnits,u),f.sign({bundle:this.getBundle()}),f.check();const d=yield this.createMoleculeMutation({mutationClass:Tr,molecule:f});return this.executeQuery(d)})}requestGuestAuthToken(n){return wt(this,arguments,function*({cellSlug:e,encrypt:t}){this.setCellSlug(e);const a=new Zt({secret:si(),token:"AUTH"}),i=yield this.createQuery(u4),o={cellSlug:e,pubkey:a.pubkey,encrypt:t},c=yield i.execute(o);if(c.success()){const u=Zi.create(c.payload(),a);this.setAuthToken(u)}else throw new ob(`KnishIOClient::requestGuestAuthToken() - Authorization attempt rejected by ledger. Reason: ${c.reason()}`);return c})}requestProfileAuthToken(n){return wt(this,arguments,function*({secret:e,encrypt:t}){this.setSecret(e);const a=new Zt({secret:e,token:"AUTH"}),i=yield this.createMolecule({secret:e,sourceWallet:a}),o=yield this.createMoleculeMutation({mutationClass:Kw,molecule:i});o.fillMolecule({meta:{encrypt:t?"true":"false"}});const c=yield o.execute({});if(c.success()){const u=Zi.create(c.payload(),a);this.setAuthToken(u)}else throw new ob(`KnishIOClient::requestProfileAuthToken() - Authorization attempt rejected by ledger. Reason: ${c.reason()}`);return c})}requestAuthToken(i){return wt(this,arguments,function*({secret:e=null,seed:t=null,cellSlug:n=null,encrypt:a=!1}){if(this.$__serverSdkVersion<3)return this.$__logging&&console.warn("KnishIOClient::authorize() - Server SDK version does not require an authorization..."),null;e===null&&t&&(e=si(t)),this.$__authInProcess=!0;let o;return e?o=yield this.requestProfileAuthToken({secret:e,encrypt:a}):o=yield this.requestGuestAuthToken({cellSlug:n,encrypt:a}),this.$__logging&&console.info(`KnishIOClient::authorize() - Successfully retrieved auth token ${this.$__authToken.getToken()}...`),this.switchEncryption(a),this.$__authInProcess=!1,o})}setAuthToken(e){if(!e){this.$__logging&&console.info("KnishIOClient::setAuthToken() - authToken object is empty.");return}this.$__authTokenObjects[this.uri()]=e,this.client().setAuthData(e.getAuthData()),this.$__authToken=e}getAuthToken(){return this.$__authToken}}class kh{constructor(e,t=!1){this.encrypt=t,this.secrets=[si(),si()],this.tokenSlugs=["TESTTOKEN","UTENVSTACKABLE","UTSTACKUNIT","UTENVSTACKUNIT","UTSTACKUNITZONES","UTSLUG0","UTSLUG1"],this.graphqlUrl=e,console.log(`---------- GraphQL URI: ${this.graphqlUrl}`),this.clients={},this.tokenUnits=[["unit_id_1","unit_name_1"],["unit_id_2","unit_name_2"],["unit_id_3","unit_name_3"],["unit_id_4","unit_name_4"],["unit_id_5","unit_name_5"],["unit_id_6","unit_name_6"],["unit_id_7","unit_name_7"],["unit_id_8","unit_name_8"],["unit_id_9","unit_name_9"],["unit_id_10","unit_name_10"],["unit_id_11","unit_name_11"]],this.replenishTokenUnits=[["unit_id_12","unit_id_12"],["unit_id_13","unit_id_13"],["unit_id_14","unit_id_14"],["unit_id_15","unit_id_15"]];let n=(a,i=0)=>{let o=[];return a.forEach((c,u)=>{let h=Array.from(c);h.push({fragmentZone:i+u}),o.push(h)}),o};this.tokenUnitsFZ=n(this.tokenUnits),this.replenishTokenUnitsFZ=n(Array.from(this.replenishTokenUnits),this.tokenUnits.length),this.fragmentZones=this.tokenUnitsFZ.length+this.replenishTokenUnitsFZ.length,this.fusedTokenUnitIds=[],this.tokenUnitsFZ.slice(0,5).forEach(a=>{this.fusedTokenUnitIds.push(a[0])})}static run(e){return wt(this,null,function*(){for(let t in e)yield new kh(e[t]).testAll()})}testAll(){return wt(this,null,function*(){console.info(`Executing test for: ${this.graphqlUrl}...`),yield this.client(this.secrets[0]),yield this.client(this.secrets[1]),yield this.testCreateToken(),yield this.testFuseToken(),yield this.testCreateWallet(),yield this.testCreateMeta(),yield this.testCreateIdentifier(),yield this.testRequestTokens(),yield this.testTransferToken(),yield this.testBurnToken(),yield this.testReplenishToken(),yield this.testClaimShadowWallet(),yield this.testWalletBufferTransactions(),yield this.testQueryMeta(),yield this.testQueryWallets(),yield this.testQueryBundle(),yield this.testQueryBalance()})}testTokenExpiration(){return wt(this,null,function*(){const e=yield this.client(this.secrets[0]),t=n=>{setTimeout(a=>{console.warn(`setTimeout ${n}`),a.queryMeta({metaType:"metaType",metaId:"metaId"})},n,e,n)};t(3e3),t(3e4),t(61e3),t(64e3)})}testCreateToken(){return wt(this,null,function*(){let e={},t=yield this.client(this.secrets[0]);e[0]=yield t.createToken({token:this.tokenSlugs[0],amount:1e3,meta:{name:this.tokenSlugs[0],fungibility:"stackable",supply:"replenishable",decimals:0,icon:"icon"},batchId:"batch_0"}),this.checkResponse(e[0],"testCreateToken.0");let n=yield this.client(Ot.env.SECRET_TOKEN_KNISH);e[1]=yield n.createToken({token:this.tokenSlugs[1],amount:1e3,meta:{name:this.tokenSlugs[1],fungibility:"stackable",supply:"limited",decimals:0,icon:"icon"},batchId:"server_batch_0"}),this.checkResponse(e[1],"testCreateToken.1"),e[2]=yield t.createToken({token:this.tokenSlugs[2],units:this.tokenUnits,meta:{name:this.tokenSlugs[2],supply:"replenishable",fungibility:"stackable"},batchId:"unit_batch_0"}),this.checkResponse(e[2],"testCreateToken.2"),e[3]=yield n.createToken({token:this.tokenSlugs[3],units:this.tokenUnits,meta:{name:this.tokenSlugs[3],supply:"limited",fungibility:"stackable"},batchId:"server_unit_batch_0"}),this.checkResponse(e[3],"testCreateToken.3"),e[4]=yield t.createToken({token:this.tokenSlugs[4],units:this.tokenUnitsFZ,meta:{name:this.tokenSlugs[4],supply:"replenishable",fungibility:"stackable",fragmentZones:this.fragmentZones},batchId:"unit_fz_batch_0"}),this.checkResponse(e[4],"testCreateToken.4"),t=yield this.client(this.secrets[0]);for(const a of[this.tokenSlugs[5],this.tokenSlugs[6]])e[0]=yield t.createToken({token:a,amount:1e3,meta:{name:a,fungibility:"fungible",supply:"limited",decimals:0,icon:"icon"}}),this.checkResponse(e[0],`testCreateToken.${a}`)})}testCreateWallet(){return wt(this,null,function*(){let t=yield(yield this.client(this.secrets[0])).createWallet({token:this.tokenSlugs[1]});this.checkResponse(t,"testCreateWallet")})}testCreateMeta(){return wt(this,null,function*(){let t=yield(yield this.client(this.secrets[0])).createMeta({metaType:"metaType",metaId:"metaId",meta:{key1:"value1",key2:"value2"}});this.checkResponse(t,"testCreateMeta")})}testCreateIdentifier(){return wt(this,null,function*(){let t=yield(yield this.client(this.secrets[0])).createIdentifier({type:"email",contact:"test@test.com",code:"1234"});console.log(" ############### testCreateIdentifier ###############"),t.reason()!=="Outdated code"&&console.error("Error with response."),this.debug(t)})}testRequestTokens(){return wt(this,null,function*(){let e=yield this.client(this.secrets[0]),t=yield e.requestTokens({token:this.tokenSlugs[1],amount:10,to:this.secrets[0],batchId:"batch_5"});this.checkResponse(t,"testRequestTokens.1"),t=yield e.requestTokens({token:this.tokenSlugs[3],units:["unit_id_10","unit_id_11"],to:this.secrets[0],batchId:"batch_6"}),this.checkResponse(t,"testRequestTokens.2")})}testTransferToken(){return wt(this,null,function*(){let e=bn(this.secrets[1]),t,n=yield this.client(this.secrets[0]);t=yield n.transferToken({bundleHash:e,token:this.tokenSlugs[0],amount:10,batchId:"batch_1"}),this.checkResponse(t,"testTransferToken"),t=yield n.transferToken({bundleHash:e,token:this.tokenSlugs[2],units:["unit_id_1","unit_id_2"],batchId:"batch_2"}),this.checkResponse(t,"testTransferUnitToken")})}testBurnToken(){return wt(this,null,function*(){let e,t=yield this.client(this.secrets[0]);e=yield t.burnTokens({token:this.tokenSlugs[0],amount:10}),this.checkResponse(e,"testBurnToken"),e=yield t.burnTokens({token:this.tokenSlugs[2],units:["unit_id_3","unit_id_4"]}),this.checkResponse(e,"testBurnUnitToken")})}testReplenishToken(){return wt(this,null,function*(){let e,t=yield this.client(this.secrets[0]);e=yield t.replenishToken({token:this.tokenSlugs[0],amount:25}),this.checkResponse(e,"testReplenishToken"),e=yield t.replenishToken({token:this.tokenSlugs[2],amount:0,units:this.replenishTokenUnits}),this.checkResponse(e,"testReplenishUnitToken")})}testFuseToken(){return wt(this,null,function*(){let e=this.tokenSlugs[4],t=si(),n=yield this.client(t),a=new ui("fusedTokenUnitId"),i=yield this.client(this.secrets[0]),o=yield i.fuseToken({bundleHash:n.getBundle(),tokenSlug:e,newTokenUnit:a,fusedTokenUnitIds:this.fusedTokenUnitIds});this.checkResponse(o,"testFuseToken");let c=(yield n.queryBalance({token:e})).payload(),u=(yield i.queryBalance({token:e})).payload();console.assert(c.tokenUnits.length,1),console.assert(c.tokenUnits[0].id,"fusedTokenUnitId");let h=c.tokenUnits[0].getFusedTokenUnits();console.assert(h.length,this.fusedTokenUnitIds.length);let f=[];h.forEach(l=>{f.push(l[0])}),console.assert(u.tokenUnits.length,6);let d=[];u.tokenUnits.forEach(l=>{d.push(l.id)}),console.assert(d,["unit_id_6","unit_id_7","unit_id_8","unit_id_9","unit_id_10","unit_id_11"])})}testClaimShadowWallet(){return wt(this,null,function*(){let e=yield this.client(this.secrets[1]),t=yield e.queryBalance({token:this.tokenSlugs[0]}),n=yield e.claimShadowWallet({token:this.tokenSlugs[0],batchId:t.payload().batchId});this.checkResponse(n,"testClaimShadowWallet")})}testWalletBufferTransactions(){return wt(this,null,function*(){let e=yield this.client(this.secrets[0]),t={};t[this.tokenSlugs[1]]=2,t[this.tokenSlugs[3]]=1;let n=yield e.depositBufferToken({tokenSlug:this.tokenSlugs[5],amount:200,tradeRates:t});this.checkResponse(n,"testWalletBufferTransactions: depositBufferToken"),yield e.withdrawBufferToken({tokenSlug:this.tokenSlugs[5],amount:100}),this.checkResponse(n,"testWalletBufferTransactions: withdrawBufferToken")})}testQueryMeta(){return wt(this,null,function*(){let t=yield(yield this.client(this.secrets[0])).queryMeta({metaType:"metaType",metaId:"metaId"});this.checkResponse(t,"testQueryMeta")})}testQueryWallets(){return wt(this,null,function*(){let t=yield(yield this.client(this.secrets[0])).queryWallets({});this.checkResponse(t,"testQueryWallets")})}testQueryBundle(){return wt(this,null,function*(){let t=yield(yield this.client(this.secrets[0])).queryBundle({});this.checkResponse(t,"testQueryBundle")})}testQueryContinuId(){return wt(this,null,function*(){let e=bn(this.secrets[0]),n=yield(yield this.client(this.secrets[0])).queryContinuId({bundle:e});this.checkResponse(n,"testQueryContinuId")})}testQueryBalance(){return wt(this,null,function*(){let t=yield(yield this.client(this.secrets[0])).queryBalance({token:this.tokenSlugs[0]});this.checkResponse(t,"testQueryBalance")})}client(e,t="unit_test"){return wt(this,null,function*(){return this.clients[e]||(this.clients[e]=new ub({uri:this.graphqlUrl,logging:!0}),yield this.clients[e].requestAuthToken({secret:e,encrypt:this.encrypt,cellSlug:t}),this.clients[e].getAuthToken()||console.log("Error with authorize - get an empty response.")),this.clients[e]})}checkResponse(e,t){console.log(` ############### ${t} ###############`),e instanceof rn?(console.log(e),e.success()||this.debug(e),console.assert(e.success(),e)):this.debug(e)}debug(e){e.data&&ur.get(e.data()||{},"reason")?console.log(e.data().reason):console.log(e)}}return Xt.Atom=Lt,Xt.KnishIOClient=ub,Xt.Meta=Fi,Xt.Molecule=hn,Xt.Test=kh,Xt.Wallet=Zt,Xt.base64ToHex=rl,Xt.bufferToHexString=sm,Xt.charsetBaseConvert=el,Xt.chunkSubstr=Li,Xt.generateBundleHash=bn,Xt.generateSecret=si,Xt.hexStringToBuffer=fm,Xt.hexToBase64=tl,Xt.isHex=nl,Xt.randomString=Oa,Object.defineProperty(Xt,Symbol.toStringTag,{value:"Module"}),Xt}({});
//# sourceMappingURL=client.iife.js.map
